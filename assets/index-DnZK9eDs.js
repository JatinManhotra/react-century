(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function zy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ig={exports:{}},Yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function uR(){if(_T)return Yu;_T=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var c in r)c!=="key"&&(o[c]=r[c])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return Yu.Fragment=e,Yu.jsx=t,Yu.jsxs=t,Yu}var TT;function cR(){return TT||(TT=1,ig.exports=uR()),ig.exports}var b=cR(),rg={exports:{}},Ku={},sg={exports:{}},og={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function fR(){return ET||(ET=1,function(n){function e(J,fe){var Ee=J.length;J.push(fe);e:for(;0<Ee;){var ke=Ee-1>>>1,w=J[ke];if(0<r(w,fe))J[ke]=fe,J[Ee]=w,Ee=ke;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var fe=J[0],Ee=J.pop();if(Ee!==fe){J[0]=Ee;e:for(var ke=0,w=J.length,W=w>>>1;ke<W;){var oe=2*(ke+1)-1,M=J[oe],ge=oe+1,xe=J[ge];if(0>r(M,Ee))ge<w&&0>r(xe,M)?(J[ke]=xe,J[ge]=Ee,ke=ge):(J[ke]=M,J[oe]=Ee,ke=oe);else if(ge<w&&0>r(xe,Ee))J[ke]=xe,J[ge]=Ee,ke=ge;else break e}}return fe}function r(J,fe){var Ee=J.sortIndex-fe.sortIndex;return Ee!==0?Ee:J.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],d=[],y=1,T=null,E=3,C=!1,I=!1,k=!1,F=!1,U=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function re(J){for(var fe=t(d);fe!==null;){if(fe.callback===null)i(d);else if(fe.startTime<=J)i(d),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=t(d)}}function ie(J){if(k=!1,re(J),!I)if(t(h)!==null)I=!0,Y||(Y=!0,B());else{var fe=t(d);fe!==null&&me(ie,fe.startTime-J)}}var Y=!1,V=-1,D=5,N=-1;function O(){return F?!0:!(n.unstable_now()-N<D)}function z(){if(F=!1,Y){var J=n.unstable_now();N=J;var fe=!0;try{e:{I=!1,k&&(k=!1,q(V),V=-1),C=!0;var Ee=E;try{t:{for(re(J),T=t(h);T!==null&&!(T.expirationTime>J&&O());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,E=T.priorityLevel;var w=ke(T.expirationTime<=J);if(J=n.unstable_now(),typeof w=="function"){T.callback=w,re(J),fe=!0;break t}T===t(h)&&i(h),re(J)}else i(h);T=t(h)}if(T!==null)fe=!0;else{var W=t(d);W!==null&&me(ie,W.startTime-J),fe=!1}}break e}finally{T=null,E=Ee,C=!1}fe=void 0}}finally{fe?B():Y=!1}}}var B;if(typeof G=="function")B=function(){G(z)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,he=L.port2;L.port1.onmessage=z,B=function(){he.postMessage(null)}}else B=function(){U(z,0)};function me(J,fe){V=U(function(){J(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(J){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var Ee=E;E=fe;try{return J()}finally{E=Ee}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(J,fe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ee=E;E=J;try{return fe()}finally{E=Ee}},n.unstable_scheduleCallback=function(J,fe,Ee){var ke=n.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?ke+Ee:ke):Ee=ke,J){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=Ee+w,J={id:y++,callback:fe,priorityLevel:J,startTime:Ee,expirationTime:w,sortIndex:-1},Ee>ke?(J.sortIndex=Ee,e(d,J),t(h)===null&&J===t(d)&&(k?(q(V),V=-1):k=!0,me(ie,Ee-ke))):(J.sortIndex=w,e(h,J),I||C||(I=!0,Y||(Y=!0,B()))),J},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(J){var fe=E;return function(){var Ee=E;E=fe;try{return J.apply(this,arguments)}finally{E=Ee}}}}(og)),og}var xT;function dR(){return xT||(xT=1,sg.exports=fR()),sg.exports}var ag={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function hR(){if(CT)return Ke;CT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=T&&w[T]||w["@@iterator"],typeof w=="function"?w:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,k={};function F(w,W,oe){this.props=w,this.context=W,this.refs=k,this.updater=oe||C}F.prototype.isReactComponent={},F.prototype.setState=function(w,W){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,W,"setState")},F.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function U(){}U.prototype=F.prototype;function q(w,W,oe){this.props=w,this.context=W,this.refs=k,this.updater=oe||C}var G=q.prototype=new U;G.constructor=q,I(G,F.prototype),G.isPureReactComponent=!0;var re=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function V(w,W,oe,M,ge,xe){return oe=xe.ref,{$$typeof:n,type:w,key:W,ref:oe!==void 0?oe:null,props:xe}}function D(w,W){return V(w.type,W,void 0,void 0,void 0,w.props)}function N(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function O(w){var W={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(oe){return W[oe]})}var z=/\/+/g;function B(w,W){return typeof w=="object"&&w!==null&&w.key!=null?O(""+w.key):W.toString(36)}function L(){}function he(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(L,L):(w.status="pending",w.then(function(W){w.status==="pending"&&(w.status="fulfilled",w.value=W)},function(W){w.status==="pending"&&(w.status="rejected",w.reason=W)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function me(w,W,oe,M,ge){var xe=typeof w;(xe==="undefined"||xe==="boolean")&&(w=null);var Te=!1;if(w===null)Te=!0;else switch(xe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(w.$$typeof){case n:case e:Te=!0;break;case y:return Te=w._init,me(Te(w._payload),W,oe,M,ge)}}if(Te)return ge=ge(w),Te=M===""?"."+B(w,0):M,re(ge)?(oe="",Te!=null&&(oe=Te.replace(z,"$&/")+"/"),me(ge,W,oe,"",function(Ct){return Ct})):ge!=null&&(N(ge)&&(ge=D(ge,oe+(ge.key==null||w&&w.key===ge.key?"":(""+ge.key).replace(z,"$&/")+"/")+Te)),W.push(ge)),1;Te=0;var lt=M===""?".":M+":";if(re(w))for(var Ye=0;Ye<w.length;Ye++)M=w[Ye],xe=lt+B(M,Ye),Te+=me(M,W,oe,xe,ge);else if(Ye=E(w),typeof Ye=="function")for(w=Ye.call(w),Ye=0;!(M=w.next()).done;)M=M.value,xe=lt+B(M,Ye++),Te+=me(M,W,oe,xe,ge);else if(xe==="object"){if(typeof w.then=="function")return me(he(w),W,oe,M,ge);throw W=String(w),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Te}function J(w,W,oe){if(w==null)return w;var M=[],ge=0;return me(w,M,"","",function(xe){return W.call(oe,xe,ge++)}),M}function fe(w){if(w._status===-1){var W=w._result;W=W(),W.then(function(oe){(w._status===0||w._status===-1)&&(w._status=1,w._result=oe)},function(oe){(w._status===0||w._status===-1)&&(w._status=2,w._result=oe)}),w._status===-1&&(w._status=0,w._result=W)}if(w._status===1)return w._result.default;throw w._result}var Ee=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function ke(){}return Ke.Children={map:J,forEach:function(w,W,oe){J(w,function(){W.apply(this,arguments)},oe)},count:function(w){var W=0;return J(w,function(){W++}),W},toArray:function(w){return J(w,function(W){return W})||[]},only:function(w){if(!N(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Ke.Component=F,Ke.Fragment=t,Ke.Profiler=r,Ke.PureComponent=q,Ke.StrictMode=i,Ke.Suspense=h,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(w){return ie.H.useMemoCache(w)}},Ke.cache=function(w){return function(){return w.apply(null,arguments)}},Ke.cloneElement=function(w,W,oe){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var M=I({},w.props),ge=w.key,xe=void 0;if(W!=null)for(Te in W.ref!==void 0&&(xe=void 0),W.key!==void 0&&(ge=""+W.key),W)!Y.call(W,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&W.ref===void 0||(M[Te]=W[Te]);var Te=arguments.length-2;if(Te===1)M.children=oe;else if(1<Te){for(var lt=Array(Te),Ye=0;Ye<Te;Ye++)lt[Ye]=arguments[Ye+2];M.children=lt}return V(w.type,ge,void 0,void 0,xe,M)},Ke.createContext=function(w){return w={$$typeof:l,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},Ke.createElement=function(w,W,oe){var M,ge={},xe=null;if(W!=null)for(M in W.key!==void 0&&(xe=""+W.key),W)Y.call(W,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(ge[M]=W[M]);var Te=arguments.length-2;if(Te===1)ge.children=oe;else if(1<Te){for(var lt=Array(Te),Ye=0;Ye<Te;Ye++)lt[Ye]=arguments[Ye+2];ge.children=lt}if(w&&w.defaultProps)for(M in Te=w.defaultProps,Te)ge[M]===void 0&&(ge[M]=Te[M]);return V(w,xe,void 0,void 0,null,ge)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(w){return{$$typeof:c,render:w}},Ke.isValidElement=N,Ke.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:fe}},Ke.memo=function(w,W){return{$$typeof:d,type:w,compare:W===void 0?null:W}},Ke.startTransition=function(w){var W=ie.T,oe={};ie.T=oe;try{var M=w(),ge=ie.S;ge!==null&&ge(oe,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(ke,Ee)}catch(xe){Ee(xe)}finally{ie.T=W}},Ke.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Ke.use=function(w){return ie.H.use(w)},Ke.useActionState=function(w,W,oe){return ie.H.useActionState(w,W,oe)},Ke.useCallback=function(w,W){return ie.H.useCallback(w,W)},Ke.useContext=function(w){return ie.H.useContext(w)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(w,W){return ie.H.useDeferredValue(w,W)},Ke.useEffect=function(w,W,oe){var M=ie.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return M.useEffect(w,W)},Ke.useId=function(){return ie.H.useId()},Ke.useImperativeHandle=function(w,W,oe){return ie.H.useImperativeHandle(w,W,oe)},Ke.useInsertionEffect=function(w,W){return ie.H.useInsertionEffect(w,W)},Ke.useLayoutEffect=function(w,W){return ie.H.useLayoutEffect(w,W)},Ke.useMemo=function(w,W){return ie.H.useMemo(w,W)},Ke.useOptimistic=function(w,W){return ie.H.useOptimistic(w,W)},Ke.useReducer=function(w,W,oe){return ie.H.useReducer(w,W,oe)},Ke.useRef=function(w){return ie.H.useRef(w)},Ke.useState=function(w){return ie.H.useState(w)},Ke.useSyncExternalStore=function(w,W,oe){return ie.H.useSyncExternalStore(w,W,oe)},Ke.useTransition=function(){return ie.H.useTransition()},Ke.version="19.1.0",Ke}var ST;function By(){return ST||(ST=1,ag.exports=hR()),ag.exports}var lg={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function pR(){if(wT)return Sn;wT=1;var n=By();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(h,d,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:h,containerInfo:d,implementation:y}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(h,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,y)},Sn.flushSync=function(h){var d=l.T,y=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=y,i.d.f()}},Sn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Sn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Sn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var y=d.as,T=c(y,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,C=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:C}):y==="script"&&i.d.X(h,{crossOrigin:T,integrity:E,fetchPriority:C,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Sn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Sn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,T=c(y,d.crossOrigin);i.d.L(h,y,{crossOrigin:T,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Sn.preloadModule=function(h,d){if(typeof h=="string")if(d){var y=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Sn.requestFormReset=function(h){i.d.r(h)},Sn.unstable_batchedUpdates=function(h,d){return h(d)},Sn.useFormState=function(h,d,y){return l.H.useFormState(h,d,y)},Sn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Sn.version="19.1.0",Sn}var AT;function mR(){if(AT)return lg.exports;AT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lg.exports=pR(),lg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function gR(){if(bT)return Ku;bT=1;var n=dR(),e=By(),t=mR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(i(188))}function h(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var u=s,f=a;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return c(v),s;if(_===f)return c(v),a;_=_.sibling}throw Error(i(188))}if(u.return!==f.return)u=v,f=_;else{for(var A=!1,R=v.child;R;){if(R===u){A=!0,u=v,f=_;break}if(R===f){A=!0,f=v,u=_;break}R=R.sibling}if(!A){for(R=_.child;R;){if(R===u){A=!0,u=_,f=v;break}if(R===f){A=!0,f=_,u=v;break}R=R.sibling}if(!A)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var L=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===L?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case F:return"Profiler";case k:return"StrictMode";case ie:return"Suspense";case Y:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case G:return(s.displayName||"Context")+".Provider";case q:return(s._context.displayName||"Context")+".Consumer";case re:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return a=s.displayName||null,a!==null?a:he(s.type)||"Memo";case D:a=s._payload,s=s._init;try{return he(s(a))}catch{}}return null}var me=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},ke=[],w=-1;function W(s){return{current:s}}function oe(s){0>w||(s.current=ke[w],ke[w]=null,w--)}function M(s,a){w++,ke[w]=s.current,s.current=a}var ge=W(null),xe=W(null),Te=W(null),lt=W(null);function Ye(s,a){switch(M(Te,a),M(xe,s),M(ge,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?K1(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=K1(a),s=j1(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}oe(ge),M(ge,s)}function Ct(){oe(ge),oe(xe),oe(Te)}function qt(s){s.memoizedState!==null&&M(lt,s);var a=ge.current,u=j1(a,s.type);a!==u&&(M(xe,s),M(ge,u))}function Mt(s){xe.current===s&&(oe(ge),oe(xe)),lt.current===s&&(oe(lt),Bu._currentValue=Ee)}var Nn=Object.prototype.hasOwnProperty,qn=n.unstable_scheduleCallback,Mn=n.unstable_cancelCallback,is=n.unstable_shouldYield,uo=n.unstable_requestPaint,Dn=n.unstable_now,zl=n.unstable_getCurrentPriorityLevel,rs=n.unstable_ImmediatePriority,yr=n.unstable_UserBlockingPriority,vr=n.unstable_NormalPriority,Bl=n.unstable_LowPriority,ss=n.unstable_IdlePriority,co=n.log,sa=n.unstable_setDisableYieldValue,ne=null,de=null;function Ie(s){if(typeof co=="function"&&sa(s),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(ne,s)}catch{}}var Ne=Math.clz32?Math.clz32:Ln,ut=Math.log,Pn=Math.LN2;function Ln(s){return s>>>=0,s===0?32:31-(ut(s)/Pn|0)|0}var dn=256,Jn=4194304;function hn(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Gt(s,a,u){var f=s.pendingLanes;if(f===0)return 0;var v=0,_=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var R=f&134217727;return R!==0?(f=R&~_,f!==0?v=hn(f):(A&=R,A!==0?v=hn(A):u||(u=R&~s,u!==0&&(v=hn(u))))):(R=f&~_,R!==0?v=hn(R):A!==0?v=hn(A):u||(u=f&~s,u!==0&&(v=hn(u)))),v===0?0:a!==0&&a!==v&&(a&_)===0&&(_=v&-v,u=a&-a,_>=u||_===32&&(u&4194048)!==0)?a:v}function Gn(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Vn(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hl(){var s=dn;return dn<<=1,(dn&4194048)===0&&(dn=256),s}function ql(){var s=Jn;return Jn<<=1,(Jn&62914560)===0&&(Jn=4194304),s}function _r(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Tr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Gl(s,a,u,f,v,_){var A=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var R=s.entanglements,H=s.expirationTimes,Z=s.hiddenUpdates;for(u=A&~u;0<u;){var ae=31-Ne(u),ue=1<<ae;R[ae]=0,H[ae]=-1;var ee=Z[ae];if(ee!==null)for(Z[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}u&=~ue}f!==0&&Oi(s,f,0),_!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=_&~(A&~a))}function Oi(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var f=31-Ne(a);s.entangledLanes|=a,s.entanglements[f]=s.entanglements[f]|1073741824|u&4194090}function $l(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-Ne(u),v=1<<f;v&a|s[f]&a&&(s[f]|=a),u&=~v}}function os(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function oa(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function as(){var s=fe.p;return s!==0?s:(s=window.event,s===void 0?32:hT(s.type))}function Xc(s,a){var u=fe.p;try{return fe.p=s,a()}finally{fe.p=u}}var Rt=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Rt,$t="__reactProps$"+Rt,di="__reactContainer$"+Rt,Yl="__reactEvents$"+Rt,op="__reactListeners$"+Rt,ls="__reactHandles$"+Rt,Zc="__reactResources$"+Rt,fo="__reactMarker$"+Rt;function us(s){delete s[Zt],delete s[$t],delete s[Yl],delete s[op],delete s[ls]}function Er(s){var a=s[Zt];if(a)return a;for(var u=s.parentNode;u;){if(a=u[di]||u[Zt]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Z1(s);s!==null;){if(u=s[Zt])return u;s=Z1(s)}return a}s=u,u=s.parentNode}return null}function Ui(s){if(s=s[Zt]||s[di]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Fi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function On(s){var a=s[Zc];return a||(a=s[Zc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ft(s){s[fo]=!0}var Kl=new Set,aa={};function Ii(s,a){xr(s,a),xr(s+"Capture",a)}function xr(s,a){for(aa[s]=a,s=0;s<a.length;s++)Kl.add(a[s])}var Jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ef={},ho={};function tf(s){return Nn.call(ho,s)?!0:Nn.call(ef,s)?!1:Jc.test(s)?ho[s]=!0:(ef[s]=!0,!1)}function cs(s,a,u){if(tf(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function zi(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function pn(s,a,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+f)}}var po,nf;function Cr(s){if(po===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);po=a&&a[1]||"",nf=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+po+s+nf}var la=!1;function ua(s,a){if(!s||la)return"";la=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var ee=te}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(te){ee=te}s.call(ue.prototype)}}else{try{throw Error()}catch(te){ee=te}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),A=_[0],R=_[1];if(A&&R){var H=A.split(`
`),Z=R.split(`
`);for(v=f=0;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(f===H.length||v===Z.length)for(f=H.length-1,v=Z.length-1;1<=f&&0<=v&&H[f]!==Z[v];)v--;for(;1<=f&&0<=v;f--,v--)if(H[f]!==Z[v]){if(f!==1||v!==1)do if(f--,v--,0>v||H[f]!==Z[v]){var ae=`
`+H[f].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=f&&0<=v);break}}}finally{la=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Cr(u):""}function jl(s){switch(s.tag){case 26:case 27:case 5:return Cr(s.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 15:return ua(s.type,!1);case 11:return ua(s.type.render,!1);case 1:return ua(s.type,!0);case 31:return Cr("Activity");default:return""}}function ca(s){try{var a="";do a+=jl(s),s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Un(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ql(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ap(s){var a=Ql(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,_=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(A){f=""+A,_.call(this,A)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function fa(s){s._valueTracker||(s._valueTracker=ap(s))}function Wl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=Ql(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function mo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var lp=/[\n"\\]/g;function Yt(s){return s.replace(lp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ei(s,a,u,f,v,_,A,R){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Un(a)):s.value!==""+Un(a)&&(s.value=""+Un(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?fs(s,A,Un(a)):u!=null?fs(s,A,Un(u)):f!=null&&s.removeAttribute("value"),v==null&&_!=null&&(s.defaultChecked=!!_),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+Un(R):s.removeAttribute("name")}function go(s,a,u,f,v,_,A,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),a!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||a!=null))return;u=u!=null?""+Un(u):"",a=a!=null?""+Un(a):u,R||a===s.value||(s.value=a),s.defaultValue=a}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=R?s.checked:!!f,s.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function fs(s,a,u){a==="number"&&mo(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Sr(s,a,u,f){if(s=s.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=a.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Un(u),a=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,f&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function vt(s,a,u){if(a!=null&&(a=""+Un(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+Un(u):""}function yo(s,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(i(92));if(me(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=Un(a),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f)}function hi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var vo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rf(s,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":f?s.setProperty(a,u):typeof u!="number"||u===0||vo.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function Xl(s,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var v in a)f=a[v],a.hasOwnProperty(v)&&u[v]!==f&&rf(s,v,f)}else for(var _ in a)a.hasOwnProperty(_)&&rf(s,_,a[_])}function Zl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(s){return cp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var wr=null;function pi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ar=null,br=null;function Jl(s){var a=Ui(s);if(a&&(s=a.stateNode)){var u=s[$t]||null;e:switch(s=a.stateNode,a.type){case"input":if(ei(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Yt(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var v=f[$t]||null;if(!v)throw Error(i(90));ei(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===s.form&&Wl(f)}break e;case"textarea":vt(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Sr(s,!!u.multiple,a,!1)}}}var Bi=!1;function sf(s,a,u){if(Bi)return s(a,u);Bi=!0;try{var f=s(a);return f}finally{if(Bi=!1,(Ar!==null||br!==null)&&(Zf(),Ar&&(a=Ar,s=br,br=Ar=null,Jl(a),s)))for(a=0;a<s.length;a++)Jl(s[a])}}function _o(s,a){var u=s.stateNode;if(u===null)return null;var f=u[$t]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mi=!1;if(Ri)try{var To={};Object.defineProperty(To,"passive",{get:function(){mi=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{mi=!1}var Hi=null,ds=null,Ir=null;function eu(){if(Ir)return Ir;var s,a=ds,u=a.length,f,v="value"in Hi?Hi.value:Hi.textContent,_=v.length;for(s=0;s<u&&a[s]===v[s];s++);var A=u-s;for(f=1;f<=A&&a[u-f]===v[_-f];f++);return Ir=v.slice(s,1<f?1-f:void 0)}function qi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Gi(){return!0}function tu(){return!1}function on(s){function a(u,f,v,_,A){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(u=s[R],this[R]=u?u(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Gi:tu,this.isPropagationStopped=tu,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),a}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=on(pt),Eo=y({},pt,{view:0,detail:0}),of=on(Eo),pa,ma,$i,xo=y({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$i&&($i&&s.type==="mousemove"?(pa=s.screenX-$i.screenX,ma=s.screenY-$i.screenY):ma=pa=0,$i=s),pa)},movementY:function(s){return"movementY"in s?s.movementY:ma}}),gi=on(xo),af=y({},xo,{dataTransfer:0}),fp=on(af),Co=y({},Eo,{relatedTarget:0}),ga=on(Co),nu=y({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),ya=on(nu),lf=y({},pt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),va=on(lf),dp=y({},pt,{data:0}),iu=on(dp),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=cf[s])?!!a[s]:!1}function wo(){return ru}var ff=y({},Eo,{key:function(s){if(s.key){var a=So[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=qi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?uf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(s){return s.type==="keypress"?qi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_a=on(ff),df=y({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=on(df),Rr=y({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),hf=on(Rr),pf=y({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),mf=on(pf),gf=y({},xo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=on(gf),Fn=y({},pt,{newState:0,oldState:0}),yf=on(Fn),vf=[9,13,27,32],Yi=Ri&&"CompositionEvent"in window,g=null;Ri&&"documentMode"in document&&(g=document.documentMode);var x=Ri&&"TextEvent"in window&&!g,S=Ri&&(!Yi||g&&8<g&&11>=g),P=" ",Q=!1;function se(s,a){switch(s){case"keyup":return vf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var rt=!1;function Jt(s,a){switch(s){case"compositionend":return _e(a);case"keypress":return a.which!==32?null:(Q=!0,P);case"textInput":return s=a.data,s===P&&Q?null:s;default:return null}}function st(s,a){if(rt)return s==="compositionend"||!Yi&&se(s,a)?(s=eu(),Ir=ds=Hi=null,rt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var an={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!an[s.type]:a==="textarea"}function kr(s,a,u,f){Ar?br?br.push(f):br=[f]:Ar=f,a=rd(a,"onChange"),0<a.length&&(u=new ha("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var mn=null,Ki=null;function ou(s){H1(s,0)}function _f(s){var a=Fi(s);if(Wl(a))return s}function u0(s,a){if(s==="change")return a}var c0=!1;if(Ri){var hp;if(Ri){var pp="oninput"in document;if(!pp){var f0=document.createElement("div");f0.setAttribute("oninput","return;"),pp=typeof f0.oninput=="function"}hp=pp}else hp=!1;c0=hp&&(!document.documentMode||9<document.documentMode)}function d0(){mn&&(mn.detachEvent("onpropertychange",h0),Ki=mn=null)}function h0(s){if(s.propertyName==="value"&&_f(Ki)){var a=[];kr(a,Ki,s,pi(s)),sf(ou,a)}}function Fb(s,a,u){s==="focusin"?(d0(),mn=a,Ki=u,mn.attachEvent("onpropertychange",h0)):s==="focusout"&&d0()}function zb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _f(Ki)}function Bb(s,a){if(s==="click")return _f(a)}function Hb(s,a){if(s==="input"||s==="change")return _f(a)}function qb(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ti=typeof Object.is=="function"?Object.is:qb;function au(s,a){if(ti(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!Nn.call(a,v)||!ti(s[v],a[v]))return!1}return!0}function p0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function m0(s,a){var u=p0(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=p0(u)}}function g0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?g0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function y0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=mo(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=mo(s.document)}return a}function mp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Gb=Ri&&"documentMode"in document&&11>=document.documentMode,Ea=null,gp=null,lu=null,yp=!1;function v0(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;yp||Ea==null||Ea!==mo(f)||(f=Ea,"selectionStart"in f&&mp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),lu&&au(lu,f)||(lu=f,f=rd(gp,"onSelect"),0<f.length&&(a=new ha("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Ea)))}function Ao(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var xa={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionrun:Ao("Transition","TransitionRun"),transitionstart:Ao("Transition","TransitionStart"),transitioncancel:Ao("Transition","TransitionCancel"),transitionend:Ao("Transition","TransitionEnd")},vp={},_0={};Ri&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function bo(s){if(vp[s])return vp[s];if(!xa[s])return s;var a=xa[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in _0)return vp[s]=a[u];return s}var T0=bo("animationend"),E0=bo("animationiteration"),x0=bo("animationstart"),$b=bo("transitionrun"),Yb=bo("transitionstart"),Kb=bo("transitioncancel"),C0=bo("transitionend"),S0=new Map,_p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_p.push("scrollEnd");function ki(s,a){S0.set(s,a),Ii(a,[s])}var w0=new WeakMap;function yi(s,a){if(typeof s=="object"&&s!==null){var u=w0.get(s);return u!==void 0?u:(a={value:s,source:a,stack:ca(a)},w0.set(s,a),a)}return{value:s,source:a,stack:ca(a)}}var vi=[],Ca=0,Tp=0;function Tf(){for(var s=Ca,a=Tp=Ca=0;a<s;){var u=vi[a];vi[a++]=null;var f=vi[a];vi[a++]=null;var v=vi[a];vi[a++]=null;var _=vi[a];if(vi[a++]=null,f!==null&&v!==null){var A=f.pending;A===null?v.next=v:(v.next=A.next,A.next=v),f.pending=v}_!==0&&A0(u,v,_)}}function Ef(s,a,u,f){vi[Ca++]=s,vi[Ca++]=a,vi[Ca++]=u,vi[Ca++]=f,Tp|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Ep(s,a,u,f){return Ef(s,a,u,f),xf(s)}function Sa(s,a){return Ef(s,null,null,a),xf(s)}function A0(s,a,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var v=!1,_=s.return;_!==null;)_.childLanes|=u,f=_.alternate,f!==null&&(f.childLanes|=u),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(v=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,v&&a!==null&&(v=31-Ne(u),s=_.hiddenUpdates,f=s[v],f===null?s[v]=[a]:f.push(a),a.lane=u|536870912),_):null}function xf(s){if(50<Du)throw Du=0,bm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var wa={};function jb(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(s,a,u,f){return new jb(s,a,u,f)}function xp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Nr(s,a){var u=s.alternate;return u===null?(u=ni(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function b0(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Cf(s,a,u,f,v,_){var A=0;if(f=s,typeof s=="function")xp(s)&&(A=1);else if(typeof s=="string")A=WI(s,u,ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=ni(31,u,a,v),s.elementType=N,s.lanes=_,s;case I:return Io(u.children,v,_,a);case k:A=8,v|=24;break;case F:return s=ni(12,u,a,v|2),s.elementType=F,s.lanes=_,s;case ie:return s=ni(13,u,a,v),s.elementType=ie,s.lanes=_,s;case Y:return s=ni(19,u,a,v),s.elementType=Y,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:case G:A=10;break e;case q:A=9;break e;case re:A=11;break e;case V:A=14;break e;case D:A=16,f=null;break e}A=29,u=Error(i(130,s===null?"null":typeof s,"")),f=null}return a=ni(A,u,a,v),a.elementType=s,a.type=f,a.lanes=_,a}function Io(s,a,u,f){return s=ni(7,s,f,a),s.lanes=u,s}function Cp(s,a,u){return s=ni(6,s,null,a),s.lanes=u,s}function Sp(s,a,u){return a=ni(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Aa=[],ba=0,Sf=null,wf=0,_i=[],Ti=0,Ro=null,Mr=1,Dr="";function ko(s,a){Aa[ba++]=wf,Aa[ba++]=Sf,Sf=s,wf=a}function I0(s,a,u){_i[Ti++]=Mr,_i[Ti++]=Dr,_i[Ti++]=Ro,Ro=s;var f=Mr;s=Dr;var v=32-Ne(f)-1;f&=~(1<<v),u+=1;var _=32-Ne(a)+v;if(30<_){var A=v-v%5;_=(f&(1<<A)-1).toString(32),f>>=A,v-=A,Mr=1<<32-Ne(a)+v|u<<v|f,Dr=_+s}else Mr=1<<_|u<<v|f,Dr=s}function wp(s){s.return!==null&&(ko(s,1),I0(s,1,0))}function Ap(s){for(;s===Sf;)Sf=Aa[--ba],Aa[ba]=null,wf=Aa[--ba],Aa[ba]=null;for(;s===Ro;)Ro=_i[--Ti],_i[Ti]=null,Dr=_i[--Ti],_i[Ti]=null,Mr=_i[--Ti],_i[Ti]=null}var zn=null,Lt=null,dt=!1,No=null,ji=!1,bp=Error(i(519));function Mo(s){var a=Error(i(418,""));throw fu(yi(a,s)),bp}function R0(s){var a=s.stateNode,u=s.type,f=s.memoizedProps;switch(a[Zt]=s,a[$t]=f,u){case"dialog":et("cancel",a),et("close",a);break;case"iframe":case"object":case"embed":et("load",a);break;case"video":case"audio":for(u=0;u<Lu.length;u++)et(Lu[u],a);break;case"source":et("error",a);break;case"img":case"image":case"link":et("error",a),et("load",a);break;case"details":et("toggle",a);break;case"input":et("invalid",a),go(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),fa(a);break;case"select":et("invalid",a);break;case"textarea":et("invalid",a),yo(a,f.value,f.defaultValue,f.children),fa(a)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||Y1(a.textContent,u)?(f.popover!=null&&(et("beforetoggle",a),et("toggle",a)),f.onScroll!=null&&et("scroll",a),f.onScrollEnd!=null&&et("scrollend",a),f.onClick!=null&&(a.onclick=sd),a=!0):a=!1,a||Mo(s)}function k0(s){for(zn=s.return;zn;)switch(zn.tag){case 5:case 13:ji=!1;return;case 27:case 3:ji=!0;return;default:zn=zn.return}}function uu(s){if(s!==zn)return!1;if(!dt)return k0(s),dt=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||qm(s.type,s.memoizedProps)),u=!u),u&&Lt&&Mo(s),k0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(a===0){Lt=Mi(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;s=s.nextSibling}Lt=null}}else a===27?(a=Lt,Is(s.type)?(s=Km,Km=null,Lt=s):Lt=a):Lt=zn?Mi(s.stateNode.nextSibling):null;return!0}function cu(){Lt=zn=null,dt=!1}function N0(){var s=No;return s!==null&&(Kn===null?Kn=s:Kn.push.apply(Kn,s),No=null),s}function fu(s){No===null?No=[s]:No.push(s)}var Ip=W(null),Do=null,Pr=null;function hs(s,a,u){M(Ip,a._currentValue),a._currentValue=u}function Lr(s){s._currentValue=Ip.current,oe(Ip)}function Rp(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function kp(s,a,u,f){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var _=v.dependencies;if(_!==null){var A=v.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=v;for(var H=0;H<a.length;H++)if(R.context===a[H]){_.lanes|=u,R=_.alternate,R!==null&&(R.lanes|=u),Rp(_.return,u,s),f||(A=null);break e}_=R.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(i(341));A.lanes|=u,_=A.alternate,_!==null&&(_.lanes|=u),Rp(A,u,s),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===s){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function du(s,a,u,f){s=null;for(var v=a,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var R=v.type;ti(v.pendingProps.value,A.value)||(s!==null?s.push(R):s=[R])}}else if(v===lt.current){if(A=v.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Bu):s=[Bu])}v=v.return}s!==null&&kp(a,s,u,f),a.flags|=262144}function Af(s){for(s=s.firstContext;s!==null;){if(!ti(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Po(s){Do=s,Pr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Cn(s){return M0(Do,s)}function bf(s,a){return Do===null&&Po(s),M0(s,a)}function M0(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Pr===null){if(s===null)throw Error(i(308));Pr=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Pr=Pr.next=a;return u}var Qb=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},Wb=n.unstable_scheduleCallback,Xb=n.unstable_NormalPriority,tn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Np(){return{controller:new Qb,data:new Map,refCount:0}}function hu(s){s.refCount--,s.refCount===0&&Wb(Xb,function(){s.controller.abort()})}var pu=null,Mp=0,Ia=0,Ra=null;function Zb(s,a){if(pu===null){var u=pu=[];Mp=0,Ia=Pm(),Ra={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Mp++,a.then(D0,D0),a}function D0(){if(--Mp===0&&pu!==null){Ra!==null&&(Ra.status="fulfilled");var s=pu;pu=null,Ia=0,Ra=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Jb(s,a){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return s.then(function(){f.status="fulfilled",f.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var P0=J.S;J.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Zb(s,a),P0!==null&&P0(s,a)};var Lo=W(null);function Dp(){var s=Lo.current;return s!==null?s:St.pooledCache}function If(s,a){a===null?M(Lo,Lo.current):M(Lo,a.pool)}function L0(){var s=Dp();return s===null?null:{parent:tn._currentValue,pool:s}}var mu=Error(i(460)),V0=Error(i(474)),Rf=Error(i(542)),Pp={then:function(){}};function O0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function kf(){}function U0(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(kf,kf),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,z0(s),s;default:if(typeof a.status=="string")a.then(kf,kf);else{if(s=St,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(f){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=f}},function(f){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,z0(s),s}throw gu=a,mu}}var gu=null;function F0(){if(gu===null)throw Error(i(459));var s=gu;return gu=null,s}function z0(s){if(s===mu||s===Rf)throw Error(i(483))}var ps=!1;function Lp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ms(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function gs(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(gt&2)!==0){var v=f.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a,a=xf(s),A0(s,null,u),a}return Ef(s,f,a,u),xf(s)}function yu(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,$l(s,u)}}function Op(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=A:_=_.next=A,u=u.next}while(u!==null);_===null?v=_=a:_=_.next=a}else v=_=a;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var Up=!1;function vu(){if(Up){var s=Ra;if(s!==null)throw s}}function _u(s,a,u,f){Up=!1;var v=s.updateQueue;ps=!1;var _=v.firstBaseUpdate,A=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var H=R,Z=H.next;H.next=null,A===null?_=Z:A.next=Z,A=H;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,R=ae.lastBaseUpdate,R!==A&&(R===null?ae.firstBaseUpdate=Z:R.next=Z,ae.lastBaseUpdate=H))}if(_!==null){var ue=v.baseState;A=0,ae=Z=H=null,R=_;do{var ee=R.lane&-536870913,te=ee!==R.lane;if(te?(ot&ee)===ee:(f&ee)===ee){ee!==0&&ee===Ia&&(Up=!0),ae!==null&&(ae=ae.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Oe=s,De=R;ee=a;var Et=u;switch(De.tag){case 1:if(Oe=De.payload,typeof Oe=="function"){ue=Oe.call(Et,ue,ee);break e}ue=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=De.payload,ee=typeof Oe=="function"?Oe.call(Et,ue,ee):Oe,ee==null)break e;ue=y({},ue,ee);break e;case 2:ps=!0}}ee=R.callback,ee!==null&&(s.flags|=64,te&&(s.flags|=8192),te=v.callbacks,te===null?v.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ae===null?(Z=ae=te,H=ue):ae=ae.next=te,A|=ee;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;te=R,R=te.next,te.next=null,v.lastBaseUpdate=te,v.shared.pending=null}}while(!0);ae===null&&(H=ue),v.baseState=H,v.firstBaseUpdate=Z,v.lastBaseUpdate=ae,_===null&&(v.shared.lanes=0),Ss|=A,s.lanes=A,s.memoizedState=ue}}function B0(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function H0(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)B0(u[s],a)}var ka=W(null),Nf=W(0);function q0(s,a){s=Hr,M(Nf,s),M(ka,a),Hr=s|a.baseLanes}function Fp(){M(Nf,Hr),M(ka,ka.current)}function zp(){Hr=Nf.current,oe(ka),oe(Nf)}var ys=0,We=null,_t=null,Kt=null,Mf=!1,Na=!1,Vo=!1,Df=0,Tu=0,Ma=null,eI=0;function zt(){throw Error(i(321))}function Bp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!ti(s[u],a[u]))return!1;return!0}function Hp(s,a,u,f,v,_){return ys=_,We=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,J.H=s===null||s.memoizedState===null?A_:b_,Vo=!1,_=u(f,v),Vo=!1,Na&&(_=$0(a,u,f,v)),G0(s),_}function G0(s){J.H=Ff;var a=_t!==null&&_t.next!==null;if(ys=0,Kt=_t=We=null,Mf=!1,Tu=0,Ma=null,a)throw Error(i(300));s===null||ln||(s=s.dependencies,s!==null&&Af(s)&&(ln=!0))}function $0(s,a,u,f){We=s;var v=0;do{if(Na&&(Ma=null),Tu=0,Na=!1,25<=v)throw Error(i(301));if(v+=1,Kt=_t=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}J.H=aI,_=a(u,f)}while(Na);return _}function tI(){var s=J.H,a=s.useState()[0];return a=typeof a.then=="function"?Eu(a):a,s=s.useState()[0],(_t!==null?_t.memoizedState:null)!==s&&(We.flags|=1024),a}function qp(){var s=Df!==0;return Df=0,s}function Gp(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function $p(s){if(Mf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Mf=!1}ys=0,Kt=_t=We=null,Na=!1,Tu=Df=0,Ma=null}function $n(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?We.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function jt(){if(_t===null){var s=We.alternate;s=s!==null?s.memoizedState:null}else s=_t.next;var a=Kt===null?We.memoizedState:Kt.next;if(a!==null)Kt=a,_t=s;else{if(s===null)throw We.alternate===null?Error(i(467)):Error(i(310));_t=s,s={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Kt===null?We.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function Yp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(s){var a=Tu;return Tu+=1,Ma===null&&(Ma=[]),s=U0(Ma,s,a),a=We,(Kt===null?a.memoizedState:Kt.next)===null&&(a=a.alternate,J.H=a===null||a.memoizedState===null?A_:b_),s}function Pf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Eu(s);if(s.$$typeof===G)return Cn(s)}throw Error(i(438,String(s)))}function Kp(s){var a=null,u=We.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=We.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Yp(),We.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),f=0;f<s;f++)u[f]=O;return a.index++,u}function Vr(s,a){return typeof a=="function"?a(s):a}function Lf(s){var a=jt();return jp(a,_t,s)}function jp(s,a,u){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var v=s.baseQueue,_=f.pending;if(_!==null){if(v!==null){var A=v.next;v.next=_.next,_.next=A}a.baseQueue=v=_,f.pending=null}if(_=s.baseState,v===null)s.memoizedState=_;else{a=v.next;var R=A=null,H=null,Z=a,ae=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(ot&ue)===ue:(ys&ue)===ue){var ee=Z.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===Ia&&(ae=!0);else if((ys&ee)===ee){Z=Z.next,ee===Ia&&(ae=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(R=H=ue,A=_):H=H.next=ue,We.lanes|=ee,Ss|=ee;ue=Z.action,Vo&&u(_,ue),_=Z.hasEagerState?Z.eagerState:u(_,ue)}else ee={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(R=H=ee,A=_):H=H.next=ee,We.lanes|=ue,Ss|=ue;Z=Z.next}while(Z!==null&&Z!==a);if(H===null?A=_:H.next=R,!ti(_,s.memoizedState)&&(ln=!0,ae&&(u=Ra,u!==null)))throw u;s.memoizedState=_,s.baseState=A,s.baseQueue=H,f.lastRenderedState=_}return v===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function Qp(s){var a=jt(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var f=u.dispatch,v=u.pending,_=a.memoizedState;if(v!==null){u.pending=null;var A=v=v.next;do _=s(_,A.action),A=A.next;while(A!==v);ti(_,a.memoizedState)||(ln=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,f]}function Y0(s,a,u){var f=We,v=jt(),_=dt;if(_){if(u===void 0)throw Error(i(407));u=u()}else u=a();var A=!ti((_t||v).memoizedState,u);A&&(v.memoizedState=u,ln=!0),v=v.queue;var R=Q0.bind(null,f,v,s);if(xu(2048,8,R,[s]),v.getSnapshot!==a||A||Kt!==null&&Kt.memoizedState.tag&1){if(f.flags|=2048,Da(9,Vf(),j0.bind(null,f,v,u,a),null),St===null)throw Error(i(349));_||(ys&124)!==0||K0(f,a,u)}return u}function K0(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=We.updateQueue,a===null?(a=Yp(),We.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function j0(s,a,u,f){a.value=u,a.getSnapshot=f,W0(a)&&X0(s)}function Q0(s,a,u){return u(function(){W0(a)&&X0(s)})}function W0(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!ti(s,u)}catch{return!0}}function X0(s){var a=Sa(s,2);a!==null&&ai(a,s,2)}function Wp(s){var a=$n();if(typeof s=="function"){var u=s;if(s=u(),Vo){Ie(!0);try{u()}finally{Ie(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:s},a}function Z0(s,a,u,f){return s.baseState=u,jp(s,_t,typeof f=="function"?f:Vr)}function nI(s,a,u,f,v){if(Uf(s))throw Error(i(485));if(s=a.action,s!==null){var _={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};J.T!==null?u(!0):_.isTransition=!1,f(_),u=a.pending,u===null?(_.next=a.pending=_,J0(a,_)):(_.next=u.next,a.pending=u.next=_)}}function J0(s,a){var u=a.action,f=a.payload,v=s.state;if(a.isTransition){var _=J.T,A={};J.T=A;try{var R=u(v,f),H=J.S;H!==null&&H(A,R),e_(s,a,R)}catch(Z){Xp(s,a,Z)}finally{J.T=_}}else try{_=u(v,f),e_(s,a,_)}catch(Z){Xp(s,a,Z)}}function e_(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){t_(s,a,f)},function(f){return Xp(s,a,f)}):t_(s,a,u)}function t_(s,a,u){a.status="fulfilled",a.value=u,n_(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,J0(s,u)))}function Xp(s,a,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,n_(a),a=a.next;while(a!==f)}s.action=null}function n_(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function i_(s,a){return a}function r_(s,a){if(dt){var u=St.formState;if(u!==null){e:{var f=We;if(dt){if(Lt){t:{for(var v=Lt,_=ji;v.nodeType!==8;){if(!_){v=null;break t}if(v=Mi(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Lt=Mi(v.nextSibling),f=v.data==="F!";break e}}Mo(f)}f=!1}f&&(a=u[0])}}return u=$n(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:a},u.queue=f,u=C_.bind(null,We,f),f.dispatch=u,f=Wp(!1),_=nm.bind(null,We,!1,f.queue),f=$n(),v={state:a,dispatch:null,action:s,pending:null},f.queue=v,u=nI.bind(null,We,v,_,u),v.dispatch=u,f.memoizedState=s,[a,u,!1]}function s_(s){var a=jt();return o_(a,_t,s)}function o_(s,a,u){if(a=jp(s,a,i_)[0],s=Lf(Vr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Eu(a)}catch(A){throw A===mu?Rf:A}else f=a;a=jt();var v=a.queue,_=v.dispatch;return u!==a.memoizedState&&(We.flags|=2048,Da(9,Vf(),iI.bind(null,v,u),null)),[f,_,s]}function iI(s,a){s.action=a}function a_(s){var a=jt(),u=_t;if(u!==null)return o_(a,u,s);jt(),a=a.memoizedState,u=jt();var f=u.queue.dispatch;return u.memoizedState=s,[a,f,!1]}function Da(s,a,u,f){return s={tag:s,create:u,deps:f,inst:a,next:null},a=We.updateQueue,a===null&&(a=Yp(),We.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s),s}function Vf(){return{destroy:void 0,resource:void 0}}function l_(){return jt().memoizedState}function Of(s,a,u,f){var v=$n();f=f===void 0?null:f,We.flags|=s,v.memoizedState=Da(1|a,Vf(),u,f)}function xu(s,a,u,f){var v=jt();f=f===void 0?null:f;var _=v.memoizedState.inst;_t!==null&&f!==null&&Bp(f,_t.memoizedState.deps)?v.memoizedState=Da(a,_,u,f):(We.flags|=s,v.memoizedState=Da(1|a,_,u,f))}function u_(s,a){Of(8390656,8,s,a)}function c_(s,a){xu(2048,8,s,a)}function f_(s,a){return xu(4,2,s,a)}function d_(s,a){return xu(4,4,s,a)}function h_(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function p_(s,a,u){u=u!=null?u.concat([s]):null,xu(4,4,h_.bind(null,a,s),u)}function Zp(){}function m_(s,a){var u=jt();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&Bp(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function g_(s,a){var u=jt();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&Bp(a,f[1]))return f[0];if(f=s(),Vo){Ie(!0);try{s()}finally{Ie(!1)}}return u.memoizedState=[f,a],f}function Jp(s,a,u){return u===void 0||(ys&1073741824)!==0?s.memoizedState=a:(s.memoizedState=u,s=_1(),We.lanes|=s,Ss|=s,u)}function y_(s,a,u,f){return ti(u,a)?u:ka.current!==null?(s=Jp(s,u,f),ti(s,a)||(ln=!0),s):(ys&42)===0?(ln=!0,s.memoizedState=u):(s=_1(),We.lanes|=s,Ss|=s,a)}function v_(s,a,u,f,v){var _=fe.p;fe.p=_!==0&&8>_?_:8;var A=J.T,R={};J.T=R,nm(s,!1,a,u);try{var H=v(),Z=J.S;if(Z!==null&&Z(R,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=Jb(H,f);Cu(s,a,ae,oi(s))}else Cu(s,a,f,oi(s))}catch(ue){Cu(s,a,{then:function(){},status:"rejected",reason:ue},oi())}finally{fe.p=_,J.T=A}}function rI(){}function em(s,a,u,f){if(s.tag!==5)throw Error(i(476));var v=__(s).queue;v_(s,v,a,Ee,u===null?rI:function(){return T_(s),u(f)})}function __(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:Ee},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function T_(s){var a=__(s).next.queue;Cu(s,a,{},oi())}function tm(){return Cn(Bu)}function E_(){return jt().memoizedState}function x_(){return jt().memoizedState}function sI(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=oi();s=ms(u);var f=gs(a,s,u);f!==null&&(ai(f,a,u),yu(f,a,u)),a={cache:Np()},s.payload=a;return}a=a.return}}function oI(s,a,u){var f=oi();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Uf(s)?S_(a,u):(u=Ep(s,a,u,f),u!==null&&(ai(u,s,f),w_(u,a,f)))}function C_(s,a,u){var f=oi();Cu(s,a,u,f)}function Cu(s,a,u,f){var v={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Uf(s))S_(a,v);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var A=a.lastRenderedState,R=_(A,u);if(v.hasEagerState=!0,v.eagerState=R,ti(R,A))return Ef(s,a,v,0),St===null&&Tf(),!1}catch{}finally{}if(u=Ep(s,a,v,f),u!==null)return ai(u,s,f),w_(u,a,f),!0}return!1}function nm(s,a,u,f){if(f={lane:2,revertLane:Pm(),action:f,hasEagerState:!1,eagerState:null,next:null},Uf(s)){if(a)throw Error(i(479))}else a=Ep(s,u,f,2),a!==null&&ai(a,s,2)}function Uf(s){var a=s.alternate;return s===We||a!==null&&a===We}function S_(s,a){Na=Mf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function w_(s,a,u){if((u&4194048)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,$l(s,u)}}var Ff={readContext:Cn,use:Pf,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},A_={readContext:Cn,use:Pf,useCallback:function(s,a){return $n().memoizedState=[s,a===void 0?null:a],s},useContext:Cn,useEffect:u_,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Of(4194308,4,h_.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Of(4194308,4,s,a)},useInsertionEffect:function(s,a){Of(4,2,s,a)},useMemo:function(s,a){var u=$n();a=a===void 0?null:a;var f=s();if(Vo){Ie(!0);try{s()}finally{Ie(!1)}}return u.memoizedState=[f,a],f},useReducer:function(s,a,u){var f=$n();if(u!==void 0){var v=u(a);if(Vo){Ie(!0);try{u(a)}finally{Ie(!1)}}}else v=a;return f.memoizedState=f.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},f.queue=s,s=s.dispatch=oI.bind(null,We,s),[f.memoizedState,s]},useRef:function(s){var a=$n();return s={current:s},a.memoizedState=s},useState:function(s){s=Wp(s);var a=s.queue,u=C_.bind(null,We,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Zp,useDeferredValue:function(s,a){var u=$n();return Jp(u,s,a)},useTransition:function(){var s=Wp(!1);return s=v_.bind(null,We,s.queue,!0,!1),$n().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var f=We,v=$n();if(dt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),St===null)throw Error(i(349));(ot&124)!==0||K0(f,a,u)}v.memoizedState=u;var _={value:u,getSnapshot:a};return v.queue=_,u_(Q0.bind(null,f,_,s),[s]),f.flags|=2048,Da(9,Vf(),j0.bind(null,f,_,u,a),null),u},useId:function(){var s=$n(),a=St.identifierPrefix;if(dt){var u=Dr,f=Mr;u=(f&~(1<<32-Ne(f)-1)).toString(32)+u,a=""+a+"R"+u,u=Df++,0<u&&(a+="H"+u.toString(32)),a+=""}else u=eI++,a=""+a+"r"+u.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:tm,useFormState:r_,useActionState:r_,useOptimistic:function(s){var a=$n();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=nm.bind(null,We,!0,u),u.dispatch=a,[s,a]},useMemoCache:Kp,useCacheRefresh:function(){return $n().memoizedState=sI.bind(null,We)}},b_={readContext:Cn,use:Pf,useCallback:m_,useContext:Cn,useEffect:c_,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:g_,useReducer:Lf,useRef:l_,useState:function(){return Lf(Vr)},useDebugValue:Zp,useDeferredValue:function(s,a){var u=jt();return y_(u,_t.memoizedState,s,a)},useTransition:function(){var s=Lf(Vr)[0],a=jt().memoizedState;return[typeof s=="boolean"?s:Eu(s),a]},useSyncExternalStore:Y0,useId:E_,useHostTransitionStatus:tm,useFormState:s_,useActionState:s_,useOptimistic:function(s,a){var u=jt();return Z0(u,_t,s,a)},useMemoCache:Kp,useCacheRefresh:x_},aI={readContext:Cn,use:Pf,useCallback:m_,useContext:Cn,useEffect:c_,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:g_,useReducer:Qp,useRef:l_,useState:function(){return Qp(Vr)},useDebugValue:Zp,useDeferredValue:function(s,a){var u=jt();return _t===null?Jp(u,s,a):y_(u,_t.memoizedState,s,a)},useTransition:function(){var s=Qp(Vr)[0],a=jt().memoizedState;return[typeof s=="boolean"?s:Eu(s),a]},useSyncExternalStore:Y0,useId:E_,useHostTransitionStatus:tm,useFormState:a_,useActionState:a_,useOptimistic:function(s,a){var u=jt();return _t!==null?Z0(u,_t,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Kp,useCacheRefresh:x_},Pa=null,Su=0;function zf(s){var a=Su;return Su+=1,Pa===null&&(Pa=[]),U0(Pa,s,a)}function wu(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Bf(s,a){throw a.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function I_(s){var a=s._init;return a(s._payload)}function R_(s){function a(j,$){if(s){var X=j.deletions;X===null?(j.deletions=[$],j.flags|=16):X.push($)}}function u(j,$){if(!s)return null;for(;$!==null;)a(j,$),$=$.sibling;return null}function f(j){for(var $=new Map;j!==null;)j.key!==null?$.set(j.key,j):$.set(j.index,j),j=j.sibling;return $}function v(j,$){return j=Nr(j,$),j.index=0,j.sibling=null,j}function _(j,$,X){return j.index=X,s?(X=j.alternate,X!==null?(X=X.index,X<$?(j.flags|=67108866,$):X):(j.flags|=67108866,$)):(j.flags|=1048576,$)}function A(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function R(j,$,X,le){return $===null||$.tag!==6?($=Cp(X,j.mode,le),$.return=j,$):($=v($,X),$.return=j,$)}function H(j,$,X,le){var we=X.type;return we===I?ae(j,$,X.props.children,le,X.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===D&&I_(we)===$.type)?($=v($,X.props),wu($,X),$.return=j,$):($=Cf(X.type,X.key,X.props,null,j.mode,le),wu($,X),$.return=j,$)}function Z(j,$,X,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==X.containerInfo||$.stateNode.implementation!==X.implementation?($=Sp(X,j.mode,le),$.return=j,$):($=v($,X.children||[]),$.return=j,$)}function ae(j,$,X,le,we){return $===null||$.tag!==7?($=Io(X,j.mode,le,we),$.return=j,$):($=v($,X),$.return=j,$)}function ue(j,$,X){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Cp(""+$,j.mode,X),$.return=j,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return X=Cf($.type,$.key,$.props,null,j.mode,X),wu(X,$),X.return=j,X;case C:return $=Sp($,j.mode,X),$.return=j,$;case D:var le=$._init;return $=le($._payload),ue(j,$,X)}if(me($)||B($))return $=Io($,j.mode,X,null),$.return=j,$;if(typeof $.then=="function")return ue(j,zf($),X);if($.$$typeof===G)return ue(j,bf(j,$),X);Bf(j,$)}return null}function ee(j,$,X,le){var we=$!==null?$.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return we!==null?null:R(j,$,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===we?H(j,$,X,le):null;case C:return X.key===we?Z(j,$,X,le):null;case D:return we=X._init,X=we(X._payload),ee(j,$,X,le)}if(me(X)||B(X))return we!==null?null:ae(j,$,X,le,null);if(typeof X.then=="function")return ee(j,$,zf(X),le);if(X.$$typeof===G)return ee(j,$,bf(j,X),le);Bf(j,X)}return null}function te(j,$,X,le,we){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return j=j.get(X)||null,R($,j,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case E:return j=j.get(le.key===null?X:le.key)||null,H($,j,le,we);case C:return j=j.get(le.key===null?X:le.key)||null,Z($,j,le,we);case D:var Ze=le._init;return le=Ze(le._payload),te(j,$,X,le,we)}if(me(le)||B(le))return j=j.get(X)||null,ae($,j,le,we,null);if(typeof le.then=="function")return te(j,$,X,zf(le),we);if(le.$$typeof===G)return te(j,$,X,bf($,le),we);Bf($,le)}return null}function Oe(j,$,X,le){for(var we=null,Ze=null,Re=$,Le=$=0,cn=null;Re!==null&&Le<X.length;Le++){Re.index>Le?(cn=Re,Re=null):cn=Re.sibling;var ct=ee(j,Re,X[Le],le);if(ct===null){Re===null&&(Re=cn);break}s&&Re&&ct.alternate===null&&a(j,Re),$=_(ct,$,Le),Ze===null?we=ct:Ze.sibling=ct,Ze=ct,Re=cn}if(Le===X.length)return u(j,Re),dt&&ko(j,Le),we;if(Re===null){for(;Le<X.length;Le++)Re=ue(j,X[Le],le),Re!==null&&($=_(Re,$,Le),Ze===null?we=Re:Ze.sibling=Re,Ze=Re);return dt&&ko(j,Le),we}for(Re=f(Re);Le<X.length;Le++)cn=te(Re,j,Le,X[Le],le),cn!==null&&(s&&cn.alternate!==null&&Re.delete(cn.key===null?Le:cn.key),$=_(cn,$,Le),Ze===null?we=cn:Ze.sibling=cn,Ze=cn);return s&&Re.forEach(function(Ds){return a(j,Ds)}),dt&&ko(j,Le),we}function De(j,$,X,le){if(X==null)throw Error(i(151));for(var we=null,Ze=null,Re=$,Le=$=0,cn=null,ct=X.next();Re!==null&&!ct.done;Le++,ct=X.next()){Re.index>Le?(cn=Re,Re=null):cn=Re.sibling;var Ds=ee(j,Re,ct.value,le);if(Ds===null){Re===null&&(Re=cn);break}s&&Re&&Ds.alternate===null&&a(j,Re),$=_(Ds,$,Le),Ze===null?we=Ds:Ze.sibling=Ds,Ze=Ds,Re=cn}if(ct.done)return u(j,Re),dt&&ko(j,Le),we;if(Re===null){for(;!ct.done;Le++,ct=X.next())ct=ue(j,ct.value,le),ct!==null&&($=_(ct,$,Le),Ze===null?we=ct:Ze.sibling=ct,Ze=ct);return dt&&ko(j,Le),we}for(Re=f(Re);!ct.done;Le++,ct=X.next())ct=te(Re,j,Le,ct.value,le),ct!==null&&(s&&ct.alternate!==null&&Re.delete(ct.key===null?Le:ct.key),$=_(ct,$,Le),Ze===null?we=ct:Ze.sibling=ct,Ze=ct);return s&&Re.forEach(function(lR){return a(j,lR)}),dt&&ko(j,Le),we}function Et(j,$,X,le){if(typeof X=="object"&&X!==null&&X.type===I&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:e:{for(var we=X.key;$!==null;){if($.key===we){if(we=X.type,we===I){if($.tag===7){u(j,$.sibling),le=v($,X.props.children),le.return=j,j=le;break e}}else if($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===D&&I_(we)===$.type){u(j,$.sibling),le=v($,X.props),wu(le,X),le.return=j,j=le;break e}u(j,$);break}else a(j,$);$=$.sibling}X.type===I?(le=Io(X.props.children,j.mode,le,X.key),le.return=j,j=le):(le=Cf(X.type,X.key,X.props,null,j.mode,le),wu(le,X),le.return=j,j=le)}return A(j);case C:e:{for(we=X.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===X.containerInfo&&$.stateNode.implementation===X.implementation){u(j,$.sibling),le=v($,X.children||[]),le.return=j,j=le;break e}else{u(j,$);break}else a(j,$);$=$.sibling}le=Sp(X,j.mode,le),le.return=j,j=le}return A(j);case D:return we=X._init,X=we(X._payload),Et(j,$,X,le)}if(me(X))return Oe(j,$,X,le);if(B(X)){if(we=B(X),typeof we!="function")throw Error(i(150));return X=we.call(X),De(j,$,X,le)}if(typeof X.then=="function")return Et(j,$,zf(X),le);if(X.$$typeof===G)return Et(j,$,bf(j,X),le);Bf(j,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,$!==null&&$.tag===6?(u(j,$.sibling),le=v($,X),le.return=j,j=le):(u(j,$),le=Cp(X,j.mode,le),le.return=j,j=le),A(j)):u(j,$)}return function(j,$,X,le){try{Su=0;var we=Et(j,$,X,le);return Pa=null,we}catch(Re){if(Re===mu||Re===Rf)throw Re;var Ze=ni(29,Re,null,j.mode);return Ze.lanes=le,Ze.return=j,Ze}finally{}}}var La=R_(!0),k_=R_(!1),Ei=W(null),Qi=null;function vs(s){var a=s.alternate;M(nn,nn.current&1),M(Ei,s),Qi===null&&(a===null||ka.current!==null||a.memoizedState!==null)&&(Qi=s)}function N_(s){if(s.tag===22){if(M(nn,nn.current),M(Ei,s),Qi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Qi=s)}}else _s()}function _s(){M(nn,nn.current),M(Ei,Ei.current)}function Or(s){oe(Ei),Qi===s&&(Qi=null),oe(nn)}var nn=W(0);function Hf(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Ym(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function im(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:y({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var rm={enqueueSetState:function(s,a,u){s=s._reactInternals;var f=oi(),v=ms(f);v.payload=a,u!=null&&(v.callback=u),a=gs(s,v,f),a!==null&&(ai(a,s,f),yu(a,s,f))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=oi(),v=ms(f);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=gs(s,v,f),a!==null&&(ai(a,s,f),yu(a,s,f))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=oi(),f=ms(u);f.tag=2,a!=null&&(f.callback=a),a=gs(s,f,u),a!==null&&(ai(a,s,u),yu(a,s,u))}};function M_(s,a,u,f,v,_,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,A):a.prototype&&a.prototype.isPureReactComponent?!au(u,f)||!au(v,_):!0}function D_(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&rm.enqueueReplaceState(a,a.state,null)}function Oo(s,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(s=s.defaultProps){u===a&&(u=y({},u));for(var v in s)u[v]===void 0&&(u[v]=s[v])}return u}var qf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function P_(s){qf(s)}function L_(s){console.error(s)}function V_(s){qf(s)}function Gf(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function O_(s,a,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function sm(s,a,u){return u=ms(u),u.tag=3,u.payload={element:null},u.callback=function(){Gf(s,a)},u}function U_(s){return s=ms(s),s.tag=3,s}function F_(s,a,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;s.payload=function(){return v(_)},s.callback=function(){O_(a,u,f)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){O_(a,u,f),typeof v!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function lI(s,a,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&du(a,u,v,!0),u=Ei.current,u!==null){switch(u.tag){case 13:return Qi===null?Rm():u.alternate===null&&Vt===0&&(Vt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===Pp?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),Nm(s,f,v)),!1;case 22:return u.flags|=65536,f===Pp?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),Nm(s,f,v)),!1}throw Error(i(435,u.tag))}return Nm(s,f,v),Rm(),!1}if(dt)return a=Ei.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,f!==bp&&(s=Error(i(422),{cause:f}),fu(yi(s,u)))):(f!==bp&&(a=Error(i(423),{cause:f}),fu(yi(a,u))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,f=yi(f,u),v=sm(s.stateNode,f,v),Op(s,v),Vt!==4&&(Vt=2)),!1;var _=Error(i(520),{cause:f});if(_=yi(_,u),Mu===null?Mu=[_]:Mu.push(_),Vt!==4&&(Vt=2),a===null)return!0;f=yi(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=v&-v,u.lanes|=s,s=sm(u.stateNode,f,s),Op(u,s),!1;case 1:if(a=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ws===null||!ws.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=U_(v),F_(v,s,u,f),Op(u,v),!1}u=u.return}while(u!==null);return!1}var z_=Error(i(461)),ln=!1;function gn(s,a,u,f){a.child=s===null?k_(a,null,u,f):La(a,s.child,u,f)}function B_(s,a,u,f,v){u=u.render;var _=a.ref;if("ref"in f){var A={};for(var R in f)R!=="ref"&&(A[R]=f[R])}else A=f;return Po(a),f=Hp(s,a,u,A,_,v),R=qp(),s!==null&&!ln?(Gp(s,a,v),Ur(s,a,v)):(dt&&R&&wp(a),a.flags|=1,gn(s,a,f,v),a.child)}function H_(s,a,u,f,v){if(s===null){var _=u.type;return typeof _=="function"&&!xp(_)&&_.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=_,q_(s,a,_,f,v)):(s=Cf(u.type,null,f,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,!hm(s,v)){var A=_.memoizedProps;if(u=u.compare,u=u!==null?u:au,u(A,f)&&s.ref===a.ref)return Ur(s,a,v)}return a.flags|=1,s=Nr(_,f),s.ref=a.ref,s.return=a,a.child=s}function q_(s,a,u,f,v){if(s!==null){var _=s.memoizedProps;if(au(_,f)&&s.ref===a.ref)if(ln=!1,a.pendingProps=f=_,hm(s,v))(s.flags&131072)!==0&&(ln=!0);else return a.lanes=s.lanes,Ur(s,a,v)}return om(s,a,u,f,v)}function G_(s,a,u){var f=a.pendingProps,v=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=_!==null?_.baseLanes|u:u,s!==null){for(v=a.child=s.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;a.childLanes=_&~f}else a.childLanes=0,a.child=null;return $_(s,a,f,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&If(a,_!==null?_.cachePool:null),_!==null?q0(a,_):Fp(),N_(a);else return a.lanes=a.childLanes=536870912,$_(s,a,_!==null?_.baseLanes|u:u,u)}else _!==null?(If(a,_.cachePool),q0(a,_),_s(),a.memoizedState=null):(s!==null&&If(a,null),Fp(),_s());return gn(s,a,v,u),a.child}function $_(s,a,u,f){var v=Dp();return v=v===null?null:{parent:tn._currentValue,pool:v},a.memoizedState={baseLanes:u,cachePool:v},s!==null&&If(a,null),Fp(),N_(a),s!==null&&du(s,a,f,!0),null}function $f(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function om(s,a,u,f,v){return Po(a),u=Hp(s,a,u,f,void 0,v),f=qp(),s!==null&&!ln?(Gp(s,a,v),Ur(s,a,v)):(dt&&f&&wp(a),a.flags|=1,gn(s,a,u,v),a.child)}function Y_(s,a,u,f,v,_){return Po(a),a.updateQueue=null,u=$0(a,f,u,v),G0(s),f=qp(),s!==null&&!ln?(Gp(s,a,_),Ur(s,a,_)):(dt&&f&&wp(a),a.flags|=1,gn(s,a,u,_),a.child)}function K_(s,a,u,f,v){if(Po(a),a.stateNode===null){var _=wa,A=u.contextType;typeof A=="object"&&A!==null&&(_=Cn(A)),_=new u(f,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=rm,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=f,_.state=a.memoizedState,_.refs={},Lp(a),A=u.contextType,_.context=typeof A=="object"&&A!==null?Cn(A):wa,_.state=a.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(im(a,u,A,f),_.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&rm.enqueueReplaceState(_,_.state,null),_u(a,f,_,v),vu(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(s===null){_=a.stateNode;var R=a.memoizedProps,H=Oo(u,R);_.props=H;var Z=_.context,ae=u.contextType;A=wa,typeof ae=="object"&&ae!==null&&(A=Cn(ae));var ue=u.getDerivedStateFromProps;ae=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ae||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||Z!==A)&&D_(a,_,f,A),ps=!1;var ee=a.memoizedState;_.state=ee,_u(a,f,_,v),vu(),Z=a.memoizedState,R||ee!==Z||ps?(typeof ue=="function"&&(im(a,u,ue,f),Z=a.memoizedState),(H=ps||M_(a,u,H,f,ee,Z,A))?(ae||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=Z),_.props=f,_.state=Z,_.context=A,f=H):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{_=a.stateNode,Vp(s,a),A=a.memoizedProps,ae=Oo(u,A),_.props=ae,ue=a.pendingProps,ee=_.context,Z=u.contextType,H=wa,typeof Z=="object"&&Z!==null&&(H=Cn(Z)),R=u.getDerivedStateFromProps,(Z=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==ue||ee!==H)&&D_(a,_,f,H),ps=!1,ee=a.memoizedState,_.state=ee,_u(a,f,_,v),vu();var te=a.memoizedState;A!==ue||ee!==te||ps||s!==null&&s.dependencies!==null&&Af(s.dependencies)?(typeof R=="function"&&(im(a,u,R,f),te=a.memoizedState),(ae=ps||M_(a,u,ae,f,ee,te,H)||s!==null&&s.dependencies!==null&&Af(s.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,te,H),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,te,H)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=te),_.props=f,_.state=te,_.context=H,f=ae):(typeof _.componentDidUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),f=!1)}return _=f,$f(s,a),f=(a.flags&128)!==0,_||f?(_=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,s!==null&&f?(a.child=La(a,s.child,null,v),a.child=La(a,null,u,v)):gn(s,a,u,v),a.memoizedState=_.state,s=a.child):s=Ur(s,a,v),s}function j_(s,a,u,f){return cu(),a.flags|=256,gn(s,a,u,f),a.child}var am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lm(s){return{baseLanes:s,cachePool:L0()}}function um(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=xi),s}function Q_(s,a,u){var f=a.pendingProps,v=!1,_=(a.flags&128)!==0,A;if((A=_)||(A=s!==null&&s.memoizedState===null?!1:(nn.current&2)!==0),A&&(v=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(dt){if(v?vs(a):_s(),dt){var R=Lt,H;if(H=R){e:{for(H=R,R=ji;H.nodeType!==8;){if(!R){R=null;break e}if(H=Mi(H.nextSibling),H===null){R=null;break e}}R=H}R!==null?(a.memoizedState={dehydrated:R,treeContext:Ro!==null?{id:Mr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},H=ni(18,null,null,0),H.stateNode=R,H.return=a,a.child=H,zn=a,Lt=null,H=!0):H=!1}H||Mo(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Ym(R)?a.lanes=32:a.lanes=536870912,null;Or(a)}return R=f.children,f=f.fallback,v?(_s(),v=a.mode,R=Yf({mode:"hidden",children:R},v),f=Io(f,v,u,null),R.return=a,f.return=a,R.sibling=f,a.child=R,v=a.child,v.memoizedState=lm(u),v.childLanes=um(s,A,u),a.memoizedState=am,f):(vs(a),cm(a,R))}if(H=s.memoizedState,H!==null&&(R=H.dehydrated,R!==null)){if(_)a.flags&256?(vs(a),a.flags&=-257,a=fm(s,a,u)):a.memoizedState!==null?(_s(),a.child=s.child,a.flags|=128,a=null):(_s(),v=f.fallback,R=a.mode,f=Yf({mode:"visible",children:f.children},R),v=Io(v,R,u,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,La(a,s.child,null,u),f=a.child,f.memoizedState=lm(u),f.childLanes=um(s,A,u),a.memoizedState=am,a=v);else if(vs(a),Ym(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var Z=A.dgst;A=Z,f=Error(i(419)),f.stack="",f.digest=A,fu({value:f,source:null,stack:null}),a=fm(s,a,u)}else if(ln||du(s,a,u,!1),A=(u&s.childLanes)!==0,ln||A){if(A=St,A!==null&&(f=u&-u,f=(f&42)!==0?1:os(f),f=(f&(A.suspendedLanes|u))!==0?0:f,f!==0&&f!==H.retryLane))throw H.retryLane=f,Sa(s,f),ai(A,s,f),z_;R.data==="$?"||Rm(),a=fm(s,a,u)}else R.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=H.treeContext,Lt=Mi(R.nextSibling),zn=a,dt=!0,No=null,ji=!1,s!==null&&(_i[Ti++]=Mr,_i[Ti++]=Dr,_i[Ti++]=Ro,Mr=s.id,Dr=s.overflow,Ro=a),a=cm(a,f.children),a.flags|=4096);return a}return v?(_s(),v=f.fallback,R=a.mode,H=s.child,Z=H.sibling,f=Nr(H,{mode:"hidden",children:f.children}),f.subtreeFlags=H.subtreeFlags&65011712,Z!==null?v=Nr(Z,v):(v=Io(v,R,u,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,R=s.child.memoizedState,R===null?R=lm(u):(H=R.cachePool,H!==null?(Z=tn._currentValue,H=H.parent!==Z?{parent:Z,pool:Z}:H):H=L0(),R={baseLanes:R.baseLanes|u,cachePool:H}),v.memoizedState=R,v.childLanes=um(s,A,u),a.memoizedState=am,f):(vs(a),u=s.child,s=u.sibling,u=Nr(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=u,a.memoizedState=null,u)}function cm(s,a){return a=Yf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Yf(s,a){return s=ni(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function fm(s,a,u){return La(a,s.child,null,u),s=cm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function W_(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Rp(s.return,a,u)}function dm(s,a,u,f,v){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=v)}function X_(s,a,u){var f=a.pendingProps,v=f.revealOrder,_=f.tail;if(gn(s,a,f.children,u),f=nn.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&W_(s,u,a);else if(s.tag===19)W_(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(M(nn,f),v){case"forwards":for(u=a.child,v=null;u!==null;)s=u.alternate,s!==null&&Hf(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),dm(a,!1,v,u,_);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Hf(s)===null){a.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}dm(a,!0,u,null,_);break;case"together":dm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ur(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Ss|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(du(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,u=Nr(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Nr(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function hm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Af(s)))}function uI(s,a,u){switch(a.tag){case 3:Ye(a,a.stateNode.containerInfo),hs(a,tn,s.memoizedState.cache),cu();break;case 27:case 5:qt(a);break;case 4:Ye(a,a.stateNode.containerInfo);break;case 10:hs(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(vs(a),a.flags|=128,null):(u&a.child.childLanes)!==0?Q_(s,a,u):(vs(a),s=Ur(s,a,u),s!==null?s.sibling:null);vs(a);break;case 19:var v=(s.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(du(s,a,u,!1),f=(u&a.childLanes)!==0),v){if(f)return X_(s,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),M(nn,nn.current),f)break;return null;case 22:case 23:return a.lanes=0,G_(s,a,u);case 24:hs(a,tn,s.memoizedState.cache)}return Ur(s,a,u)}function Z_(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)ln=!0;else{if(!hm(s,u)&&(a.flags&128)===0)return ln=!1,uI(s,a,u);ln=(s.flags&131072)!==0}else ln=!1,dt&&(a.flags&1048576)!==0&&I0(a,wf,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var f=a.elementType,v=f._init;if(f=v(f._payload),a.type=f,typeof f=="function")xp(f)?(s=Oo(f,s),a.tag=1,a=K_(null,a,f,s,u)):(a.tag=0,a=om(null,a,f,s,u));else{if(f!=null){if(v=f.$$typeof,v===re){a.tag=11,a=B_(null,a,f,s,u);break e}else if(v===V){a.tag=14,a=H_(null,a,f,s,u);break e}}throw a=he(f)||f,Error(i(306,a,""))}}return a;case 0:return om(s,a,a.type,a.pendingProps,u);case 1:return f=a.type,v=Oo(f,a.pendingProps),K_(s,a,f,v,u);case 3:e:{if(Ye(a,a.stateNode.containerInfo),s===null)throw Error(i(387));f=a.pendingProps;var _=a.memoizedState;v=_.element,Vp(s,a),_u(a,f,null,u);var A=a.memoizedState;if(f=A.cache,hs(a,tn,f),f!==_.cache&&kp(a,[tn],u,!0),vu(),f=A.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=j_(s,a,f,u);break e}else if(f!==v){v=yi(Error(i(424)),a),fu(v),a=j_(s,a,f,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Lt=Mi(s.firstChild),zn=a,dt=!0,No=null,ji=!0,u=k_(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(cu(),f===v){a=Ur(s,a,u);break e}gn(s,a,f,u)}a=a.child}return a;case 26:return $f(s,a),s===null?(u=nT(a.type,null,a.pendingProps,null))?a.memoizedState=u:dt||(u=a.type,s=a.pendingProps,f=od(Te.current).createElement(u),f[Zt]=a,f[$t]=s,vn(f,u,s),Ft(f),a.stateNode=f):a.memoizedState=nT(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return qt(a),s===null&&dt&&(f=a.stateNode=J1(a.type,a.pendingProps,Te.current),zn=a,ji=!0,v=Lt,Is(a.type)?(Km=v,Lt=Mi(f.firstChild)):Lt=v),gn(s,a,a.pendingProps.children,u),$f(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&dt&&((v=f=Lt)&&(f=OI(f,a.type,a.pendingProps,ji),f!==null?(a.stateNode=f,zn=a,Lt=Mi(f.firstChild),ji=!1,v=!0):v=!1),v||Mo(a)),qt(a),v=a.type,_=a.pendingProps,A=s!==null?s.memoizedProps:null,f=_.children,qm(v,_)?f=null:A!==null&&qm(v,A)&&(a.flags|=32),a.memoizedState!==null&&(v=Hp(s,a,tI,null,null,u),Bu._currentValue=v),$f(s,a),gn(s,a,f,u),a.child;case 6:return s===null&&dt&&((s=u=Lt)&&(u=UI(u,a.pendingProps,ji),u!==null?(a.stateNode=u,zn=a,Lt=null,s=!0):s=!1),s||Mo(a)),null;case 13:return Q_(s,a,u);case 4:return Ye(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=La(a,null,f,u):gn(s,a,f,u),a.child;case 11:return B_(s,a,a.type,a.pendingProps,u);case 7:return gn(s,a,a.pendingProps,u),a.child;case 8:return gn(s,a,a.pendingProps.children,u),a.child;case 12:return gn(s,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,hs(a,a.type,f.value),gn(s,a,f.children,u),a.child;case 9:return v=a.type._context,f=a.pendingProps.children,Po(a),v=Cn(v),f=f(v),a.flags|=1,gn(s,a,f,u),a.child;case 14:return H_(s,a,a.type,a.pendingProps,u);case 15:return q_(s,a,a.type,a.pendingProps,u);case 19:return X_(s,a,u);case 31:return f=a.pendingProps,u=a.mode,f={mode:f.mode,children:f.children},s===null?(u=Yf(f,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=Nr(s.child,f),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return G_(s,a,u);case 24:return Po(a),f=Cn(tn),s===null?(v=Dp(),v===null&&(v=St,_=Np(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),a.memoizedState={parent:f,cache:v},Lp(a),hs(a,tn,v)):((s.lanes&u)!==0&&(Vp(s,a),_u(a,null,null,u),vu()),v=s.memoizedState,_=a.memoizedState,v.parent!==f?(v={parent:f,cache:f},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),hs(a,tn,f)):(f=_.cache,hs(a,tn,f),f!==v.cache&&kp(a,[tn],u,!0))),gn(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Fr(s){s.flags|=4}function J_(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!aT(a)){if(a=Ei.current,a!==null&&((ot&4194048)===ot?Qi!==null:(ot&62914560)!==ot&&(ot&536870912)===0||a!==Qi))throw gu=Pp,V0;s.flags|=8192}}function Kf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ql():536870912,s.lanes|=a,Fa|=a)}function Au(s,a){if(!dt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Dt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function cI(s,a,u){var f=a.pendingProps;switch(Ap(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(a),null;case 1:return Dt(a),null;case 3:return u=a.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Lr(tn),Ct(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(uu(a)?Fr(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,N0())),Dt(a),null;case 26:return u=a.memoizedState,s===null?(Fr(a),u!==null?(Dt(a),J_(a,u)):(Dt(a),a.flags&=-16777217)):u?u!==s.memoizedState?(Fr(a),Dt(a),J_(a,u)):(Dt(a),a.flags&=-16777217):(s.memoizedProps!==f&&Fr(a),Dt(a),a.flags&=-16777217),null;case 27:Mt(a),u=Te.current;var v=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==f&&Fr(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Dt(a),null}s=ge.current,uu(a)?R0(a):(s=J1(v,f,u),a.stateNode=s,Fr(a))}return Dt(a),null;case 5:if(Mt(a),u=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&Fr(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Dt(a),null}if(s=ge.current,uu(a))R0(a);else{switch(v=od(Te.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?v.createElement(u,{is:f.is}):v.createElement(u)}}s[Zt]=a,s[$t]=f;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=s;e:switch(vn(s,u,f),u){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Fr(a)}}return Dt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==f&&Fr(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(s=Te.current,uu(a)){if(s=a.stateNode,u=a.memoizedProps,f=null,v=zn,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}s[Zt]=a,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Y1(s.nodeValue,u)),s||Mo(a)}else s=od(s).createTextNode(f),s[Zt]=a,a.stateNode=s}return Dt(a),null;case 13:if(f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=uu(a),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(i(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Zt]=a}else cu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dt(a),v=!1}else v=N0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Or(a),a):(Or(a),null)}if(Or(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=f!==null,s=s!==null&&s.memoizedState!==null,u){f=a.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)}return u!==s&&u&&(a.child.flags|=8192),Kf(a,a.updateQueue),Dt(a),null;case 4:return Ct(),s===null&&Um(a.stateNode.containerInfo),Dt(a),null;case 10:return Lr(a.type),Dt(a),null;case 19:if(oe(nn),v=a.memoizedState,v===null)return Dt(a),null;if(f=(a.flags&128)!==0,_=v.rendering,_===null)if(f)Au(v,!1);else{if(Vt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(_=Hf(s),_!==null){for(a.flags|=128,Au(v,!1),s=_.updateQueue,a.updateQueue=s,Kf(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)b0(u,s),u=u.sibling;return M(nn,nn.current&1|2),a.child}s=s.sibling}v.tail!==null&&Dn()>Wf&&(a.flags|=128,f=!0,Au(v,!1),a.lanes=4194304)}else{if(!f)if(s=Hf(_),s!==null){if(a.flags|=128,f=!0,s=s.updateQueue,a.updateQueue=s,Kf(a,s),Au(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!dt)return Dt(a),null}else 2*Dn()-v.renderingStartTime>Wf&&u!==536870912&&(a.flags|=128,f=!0,Au(v,!1),a.lanes=4194304);v.isBackwards?(_.sibling=a.child,a.child=_):(s=v.last,s!==null?s.sibling=_:a.child=_,v.last=_)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Dn(),a.sibling=null,s=nn.current,M(nn,f?s&1|2:s&1),a):(Dt(a),null);case 22:case 23:return Or(a),zp(),f=a.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Dt(a),a.subtreeFlags&6&&(a.flags|=8192)):Dt(a),u=a.updateQueue,u!==null&&Kf(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),s!==null&&oe(Lo),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Lr(tn),Dt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function fI(s,a){switch(Ap(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Lr(tn),Ct(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Mt(a),null;case 13:if(Or(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));cu()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return oe(nn),null;case 4:return Ct(),null;case 10:return Lr(a.type),null;case 22:case 23:return Or(a),zp(),s!==null&&oe(Lo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Lr(tn),null;case 25:return null;default:return null}}function e1(s,a){switch(Ap(a),a.tag){case 3:Lr(tn),Ct();break;case 26:case 27:case 5:Mt(a);break;case 4:Ct();break;case 13:Or(a);break;case 19:oe(nn);break;case 10:Lr(a.type);break;case 22:case 23:Or(a),zp(),s!==null&&oe(Lo);break;case 24:Lr(tn)}}function bu(s,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&s)===s){f=void 0;var _=u.create,A=u.inst;f=_(),A.destroy=f}u=u.next}while(u!==v)}}catch(R){xt(a,a.return,R)}}function Ts(s,a,u){try{var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&s)===s){var A=f.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,v=a;var H=u,Z=R;try{Z()}catch(ae){xt(v,H,ae)}}}f=f.next}while(f!==_)}}catch(ae){xt(a,a.return,ae)}}function t1(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{H0(a,u)}catch(f){xt(s,s.return,f)}}}function n1(s,a,u){u.props=Oo(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){xt(s,a,f)}}function Iu(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(v){xt(s,a,v)}}function Wi(s,a){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){xt(s,a,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){xt(s,a,v)}else u.current=null}function i1(s){var a=s.type,u=s.memoizedProps,f=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){xt(s,s.return,v)}}function pm(s,a,u){try{var f=s.stateNode;MI(f,s.type,u,a),f[$t]=a}catch(v){xt(s,s.return,v)}}function r1(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Is(s.type)||s.tag===4}function mm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||r1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Is(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function gm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=sd));else if(f!==4&&(f===27&&Is(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(gm(s,a,u),s=s.sibling;s!==null;)gm(s,a,u),s=s.sibling}function jf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(f===27&&Is(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(jf(s,a,u),s=s.sibling;s!==null;)jf(s,a,u),s=s.sibling}function s1(s){var a=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);vn(a,f,u),a[Zt]=s,a[$t]=u}catch(_){xt(s,s.return,_)}}var zr=!1,Bt=!1,ym=!1,o1=typeof WeakSet=="function"?WeakSet:Set,un=null;function dI(s,a){if(s=s.containerInfo,Bm=dd,s=y0(s),mp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var A=0,R=-1,H=-1,Z=0,ae=0,ue=s,ee=null;t:for(;;){for(var te;ue!==u||v!==0&&ue.nodeType!==3||(R=A+v),ue!==_||f!==0&&ue.nodeType!==3||(H=A+f),ue.nodeType===3&&(A+=ue.nodeValue.length),(te=ue.firstChild)!==null;)ee=ue,ue=te;for(;;){if(ue===s)break t;if(ee===u&&++Z===v&&(R=A),ee===_&&++ae===f&&(H=A),(te=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=te}u=R===-1||H===-1?null:{start:R,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Hm={focusedElem:s,selectionRange:u},dd=!1,un=a;un!==null;)if(a=un,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,un=s;else for(;un!==null;){switch(a=un,_=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,u=a,v=_.memoizedProps,_=_.memoizedState,f=u.stateNode;try{var Oe=Oo(u.type,v,u.elementType===u.type);s=f.getSnapshotBeforeUpdate(Oe,_),f.__reactInternalSnapshotBeforeUpdate=s}catch(De){xt(u,u.return,De)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)$m(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":$m(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,un=s;break}un=a.return}}function a1(s,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Es(s,u),f&4&&bu(5,u);break;case 1:if(Es(s,u),f&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(A){xt(u,u.return,A)}else{var v=Oo(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(v,a,s.__reactInternalSnapshotBeforeUpdate)}catch(A){xt(u,u.return,A)}}f&64&&t1(u),f&512&&Iu(u,u.return);break;case 3:if(Es(s,u),f&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{H0(s,a)}catch(A){xt(u,u.return,A)}}break;case 27:a===null&&f&4&&s1(u);case 26:case 5:Es(s,u),a===null&&f&4&&i1(u),f&512&&Iu(u,u.return);break;case 12:Es(s,u);break;case 13:Es(s,u),f&4&&c1(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=EI.bind(null,u),FI(s,u))));break;case 22:if(f=u.memoizedState!==null||zr,!f){a=a!==null&&a.memoizedState!==null||Bt,v=zr;var _=Bt;zr=f,(Bt=a)&&!_?xs(s,u,(u.subtreeFlags&8772)!==0):Es(s,u),zr=v,Bt=_}break;case 30:break;default:Es(s,u)}}function l1(s){var a=s.alternate;a!==null&&(s.alternate=null,l1(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&us(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var kt=null,Yn=!1;function Br(s,a,u){for(u=u.child;u!==null;)u1(s,a,u),u=u.sibling}function u1(s,a,u){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(ne,u)}catch{}switch(u.tag){case 26:Bt||Wi(u,a),Br(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Bt||Wi(u,a);var f=kt,v=Yn;Is(u.type)&&(kt=u.stateNode,Yn=!1),Br(s,a,u),Ou(u.stateNode),kt=f,Yn=v;break;case 5:Bt||Wi(u,a);case 6:if(f=kt,v=Yn,kt=null,Br(s,a,u),kt=f,Yn=v,kt!==null)if(Yn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(u.stateNode)}catch(_){xt(u,a,_)}else try{kt.removeChild(u.stateNode)}catch(_){xt(u,a,_)}break;case 18:kt!==null&&(Yn?(s=kt,X1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),$u(s)):X1(kt,u.stateNode));break;case 4:f=kt,v=Yn,kt=u.stateNode.containerInfo,Yn=!0,Br(s,a,u),kt=f,Yn=v;break;case 0:case 11:case 14:case 15:Bt||Ts(2,u,a),Bt||Ts(4,u,a),Br(s,a,u);break;case 1:Bt||(Wi(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&n1(u,a,f)),Br(s,a,u);break;case 21:Br(s,a,u);break;case 22:Bt=(f=Bt)||u.memoizedState!==null,Br(s,a,u),Bt=f;break;default:Br(s,a,u)}}function c1(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$u(s)}catch(u){xt(a,a.return,u)}}function hI(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new o1),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new o1),a;default:throw Error(i(435,s.tag))}}function vm(s,a){var u=hI(s);a.forEach(function(f){var v=xI.bind(null,s,f);u.has(f)||(u.add(f),f.then(v,v))})}function ii(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],_=s,A=a,R=A;e:for(;R!==null;){switch(R.tag){case 27:if(Is(R.type)){kt=R.stateNode,Yn=!1;break e}break;case 5:kt=R.stateNode,Yn=!1;break e;case 3:case 4:kt=R.stateNode.containerInfo,Yn=!0;break e}R=R.return}if(kt===null)throw Error(i(160));u1(_,A,v),kt=null,Yn=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)f1(a,s),a=a.sibling}var Ni=null;function f1(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ii(a,s),ri(s),f&4&&(Ts(3,s,s.return),bu(3,s),Ts(5,s,s.return));break;case 1:ii(a,s),ri(s),f&512&&(Bt||u===null||Wi(u,u.return)),f&64&&zr&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=Ni;if(ii(a,s),ri(s),f&512&&(Bt||u===null||Wi(u,u.return)),f&4){var _=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){e:{f=s.type,u=s.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[fo]||_[Zt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),vn(_,f,u),_[Zt]=s,Ft(_),f=_;break e;case"link":var A=sT("link","href",v).get(f+(u.href||""));if(A){for(var R=0;R<A.length;R++)if(_=A[R],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(R,1);break t}}_=v.createElement(f),vn(_,f,u),v.head.appendChild(_);break;case"meta":if(A=sT("meta","content",v).get(f+(u.content||""))){for(R=0;R<A.length;R++)if(_=A[R],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(R,1);break t}}_=v.createElement(f),vn(_,f,u),v.head.appendChild(_);break;default:throw Error(i(468,f))}_[Zt]=s,Ft(_),f=_}s.stateNode=f}else oT(v,s.type,s.stateNode);else s.stateNode=rT(v,f,s.memoizedProps);else _!==f?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,f===null?oT(v,s.type,s.stateNode):rT(v,f,s.memoizedProps)):f===null&&s.stateNode!==null&&pm(s,s.memoizedProps,u.memoizedProps)}break;case 27:ii(a,s),ri(s),f&512&&(Bt||u===null||Wi(u,u.return)),u!==null&&f&4&&pm(s,s.memoizedProps,u.memoizedProps);break;case 5:if(ii(a,s),ri(s),f&512&&(Bt||u===null||Wi(u,u.return)),s.flags&32){v=s.stateNode;try{hi(v,"")}catch(te){xt(s,s.return,te)}}f&4&&s.stateNode!=null&&(v=s.memoizedProps,pm(s,v,u!==null?u.memoizedProps:v)),f&1024&&(ym=!0);break;case 6:if(ii(a,s),ri(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(te){xt(s,s.return,te)}}break;case 3:if(ud=null,v=Ni,Ni=ad(a.containerInfo),ii(a,s),Ni=v,ri(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{$u(a.containerInfo)}catch(te){xt(s,s.return,te)}ym&&(ym=!1,d1(s));break;case 4:f=Ni,Ni=ad(s.stateNode.containerInfo),ii(a,s),ri(s),Ni=f;break;case 12:ii(a,s),ri(s);break;case 13:ii(a,s),ri(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Sm=Dn()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,vm(s,f)));break;case 22:v=s.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,Z=zr,ae=Bt;if(zr=Z||v,Bt=ae||H,ii(a,s),Bt=ae,zr=Z,ri(s),f&8192)e:for(a=s.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||H||zr||Bt||Uo(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){H=u=a;try{if(_=H.stateNode,v)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=H.stateNode;var ue=H.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){xt(H,H.return,te)}}}else if(a.tag===6){if(u===null){H=a;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(te){xt(H,H.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,vm(s,u))));break;case 19:ii(a,s),ri(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,vm(s,f)));break;case 30:break;case 21:break;default:ii(a,s),ri(s)}}function ri(s){var a=s.flags;if(a&2){try{for(var u,f=s.return;f!==null;){if(r1(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var v=u.stateNode,_=mm(s);jf(s,_,v);break;case 5:var A=u.stateNode;u.flags&32&&(hi(A,""),u.flags&=-33);var R=mm(s);jf(s,R,A);break;case 3:case 4:var H=u.stateNode.containerInfo,Z=mm(s);gm(s,Z,H);break;default:throw Error(i(161))}}catch(ae){xt(s,s.return,ae)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function d1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;d1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Es(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)a1(s,a.alternate,a),a=a.sibling}function Uo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ts(4,a,a.return),Uo(a);break;case 1:Wi(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&n1(a,a.return,u),Uo(a);break;case 27:Ou(a.stateNode);case 26:case 5:Wi(a,a.return),Uo(a);break;case 22:a.memoizedState===null&&Uo(a);break;case 30:Uo(a);break;default:Uo(a)}s=s.sibling}}function xs(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,v=s,_=a,A=_.flags;switch(_.tag){case 0:case 11:case 15:xs(v,_,u),bu(4,_);break;case 1:if(xs(v,_,u),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){xt(f,f.return,Z)}if(f=_,v=f.updateQueue,v!==null){var R=f.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)B0(H[v],R)}catch(Z){xt(f,f.return,Z)}}u&&A&64&&t1(_),Iu(_,_.return);break;case 27:s1(_);case 26:case 5:xs(v,_,u),u&&f===null&&A&4&&i1(_),Iu(_,_.return);break;case 12:xs(v,_,u);break;case 13:xs(v,_,u),u&&A&4&&c1(v,_);break;case 22:_.memoizedState===null&&xs(v,_,u),Iu(_,_.return);break;case 30:break;default:xs(v,_,u)}a=a.sibling}}function _m(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&hu(u))}function Tm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&hu(s))}function Xi(s,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)h1(s,a,u,f),a=a.sibling}function h1(s,a,u,f){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(s,a,u,f),v&2048&&bu(9,a);break;case 1:Xi(s,a,u,f);break;case 3:Xi(s,a,u,f),v&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&hu(s)));break;case 12:if(v&2048){Xi(s,a,u,f),s=a.stateNode;try{var _=a.memoizedProps,A=_.id,R=_.onPostCommit;typeof R=="function"&&R(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(H){xt(a,a.return,H)}}else Xi(s,a,u,f);break;case 13:Xi(s,a,u,f);break;case 23:break;case 22:_=a.stateNode,A=a.alternate,a.memoizedState!==null?_._visibility&2?Xi(s,a,u,f):Ru(s,a):_._visibility&2?Xi(s,a,u,f):(_._visibility|=2,Va(s,a,u,f,(a.subtreeFlags&10256)!==0)),v&2048&&_m(A,a);break;case 24:Xi(s,a,u,f),v&2048&&Tm(a.alternate,a);break;default:Xi(s,a,u,f)}}function Va(s,a,u,f,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var _=s,A=a,R=u,H=f,Z=A.flags;switch(A.tag){case 0:case 11:case 15:Va(_,A,R,H,v),bu(8,A);break;case 23:break;case 22:var ae=A.stateNode;A.memoizedState!==null?ae._visibility&2?Va(_,A,R,H,v):Ru(_,A):(ae._visibility|=2,Va(_,A,R,H,v)),v&&Z&2048&&_m(A.alternate,A);break;case 24:Va(_,A,R,H,v),v&&Z&2048&&Tm(A.alternate,A);break;default:Va(_,A,R,H,v)}a=a.sibling}}function Ru(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,f=a,v=f.flags;switch(f.tag){case 22:Ru(u,f),v&2048&&_m(f.alternate,f);break;case 24:Ru(u,f),v&2048&&Tm(f.alternate,f);break;default:Ru(u,f)}a=a.sibling}}var ku=8192;function Oa(s){if(s.subtreeFlags&ku)for(s=s.child;s!==null;)p1(s),s=s.sibling}function p1(s){switch(s.tag){case 26:Oa(s),s.flags&ku&&s.memoizedState!==null&&ZI(Ni,s.memoizedState,s.memoizedProps);break;case 5:Oa(s);break;case 3:case 4:var a=Ni;Ni=ad(s.stateNode.containerInfo),Oa(s),Ni=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=ku,ku=16777216,Oa(s),ku=a):Oa(s));break;default:Oa(s)}}function m1(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Nu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];un=f,y1(f,s)}m1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)g1(s),s=s.sibling}function g1(s){switch(s.tag){case 0:case 11:case 15:Nu(s),s.flags&2048&&Ts(9,s,s.return);break;case 3:Nu(s);break;case 12:Nu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Qf(s)):Nu(s);break;default:Nu(s)}}function Qf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];un=f,y1(f,s)}m1(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ts(8,a,a.return),Qf(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Qf(a));break;default:Qf(a)}s=s.sibling}}function y1(s,a){for(;un!==null;){var u=un;switch(u.tag){case 0:case 11:case 15:Ts(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:hu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,un=f;else e:for(u=s;un!==null;){f=un;var v=f.sibling,_=f.return;if(l1(f),f===u){un=null;break e}if(v!==null){v.return=_,un=v;break e}un=_}}}var pI={getCacheForType:function(s){var a=Cn(tn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u}},mI=typeof WeakMap=="function"?WeakMap:Map,gt=0,St=null,Je=null,ot=0,yt=0,si=null,Cs=!1,Ua=!1,Em=!1,Hr=0,Vt=0,Ss=0,Fo=0,xm=0,xi=0,Fa=0,Mu=null,Kn=null,Cm=!1,Sm=0,Wf=1/0,Xf=null,ws=null,yn=0,As=null,za=null,Ba=0,wm=0,Am=null,v1=null,Du=0,bm=null;function oi(){if((gt&2)!==0&&ot!==0)return ot&-ot;if(J.T!==null){var s=Ia;return s!==0?s:Pm()}return as()}function _1(){xi===0&&(xi=(ot&536870912)===0||dt?Hl():536870912);var s=Ei.current;return s!==null&&(s.flags|=32),xi}function ai(s,a,u){(s===St&&(yt===2||yt===9)||s.cancelPendingCommit!==null)&&(Ha(s,0),bs(s,ot,xi,!1)),Tr(s,u),((gt&2)===0||s!==St)&&(s===St&&((gt&2)===0&&(Fo|=u),Vt===4&&bs(s,ot,xi,!1)),Zi(s))}function T1(s,a,u){if((gt&6)!==0)throw Error(i(327));var f=!u&&(a&124)===0&&(a&s.expiredLanes)===0||Gn(s,a),v=f?vI(s,a):km(s,a,!0),_=f;do{if(v===0){Ua&&!f&&bs(s,a,0,!1);break}else{if(u=s.current.alternate,_&&!gI(u)){v=km(s,a,!1),_=!1;continue}if(v===2){if(_=a,s.errorRecoveryDisabledLanes&_)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var R=s;v=Mu;var H=R.current.memoizedState.isDehydrated;if(H&&(Ha(R,A).flags|=256),A=km(R,A,!1),A!==2){if(Em&&!H){R.errorRecoveryDisabledLanes|=_,Fo|=_,v=4;break e}_=Kn,Kn=v,_!==null&&(Kn===null?Kn=_:Kn.push.apply(Kn,_))}v=A}if(_=!1,v!==2)continue}}if(v===1){Ha(s,0),bs(s,a,0,!0);break}e:{switch(f=s,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:bs(f,a,xi,!Cs);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(v=Sm+300-Dn(),10<v)){if(bs(f,a,xi,!Cs),Gt(f,0,!0)!==0)break e;f.timeoutHandle=Q1(E1.bind(null,f,u,Kn,Xf,Cm,a,xi,Fo,Fa,Cs,_,2,-0,0),v);break e}E1(f,u,Kn,Xf,Cm,a,xi,Fo,Fa,Cs,_,0,-0,0)}}break}while(!0);Zi(s)}function E1(s,a,u,f,v,_,A,R,H,Z,ae,ue,ee,te){if(s.timeoutHandle=-1,ue=a.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(zu={stylesheets:null,count:0,unsuspend:XI},p1(a),ue=JI(),ue!==null)){s.cancelPendingCommit=ue(I1.bind(null,s,a,_,u,f,v,A,R,H,ae,1,ee,te)),bs(s,_,A,!Z);return}I1(s,a,_,u,f,v,A,R,H)}function gI(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],_=v.getSnapshot;v=v.value;try{if(!ti(_(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function bs(s,a,u,f){a&=~xm,a&=~Fo,s.suspendedLanes|=a,s.pingedLanes&=~a,f&&(s.warmLanes|=a),f=s.expirationTimes;for(var v=a;0<v;){var _=31-Ne(v),A=1<<_;f[_]=-1,v&=~A}u!==0&&Oi(s,u,a)}function Zf(){return(gt&6)===0?(Pu(0),!1):!0}function Im(){if(Je!==null){if(yt===0)var s=Je.return;else s=Je,Pr=Do=null,$p(s),Pa=null,Su=0,s=Je;for(;s!==null;)e1(s.alternate,s),s=s.return;Je=null}}function Ha(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,PI(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Im(),St=s,Je=u=Nr(s.current,null),ot=a,yt=0,si=null,Cs=!1,Ua=Gn(s,a),Em=!1,Fa=xi=xm=Fo=Ss=Vt=0,Kn=Mu=null,Cm=!1,(a&8)!==0&&(a|=a&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=a;0<f;){var v=31-Ne(f),_=1<<v;a|=s[v],f&=~_}return Hr=a,Tf(),u}function x1(s,a){We=null,J.H=Ff,a===mu||a===Rf?(a=F0(),yt=3):a===V0?(a=F0(),yt=4):yt=a===z_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,si=a,Je===null&&(Vt=1,Gf(s,yi(a,s.current)))}function C1(){var s=J.H;return J.H=Ff,s===null?Ff:s}function S1(){var s=J.A;return J.A=pI,s}function Rm(){Vt=4,Cs||(ot&4194048)!==ot&&Ei.current!==null||(Ua=!0),(Ss&134217727)===0&&(Fo&134217727)===0||St===null||bs(St,ot,xi,!1)}function km(s,a,u){var f=gt;gt|=2;var v=C1(),_=S1();(St!==s||ot!==a)&&(Xf=null,Ha(s,a)),a=!1;var A=Vt;e:do try{if(yt!==0&&Je!==null){var R=Je,H=si;switch(yt){case 8:Im(),A=6;break e;case 3:case 2:case 9:case 6:Ei.current===null&&(a=!0);var Z=yt;if(yt=0,si=null,qa(s,R,H,Z),u&&Ua){A=0;break e}break;default:Z=yt,yt=0,si=null,qa(s,R,H,Z)}}yI(),A=Vt;break}catch(ae){x1(s,ae)}while(!0);return a&&s.shellSuspendCounter++,Pr=Do=null,gt=f,J.H=v,J.A=_,Je===null&&(St=null,ot=0,Tf()),A}function yI(){for(;Je!==null;)w1(Je)}function vI(s,a){var u=gt;gt|=2;var f=C1(),v=S1();St!==s||ot!==a?(Xf=null,Wf=Dn()+500,Ha(s,a)):Ua=Gn(s,a);e:do try{if(yt!==0&&Je!==null){a=Je;var _=si;t:switch(yt){case 1:yt=0,si=null,qa(s,a,_,1);break;case 2:case 9:if(O0(_)){yt=0,si=null,A1(a);break}a=function(){yt!==2&&yt!==9||St!==s||(yt=7),Zi(s)},_.then(a,a);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:O0(_)?(yt=0,si=null,A1(a)):(yt=0,si=null,qa(s,a,_,7));break;case 5:var A=null;switch(Je.tag){case 26:A=Je.memoizedState;case 5:case 27:var R=Je;if(!A||aT(A)){yt=0,si=null;var H=R.sibling;if(H!==null)Je=H;else{var Z=R.return;Z!==null?(Je=Z,Jf(Z)):Je=null}break t}}yt=0,si=null,qa(s,a,_,5);break;case 6:yt=0,si=null,qa(s,a,_,6);break;case 8:Im(),Vt=6;break e;default:throw Error(i(462))}}_I();break}catch(ae){x1(s,ae)}while(!0);return Pr=Do=null,J.H=f,J.A=v,gt=u,Je!==null?0:(St=null,ot=0,Tf(),Vt)}function _I(){for(;Je!==null&&!is();)w1(Je)}function w1(s){var a=Z_(s.alternate,s,Hr);s.memoizedProps=s.pendingProps,a===null?Jf(s):Je=a}function A1(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=Y_(u,a,a.pendingProps,a.type,void 0,ot);break;case 11:a=Y_(u,a,a.pendingProps,a.type.render,a.ref,ot);break;case 5:$p(a);default:e1(u,a),a=Je=b0(a,Hr),a=Z_(u,a,Hr)}s.memoizedProps=s.pendingProps,a===null?Jf(s):Je=a}function qa(s,a,u,f){Pr=Do=null,$p(a),Pa=null,Su=0;var v=a.return;try{if(lI(s,v,a,u,ot)){Vt=1,Gf(s,yi(u,s.current)),Je=null;return}}catch(_){if(v!==null)throw Je=v,_;Vt=1,Gf(s,yi(u,s.current)),Je=null;return}a.flags&32768?(dt||f===1?s=!0:Ua||(ot&536870912)!==0?s=!1:(Cs=s=!0,(f===2||f===9||f===3||f===6)&&(f=Ei.current,f!==null&&f.tag===13&&(f.flags|=16384))),b1(a,s)):Jf(a)}function Jf(s){var a=s;do{if((a.flags&32768)!==0){b1(a,Cs);return}s=a.return;var u=cI(a.alternate,a,Hr);if(u!==null){Je=u;return}if(a=a.sibling,a!==null){Je=a;return}Je=a=s}while(a!==null);Vt===0&&(Vt=5)}function b1(s,a){do{var u=fI(s.alternate,s);if(u!==null){u.flags&=32767,Je=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){Je=s;return}Je=s=u}while(s!==null);Vt=6,Je=null}function I1(s,a,u,f,v,_,A,R,H){s.cancelPendingCommit=null;do ed();while(yn!==0);if((gt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(_=a.lanes|a.childLanes,_|=Tp,Gl(s,u,_,A,R,H),s===St&&(Je=St=null,ot=0),za=a,As=s,Ba=u,wm=_,Am=v,v1=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,CI(vr,function(){return D1(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=J.T,J.T=null,v=fe.p,fe.p=2,A=gt,gt|=4;try{dI(s,a,u)}finally{gt=A,fe.p=v,J.T=f}}yn=1,R1(),k1(),N1()}}function R1(){if(yn===1){yn=0;var s=As,a=za,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=J.T,J.T=null;var f=fe.p;fe.p=2;var v=gt;gt|=4;try{f1(a,s);var _=Hm,A=y0(s.containerInfo),R=_.focusedElem,H=_.selectionRange;if(A!==R&&R&&R.ownerDocument&&g0(R.ownerDocument.documentElement,R)){if(H!==null&&mp(R)){var Z=H.start,ae=H.end;if(ae===void 0&&(ae=Z),"selectionStart"in R)R.selectionStart=Z,R.selectionEnd=Math.min(ae,R.value.length);else{var ue=R.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Oe=R.textContent.length,De=Math.min(H.start,Oe),Et=H.end===void 0?De:Math.min(H.end,Oe);!te.extend&&De>Et&&(A=Et,Et=De,De=A);var j=m0(R,De),$=m0(R,Et);if(j&&$&&(te.rangeCount!==1||te.anchorNode!==j.node||te.anchorOffset!==j.offset||te.focusNode!==$.node||te.focusOffset!==$.offset)){var X=ue.createRange();X.setStart(j.node,j.offset),te.removeAllRanges(),De>Et?(te.addRange(X),te.extend($.node,$.offset)):(X.setEnd($.node,$.offset),te.addRange(X))}}}}for(ue=[],te=R;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ue.length;R++){var le=ue[R];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}dd=!!Bm,Hm=Bm=null}finally{gt=v,fe.p=f,J.T=u}}s.current=a,yn=2}}function k1(){if(yn===2){yn=0;var s=As,a=za,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=J.T,J.T=null;var f=fe.p;fe.p=2;var v=gt;gt|=4;try{a1(s,a.alternate,a)}finally{gt=v,fe.p=f,J.T=u}}yn=3}}function N1(){if(yn===4||yn===3){yn=0,uo();var s=As,a=za,u=Ba,f=v1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?yn=5:(yn=0,za=As=null,M1(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(ws=null),oa(u),a=a.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(ne,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=J.T,v=fe.p,fe.p=2,J.T=null;try{for(var _=s.onRecoverableError,A=0;A<f.length;A++){var R=f[A];_(R.value,{componentStack:R.stack})}}finally{J.T=a,fe.p=v}}(Ba&3)!==0&&ed(),Zi(s),v=s.pendingLanes,(u&4194090)!==0&&(v&42)!==0?s===bm?Du++:(Du=0,bm=s):Du=0,Pu(0)}}function M1(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,hu(a)))}function ed(s){return R1(),k1(),N1(),D1()}function D1(){if(yn!==5)return!1;var s=As,a=wm;wm=0;var u=oa(Ba),f=J.T,v=fe.p;try{fe.p=32>u?32:u,J.T=null,u=Am,Am=null;var _=As,A=Ba;if(yn=0,za=As=null,Ba=0,(gt&6)!==0)throw Error(i(331));var R=gt;if(gt|=4,g1(_.current),h1(_,_.current,A,u),gt=R,Pu(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(ne,_)}catch{}return!0}finally{fe.p=v,J.T=f,M1(s,a)}}function P1(s,a,u){a=yi(u,a),a=sm(s.stateNode,a,2),s=gs(s,a,2),s!==null&&(Tr(s,2),Zi(s))}function xt(s,a,u){if(s.tag===3)P1(s,s,u);else for(;a!==null;){if(a.tag===3){P1(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ws===null||!ws.has(f))){s=yi(u,s),u=U_(2),f=gs(a,u,2),f!==null&&(F_(u,f,a,s),Tr(f,2),Zi(f));break}}a=a.return}}function Nm(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new mI;var v=new Set;f.set(a,v)}else v=f.get(a),v===void 0&&(v=new Set,f.set(a,v));v.has(u)||(Em=!0,v.add(u),s=TI.bind(null,s,a,u),a.then(s,s))}function TI(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,St===s&&(ot&u)===u&&(Vt===4||Vt===3&&(ot&62914560)===ot&&300>Dn()-Sm?(gt&2)===0&&Ha(s,0):xm|=u,Fa===ot&&(Fa=0)),Zi(s)}function L1(s,a){a===0&&(a=ql()),s=Sa(s,a),s!==null&&(Tr(s,a),Zi(s))}function EI(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),L1(s,u)}function xI(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),L1(s,u)}function CI(s,a){return qn(s,a)}var td=null,Ga=null,Mm=!1,nd=!1,Dm=!1,zo=0;function Zi(s){s!==Ga&&s.next===null&&(Ga===null?td=Ga=s:Ga=Ga.next=s),nd=!0,Mm||(Mm=!0,wI())}function Pu(s,a){if(!Dm&&nd){Dm=!0;do for(var u=!1,f=td;f!==null;){if(s!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var A=f.suspendedLanes,R=f.pingedLanes;_=(1<<31-Ne(42|s)+1)-1,_&=v&~(A&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,F1(f,_))}else _=ot,_=Gt(f,f===St?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||Gn(f,_)||(u=!0,F1(f,_));f=f.next}while(u);Dm=!1}}function SI(){V1()}function V1(){nd=Mm=!1;var s=0;zo!==0&&(DI()&&(s=zo),zo=0);for(var a=Dn(),u=null,f=td;f!==null;){var v=f.next,_=O1(f,a);_===0?(f.next=null,u===null?td=v:u.next=v,v===null&&(Ga=u)):(u=f,(s!==0||(_&3)!==0)&&(nd=!0)),f=v}Pu(s)}function O1(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,v=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var A=31-Ne(_),R=1<<A,H=v[A];H===-1?((R&u)===0||(R&f)!==0)&&(v[A]=Vn(R,a)):H<=a&&(s.expiredLanes|=R),_&=~R}if(a=St,u=ot,u=Gt(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===a&&(yt===2||yt===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&Mn(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Gn(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(f!==null&&Mn(f),oa(u)){case 2:case 8:u=yr;break;case 32:u=vr;break;case 268435456:u=ss;break;default:u=vr}return f=U1.bind(null,s),u=qn(u,f),s.callbackPriority=a,s.callbackNode=u,a}return f!==null&&f!==null&&Mn(f),s.callbackPriority=2,s.callbackNode=null,2}function U1(s,a){if(yn!==0&&yn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(ed()&&s.callbackNode!==u)return null;var f=ot;return f=Gt(s,s===St?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(T1(s,f,a),O1(s,Dn()),s.callbackNode!=null&&s.callbackNode===u?U1.bind(null,s):null)}function F1(s,a){if(ed())return null;T1(s,a,!0)}function wI(){LI(function(){(gt&6)!==0?qn(rs,SI):V1()})}function Pm(){return zo===0&&(zo=Hl()),zo}function z1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:da(""+s)}function B1(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function AI(s,a,u,f,v){if(a==="submit"&&u&&u.stateNode===v){var _=z1((v[$t]||null).action),A=f.submitter;A&&(a=(a=A[$t]||null)?z1(a.formAction):A.getAttribute("formAction"),a!==null&&(_=a,A=null));var R=new ha("action","action",null,f,v);s.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(zo!==0){var H=A?B1(v,A):new FormData(v);em(u,{pending:!0,data:H,method:v.method,action:_},null,H)}}else typeof _=="function"&&(R.preventDefault(),H=A?B1(v,A):new FormData(v),em(u,{pending:!0,data:H,method:v.method,action:_},_,H))},currentTarget:v}]})}}for(var Lm=0;Lm<_p.length;Lm++){var Vm=_p[Lm],bI=Vm.toLowerCase(),II=Vm[0].toUpperCase()+Vm.slice(1);ki(bI,"on"+II)}ki(T0,"onAnimationEnd"),ki(E0,"onAnimationIteration"),ki(x0,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki($b,"onTransitionRun"),ki(Yb,"onTransitionStart"),ki(Kb,"onTransitionCancel"),ki(C0,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function H1(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],v=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var A=f.length-1;0<=A;A--){var R=f[A],H=R.instance,Z=R.currentTarget;if(R=R.listener,H!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=Z;try{_(v)}catch(ae){qf(ae)}v.currentTarget=null,_=H}else for(A=0;A<f.length;A++){if(R=f[A],H=R.instance,Z=R.currentTarget,R=R.listener,H!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=Z;try{_(v)}catch(ae){qf(ae)}v.currentTarget=null,_=H}}}}function et(s,a){var u=a[Yl];u===void 0&&(u=a[Yl]=new Set);var f=s+"__bubble";u.has(f)||(q1(a,s,2,!1),u.add(f))}function Om(s,a,u){var f=0;a&&(f|=4),q1(u,s,f,a)}var id="_reactListening"+Math.random().toString(36).slice(2);function Um(s){if(!s[id]){s[id]=!0,Kl.forEach(function(u){u!=="selectionchange"&&(RI.has(u)||Om(u,!1,s),Om(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[id]||(a[id]=!0,Om("selectionchange",!1,a))}}function q1(s,a,u,f){switch(hT(a)){case 2:var v=nR;break;case 8:v=iR;break;default:v=Zm}u=v.bind(null,a,u,s),v=void 0,!mi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),f?v!==void 0?s.addEventListener(a,u,{capture:!0,passive:v}):s.addEventListener(a,u,!0):v!==void 0?s.addEventListener(a,u,{passive:v}):s.addEventListener(a,u,!1)}function Fm(s,a,u,f,v){var _=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var R=f.stateNode.containerInfo;if(R===v)break;if(A===4)for(A=f.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;R!==null;){if(A=Er(R),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){f=_=A;continue e}R=R.parentNode}}f=f.return}sf(function(){var Z=_,ae=pi(u),ue=[];e:{var ee=S0.get(s);if(ee!==void 0){var te=ha,Oe=s;switch(s){case"keypress":if(qi(u)===0)break e;case"keydown":case"keyup":te=_a;break;case"focusin":Oe="focus",te=ga;break;case"focusout":Oe="blur",te=ga;break;case"beforeblur":case"afterblur":te=ga;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=hf;break;case T0:case E0:case x0:te=ya;break;case C0:te=mf;break;case"scroll":case"scrollend":te=of;break;case"wheel":te=Ta;break;case"copy":case"cut":case"paste":te=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=su;break;case"toggle":case"beforetoggle":te=yf}var De=(a&4)!==0,Et=!De&&(s==="scroll"||s==="scrollend"),j=De?ee!==null?ee+"Capture":null:ee;De=[];for(var $=Z,X;$!==null;){var le=$;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||j===null||(le=_o($,j),le!=null&&De.push(Vu($,le,X))),Et)break;$=$.return}0<De.length&&(ee=new te(ee,Oe,null,u,ae),ue.push({event:ee,listeners:De}))}}if((a&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",ee&&u!==wr&&(Oe=u.relatedTarget||u.fromElement)&&(Er(Oe)||Oe[di]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Oe=u.relatedTarget||u.toElement,te=Z,Oe=Oe?Er(Oe):null,Oe!==null&&(Et=o(Oe),De=Oe.tag,Oe!==Et||De!==5&&De!==27&&De!==6)&&(Oe=null)):(te=null,Oe=Z),te!==Oe)){if(De=gi,le="onMouseLeave",j="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(De=su,le="onPointerLeave",j="onPointerEnter",$="pointer"),Et=te==null?ee:Fi(te),X=Oe==null?ee:Fi(Oe),ee=new De(le,$+"leave",te,u,ae),ee.target=Et,ee.relatedTarget=X,le=null,Er(ae)===Z&&(De=new De(j,$+"enter",Oe,u,ae),De.target=X,De.relatedTarget=Et,le=De),Et=le,te&&Oe)t:{for(De=te,j=Oe,$=0,X=De;X;X=$a(X))$++;for(X=0,le=j;le;le=$a(le))X++;for(;0<$-X;)De=$a(De),$--;for(;0<X-$;)j=$a(j),X--;for(;$--;){if(De===j||j!==null&&De===j.alternate)break t;De=$a(De),j=$a(j)}De=null}else De=null;te!==null&&G1(ue,ee,te,De,!1),Oe!==null&&Et!==null&&G1(ue,Et,Oe,De,!0)}}e:{if(ee=Z?Fi(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var we=u0;else if(en(ee))if(c0)we=Hb;else{we=zb;var Ze=Fb}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Zl(Z.elementType)&&(we=u0):we=Bb;if(we&&(we=we(s,Z))){kr(ue,we,u,ae);break e}Ze&&Ze(s,ee,Z),s==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&fs(ee,"number",ee.value)}switch(Ze=Z?Fi(Z):window,s){case"focusin":(en(Ze)||Ze.contentEditable==="true")&&(Ea=Ze,gp=Z,lu=null);break;case"focusout":lu=gp=Ea=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,v0(ue,u,ae);break;case"selectionchange":if(Gb)break;case"keydown":case"keyup":v0(ue,u,ae)}var Re;if(Yi)e:{switch(s){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else rt?se(s,u)&&(Le="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Le="onCompositionStart");Le&&(S&&u.locale!=="ko"&&(rt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&rt&&(Re=eu()):(Hi=ae,ds="value"in Hi?Hi.value:Hi.textContent,rt=!0)),Ze=rd(Z,Le),0<Ze.length&&(Le=new iu(Le,s,null,u,ae),ue.push({event:Le,listeners:Ze}),Re?Le.data=Re:(Re=_e(u),Re!==null&&(Le.data=Re)))),(Re=x?Jt(s,u):st(s,u))&&(Le=rd(Z,"onBeforeInput"),0<Le.length&&(Ze=new iu("onBeforeInput","beforeinput",null,u,ae),ue.push({event:Ze,listeners:Le}),Ze.data=Re)),AI(ue,s,Z,u,ae)}H1(ue,a)})}function Vu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function rd(s,a){for(var u=a+"Capture",f=[];s!==null;){var v=s,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=_o(s,u),v!=null&&f.unshift(Vu(s,v,_)),v=_o(s,a),v!=null&&f.push(Vu(s,v,_))),s.tag===3)return f;s=s.return}return[]}function $a(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function G1(s,a,u,f,v){for(var _=a._reactName,A=[];u!==null&&u!==f;){var R=u,H=R.alternate,Z=R.stateNode;if(R=R.tag,H!==null&&H===f)break;R!==5&&R!==26&&R!==27||Z===null||(H=Z,v?(Z=_o(u,_),Z!=null&&A.unshift(Vu(u,Z,H))):v||(Z=_o(u,_),Z!=null&&A.push(Vu(u,Z,H)))),u=u.return}A.length!==0&&s.push({event:a,listeners:A})}var kI=/\r\n?/g,NI=/\u0000|\uFFFD/g;function $1(s){return(typeof s=="string"?s:""+s).replace(kI,`
`).replace(NI,"")}function Y1(s,a){return a=$1(a),$1(s)===a}function sd(){}function Tt(s,a,u,f,v,_){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||hi(s,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&hi(s,""+f);break;case"className":zi(s,"class",f);break;case"tabIndex":zi(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":zi(s,u,f);break;case"style":Xl(s,f,_);break;case"data":if(a!=="object"){zi(s,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=da(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(a!=="input"&&Tt(s,a,"name",v.name,v,null),Tt(s,a,"formEncType",v.formEncType,v,null),Tt(s,a,"formMethod",v.formMethod,v,null),Tt(s,a,"formTarget",v.formTarget,v,null)):(Tt(s,a,"encType",v.encType,v,null),Tt(s,a,"method",v.method,v,null),Tt(s,a,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=da(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=sd);break;case"onScroll":f!=null&&et("scroll",s);break;case"onScrollEnd":f!=null&&et("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=da(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":et("beforetoggle",s),et("toggle",s),cs(s,"popover",f);break;case"xlinkActuate":pn(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":pn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":pn(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":pn(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":pn(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":pn(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":pn(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":pn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":pn(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":cs(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=up.get(u)||u,cs(s,u,f))}}function zm(s,a,u,f,v,_){switch(u){case"style":Xl(s,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof f=="string"?hi(s,f):(typeof f=="number"||typeof f=="bigint")&&hi(s,""+f);break;case"onScroll":f!=null&&et("scroll",s);break;case"onScrollEnd":f!=null&&et("scrollend",s);break;case"onClick":f!=null&&(s.onclick=sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),_=s[$t]||null,_=_!=null?_[u]:null,typeof _=="function"&&s.removeEventListener(a,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,f,v);break e}u in s?s[u]=f:f===!0?s.setAttribute(u,""):cs(s,u,f)}}}function vn(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",s),et("load",s);var f=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var A=u[_];if(A!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Tt(s,a,_,A,u,null)}}v&&Tt(s,a,"srcSet",u.srcSet,u,null),f&&Tt(s,a,"src",u.src,u,null);return;case"input":et("invalid",s);var R=_=A=v=null,H=null,Z=null;for(f in u)if(u.hasOwnProperty(f)){var ae=u[f];if(ae!=null)switch(f){case"name":v=ae;break;case"type":A=ae;break;case"checked":H=ae;break;case"defaultChecked":Z=ae;break;case"value":_=ae;break;case"defaultValue":R=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,a));break;default:Tt(s,a,f,ae,u,null)}}go(s,_,R,H,Z,A,v,!1),fa(s);return;case"select":et("invalid",s),f=A=_=null;for(v in u)if(u.hasOwnProperty(v)&&(R=u[v],R!=null))switch(v){case"value":_=R;break;case"defaultValue":A=R;break;case"multiple":f=R;default:Tt(s,a,v,R,u,null)}a=_,u=A,s.multiple=!!f,a!=null?Sr(s,!!f,a,!1):u!=null&&Sr(s,!!f,u,!0);return;case"textarea":et("invalid",s),_=v=f=null;for(A in u)if(u.hasOwnProperty(A)&&(R=u[A],R!=null))switch(A){case"value":f=R;break;case"defaultValue":v=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:Tt(s,a,A,R,u,null)}yo(s,f,v,_),fa(s);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(f=u[H],f!=null))switch(H){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Tt(s,a,H,f,u,null)}return;case"dialog":et("beforetoggle",s),et("toggle",s),et("cancel",s),et("close",s);break;case"iframe":case"object":et("load",s);break;case"video":case"audio":for(f=0;f<Lu.length;f++)et(Lu[f],s);break;case"image":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"embed":case"source":case"link":et("error",s),et("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(f=u[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Tt(s,a,Z,f,u,null)}return;default:if(Zl(a)){for(ae in u)u.hasOwnProperty(ae)&&(f=u[ae],f!==void 0&&zm(s,a,ae,f,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(f=u[R],f!=null&&Tt(s,a,R,f,u,null))}function MI(s,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,A=null,R=null,H=null,Z=null,ae=null;for(te in u){var ue=u[te];if(u.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":H=ue;default:f.hasOwnProperty(te)||Tt(s,a,te,null,f,ue)}}for(var ee in f){var te=f[ee];if(ue=u[ee],f.hasOwnProperty(ee)&&(te!=null||ue!=null))switch(ee){case"type":_=te;break;case"name":v=te;break;case"checked":Z=te;break;case"defaultChecked":ae=te;break;case"value":A=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==ue&&Tt(s,a,ee,te,f,ue)}}ei(s,A,R,H,Z,ae,_,v);return;case"select":te=A=R=ee=null;for(_ in u)if(H=u[_],u.hasOwnProperty(_)&&H!=null)switch(_){case"value":break;case"multiple":te=H;default:f.hasOwnProperty(_)||Tt(s,a,_,null,f,H)}for(v in f)if(_=f[v],H=u[v],f.hasOwnProperty(v)&&(_!=null||H!=null))switch(v){case"value":ee=_;break;case"defaultValue":R=_;break;case"multiple":A=_;default:_!==H&&Tt(s,a,v,_,f,H)}a=R,u=A,f=te,ee!=null?Sr(s,!!u,ee,!1):!!f!=!!u&&(a!=null?Sr(s,!!u,a,!0):Sr(s,!!u,u?[]:"",!1));return;case"textarea":te=ee=null;for(R in u)if(v=u[R],u.hasOwnProperty(R)&&v!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Tt(s,a,R,null,f,v)}for(A in f)if(v=f[A],_=u[A],f.hasOwnProperty(A)&&(v!=null||_!=null))switch(A){case"value":ee=v;break;case"defaultValue":te=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&Tt(s,a,A,v,f,_)}vt(s,ee,te);return;case"option":for(var Oe in u)if(ee=u[Oe],u.hasOwnProperty(Oe)&&ee!=null&&!f.hasOwnProperty(Oe))switch(Oe){case"selected":s.selected=!1;break;default:Tt(s,a,Oe,null,f,ee)}for(H in f)if(ee=f[H],te=u[H],f.hasOwnProperty(H)&&ee!==te&&(ee!=null||te!=null))switch(H){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Tt(s,a,H,ee,f,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)ee=u[De],u.hasOwnProperty(De)&&ee!=null&&!f.hasOwnProperty(De)&&Tt(s,a,De,null,f,ee);for(Z in f)if(ee=f[Z],te=u[Z],f.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:Tt(s,a,Z,ee,f,te)}return;default:if(Zl(a)){for(var Et in u)ee=u[Et],u.hasOwnProperty(Et)&&ee!==void 0&&!f.hasOwnProperty(Et)&&zm(s,a,Et,void 0,f,ee);for(ae in f)ee=f[ae],te=u[ae],!f.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||zm(s,a,ae,ee,f,te);return}}for(var j in u)ee=u[j],u.hasOwnProperty(j)&&ee!=null&&!f.hasOwnProperty(j)&&Tt(s,a,j,null,f,ee);for(ue in f)ee=f[ue],te=u[ue],!f.hasOwnProperty(ue)||ee===te||ee==null&&te==null||Tt(s,a,ue,ee,f,te)}var Bm=null,Hm=null;function od(s){return s.nodeType===9?s:s.ownerDocument}function K1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j1(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function qm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gm=null;function DI(){var s=window.event;return s&&s.type==="popstate"?s===Gm?!1:(Gm=s,!0):(Gm=null,!1)}var Q1=typeof setTimeout=="function"?setTimeout:void 0,PI=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,LI=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(s){return W1.resolve(null).then(s).catch(VI)}:Q1;function VI(s){setTimeout(function(){throw s})}function Is(s){return s==="head"}function X1(s,a){var u=a,f=0,v=0;do{var _=u.nextSibling;if(s.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(0<f&&8>f){u=f;var A=s.ownerDocument;if(u&1&&Ou(A.documentElement),u&2&&Ou(A.body),u&4)for(u=A.head,Ou(u),A=u.firstChild;A;){var R=A.nextSibling,H=A.nodeName;A[fo]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=R}}if(v===0){s.removeChild(_),$u(a);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:f=u.charCodeAt(0)-48;else f=0;u=_}while(u);$u(a)}function $m(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":$m(u),us(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function OI(s,a,u,f){for(;s.nodeType===1;){var v=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[fo])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Mi(s.nextSibling),s===null)break}return null}function UI(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Mi(s.nextSibling),s===null))return null;return s}function Ym(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function FI(s,a){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Mi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Km=null;function Z1(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}function J1(s,a,u){switch(a=od(u),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ou(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);us(s)}var Ci=new Map,eT=new Set;function ad(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var qr=fe.d;fe.d={f:zI,r:BI,D:HI,C:qI,L:GI,m:$I,X:KI,S:YI,M:jI};function zI(){var s=qr.f(),a=Zf();return s||a}function BI(s){var a=Ui(s);a!==null&&a.tag===5&&a.type==="form"?T_(a):qr.r(s)}var Ya=typeof document>"u"?null:document;function tT(s,a,u){var f=Ya;if(f&&typeof a=="string"&&a){var v=Yt(a);v='link[rel="'+s+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),eT.has(v)||(eT.add(v),s={rel:s,crossOrigin:u,href:a},f.querySelector(v)===null&&(a=f.createElement("link"),vn(a,"link",s),Ft(a),f.head.appendChild(a)))}}function HI(s){qr.D(s),tT("dns-prefetch",s,null)}function qI(s,a){qr.C(s,a),tT("preconnect",s,a)}function GI(s,a,u){qr.L(s,a,u);var f=Ya;if(f&&s&&a){var v='link[rel="preload"][as="'+Yt(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Yt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Yt(u.imageSizes)+'"]')):v+='[href="'+Yt(s)+'"]';var _=v;switch(a){case"style":_=Ka(s);break;case"script":_=ja(s)}Ci.has(_)||(s=y({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),Ci.set(_,s),f.querySelector(v)!==null||a==="style"&&f.querySelector(Uu(_))||a==="script"&&f.querySelector(Fu(_))||(a=f.createElement("link"),vn(a,"link",s),Ft(a),f.head.appendChild(a)))}}function $I(s,a){qr.m(s,a);var u=Ya;if(u&&s){var f=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Yt(f)+'"][href="'+Yt(s)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ja(s)}if(!Ci.has(_)&&(s=y({rel:"modulepreload",href:s},a),Ci.set(_,s),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Fu(_)))return}f=u.createElement("link"),vn(f,"link",s),Ft(f),u.head.appendChild(f)}}}function YI(s,a,u){qr.S(s,a,u);var f=Ya;if(f&&s){var v=On(f).hoistableStyles,_=Ka(s);a=a||"default";var A=v.get(_);if(!A){var R={loading:0,preload:null};if(A=f.querySelector(Uu(_)))R.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},u),(u=Ci.get(_))&&jm(s,u);var H=A=f.createElement("link");Ft(H),vn(H,"link",s),H._p=new Promise(function(Z,ae){H.onload=Z,H.onerror=ae}),H.addEventListener("load",function(){R.loading|=1}),H.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ld(A,a,f)}A={type:"stylesheet",instance:A,count:1,state:R},v.set(_,A)}}}function KI(s,a){qr.X(s,a);var u=Ya;if(u&&s){var f=On(u).hoistableScripts,v=ja(s),_=f.get(v);_||(_=u.querySelector(Fu(v)),_||(s=y({src:s,async:!0},a),(a=Ci.get(v))&&Qm(s,a),_=u.createElement("script"),Ft(_),vn(_,"link",s),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function jI(s,a){qr.M(s,a);var u=Ya;if(u&&s){var f=On(u).hoistableScripts,v=ja(s),_=f.get(v);_||(_=u.querySelector(Fu(v)),_||(s=y({src:s,async:!0,type:"module"},a),(a=Ci.get(v))&&Qm(s,a),_=u.createElement("script"),Ft(_),vn(_,"link",s),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function nT(s,a,u,f){var v=(v=Te.current)?ad(v):null;if(!v)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Ka(u.href),u=On(v).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Ka(u.href);var _=On(v).hoistableStyles,A=_.get(s);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,A),(_=v.querySelector(Uu(s)))&&!_._p&&(A.instance=_,A.state.loading=5),Ci.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ci.set(s,u),_||QI(v,s,u,A.state))),a&&f===null)throw Error(i(528,""));return A}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ja(u),u=On(v).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ka(s){return'href="'+Yt(s)+'"'}function Uu(s){return'link[rel="stylesheet"]['+s+"]"}function iT(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function QI(s,a,u,f){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=s.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),vn(a,"link",u),Ft(a),s.head.appendChild(a))}function ja(s){return'[src="'+Yt(s)+'"]'}function Fu(s){return"script[async]"+s}function rT(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=s.querySelector('style[data-href~="'+Yt(u.href)+'"]');if(f)return a.instance=f,Ft(f),f;var v=y({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Ft(f),vn(f,"style",v),ld(f,u.precedence,s),a.instance=f;case"stylesheet":v=Ka(u.href);var _=s.querySelector(Uu(v));if(_)return a.state.loading|=4,a.instance=_,Ft(_),_;f=iT(u),(v=Ci.get(v))&&jm(f,v),_=(s.ownerDocument||s).createElement("link"),Ft(_);var A=_;return A._p=new Promise(function(R,H){A.onload=R,A.onerror=H}),vn(_,"link",f),a.state.loading|=4,ld(_,u.precedence,s),a.instance=_;case"script":return _=ja(u.src),(v=s.querySelector(Fu(_)))?(a.instance=v,Ft(v),v):(f=u,(v=Ci.get(_))&&(f=y({},u),Qm(f,v)),s=s.ownerDocument||s,v=s.createElement("script"),Ft(v),vn(v,"link",f),s.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,ld(f,u.precedence,s));return a.instance}function ld(s,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,A=0;A<f.length;A++){var R=f[A];if(R.dataset.precedence===a)_=R;else if(_!==v)break}_?_.parentNode.insertBefore(s,_.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function jm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Qm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var ud=null;function sT(s,a,u){if(ud===null){var f=new Map,v=ud=new Map;v.set(u,f)}else v=ud,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),v=0;v<u.length;v++){var _=u[v];if(!(_[fo]||_[Zt]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(a)||"";A=s+A;var R=f.get(A);R?R.push(_):f.set(A,[_])}}return f}function oT(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function WI(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function aT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var zu=null;function XI(){}function ZI(s,a,u){if(zu===null)throw Error(i(475));var f=zu;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=Ka(u.href),_=s.querySelector(Uu(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=cd.bind(f),s.then(f,f)),a.state.loading|=4,a.instance=_,Ft(_);return}_=s.ownerDocument||s,u=iT(u),(v=Ci.get(v))&&jm(u,v),_=_.createElement("link"),Ft(_);var A=_;A._p=new Promise(function(R,H){A.onload=R,A.onerror=H}),vn(_,"link",u),a.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=cd.bind(f),s.addEventListener("load",a),s.addEventListener("error",a))}}function JI(){if(zu===null)throw Error(i(475));var s=zu;return s.stylesheets&&s.count===0&&Wm(s,s.stylesheets),0<s.count?function(a){var u=setTimeout(function(){if(s.stylesheets&&Wm(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u)}}:null}function cd(){if(this.count--,this.count===0){if(this.stylesheets)Wm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var fd=null;function Wm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,fd=new Map,a.forEach(eR,s),fd=null,cd.call(s))}function eR(s,a){if(!(a.state.loading&4)){var u=fd.get(s);if(u)var f=u.get(null);else{u=new Map,fd.set(s,u);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var A=v[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),f=A)}f&&u.set(null,f)}v=a.instance,A=v.getAttribute("data-precedence"),_=u.get(A)||f,_===f&&u.set(null,v),u.set(A,v),this.count++,f=cd.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),a.state.loading|=4}}var Bu={$$typeof:G,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function tR(s,a,u,f,v,_,A,R){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function lT(s,a,u,f,v,_,A,R,H,Z,ae,ue){return s=new tR(s,a,u,A,R,H,Z,ue),a=1,_===!0&&(a|=24),_=ni(3,null,null,a),s.current=_,_.stateNode=s,a=Np(),a.refCount++,s.pooledCache=a,a.refCount++,_.memoizedState={element:f,isDehydrated:u,cache:a},Lp(_),s}function uT(s){return s?(s=wa,s):wa}function cT(s,a,u,f,v,_){v=uT(v),f.context===null?f.context=v:f.pendingContext=v,f=ms(a),f.payload={element:u},_=_===void 0?null:_,_!==null&&(f.callback=_),u=gs(s,f,a),u!==null&&(ai(u,s,a),yu(u,s,a))}function fT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Xm(s,a){fT(s,a),(s=s.alternate)&&fT(s,a)}function dT(s){if(s.tag===13){var a=Sa(s,67108864);a!==null&&ai(a,s,67108864),Xm(s,67108864)}}var dd=!0;function nR(s,a,u,f){var v=J.T;J.T=null;var _=fe.p;try{fe.p=2,Zm(s,a,u,f)}finally{fe.p=_,J.T=v}}function iR(s,a,u,f){var v=J.T;J.T=null;var _=fe.p;try{fe.p=8,Zm(s,a,u,f)}finally{fe.p=_,J.T=v}}function Zm(s,a,u,f){if(dd){var v=Jm(f);if(v===null)Fm(s,a,f,hd,u),pT(s,f);else if(sR(v,s,a,u,f))f.stopPropagation();else if(pT(s,f),a&4&&-1<rR.indexOf(s)){for(;v!==null;){var _=Ui(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=hn(_.pendingLanes);if(A!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var H=1<<31-Ne(A);R.entanglements[1]|=H,A&=~H}Zi(_),(gt&6)===0&&(Wf=Dn()+500,Pu(0))}}break;case 13:R=Sa(_,2),R!==null&&ai(R,_,2),Zf(),Xm(_,2)}if(_=Jm(f),_===null&&Fm(s,a,f,hd,u),_===v)break;v=_}v!==null&&f.stopPropagation()}else Fm(s,a,f,null,u)}}function Jm(s){return s=pi(s),eg(s)}var hd=null;function eg(s){if(hd=null,s=Er(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return hd=s,null}function hT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zl()){case rs:return 2;case yr:return 8;case vr:case Bl:return 32;case ss:return 268435456;default:return 32}default:return 32}}var tg=!1,Rs=null,ks=null,Ns=null,Hu=new Map,qu=new Map,Ms=[],rR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pT(s,a){switch(s){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Hu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(a.pointerId)}}function Gu(s,a,u,f,v,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},a!==null&&(a=Ui(a),a!==null&&dT(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function sR(s,a,u,f,v){switch(a){case"focusin":return Rs=Gu(Rs,s,a,u,f,v),!0;case"dragenter":return ks=Gu(ks,s,a,u,f,v),!0;case"mouseover":return Ns=Gu(Ns,s,a,u,f,v),!0;case"pointerover":var _=v.pointerId;return Hu.set(_,Gu(Hu.get(_)||null,s,a,u,f,v)),!0;case"gotpointercapture":return _=v.pointerId,qu.set(_,Gu(qu.get(_)||null,s,a,u,f,v)),!0}return!1}function mT(s){var a=Er(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,Xc(s.priority,function(){if(u.tag===13){var f=oi();f=os(f);var v=Sa(u,f);v!==null&&ai(v,u,f),Xm(u,f)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function pd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Jm(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);wr=f,u.target.dispatchEvent(f),wr=null}else return a=Ui(u),a!==null&&dT(a),s.blockedOn=u,!1;a.shift()}return!0}function gT(s,a,u){pd(s)&&u.delete(a)}function oR(){tg=!1,Rs!==null&&pd(Rs)&&(Rs=null),ks!==null&&pd(ks)&&(ks=null),Ns!==null&&pd(Ns)&&(Ns=null),Hu.forEach(gT),qu.forEach(gT)}function md(s,a){s.blockedOn===a&&(s.blockedOn=null,tg||(tg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oR)))}var gd=null;function yT(s){gd!==s&&(gd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gd===s&&(gd=null);for(var a=0;a<s.length;a+=3){var u=s[a],f=s[a+1],v=s[a+2];if(typeof f!="function"){if(eg(f||u)===null)continue;break}var _=Ui(u);_!==null&&(s.splice(a,3),a-=3,em(_,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function $u(s){function a(H){return md(H,s)}Rs!==null&&md(Rs,s),ks!==null&&md(ks,s),Ns!==null&&md(Ns,s),Hu.forEach(a),qu.forEach(a);for(var u=0;u<Ms.length;u++){var f=Ms[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<Ms.length&&(u=Ms[0],u.blockedOn===null);)mT(u),u.blockedOn===null&&Ms.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],_=u[f+1],A=v[$t]||null;if(typeof _=="function")A||yT(u);else if(A){var R=null;if(_&&_.hasAttribute("formAction")){if(v=_,A=_[$t]||null)R=A.formAction;else if(eg(v)!==null)continue}else R=A.action;typeof R=="function"?u[f+1]=R:(u.splice(f,3),f-=3),yT(u)}}}function ng(s){this._internalRoot=s}yd.prototype.render=ng.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,f=oi();cT(u,f,s,a,null,null)},yd.prototype.unmount=ng.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;cT(s.current,2,null,s,null,null),Zf(),a[di]=null}};function yd(s){this._internalRoot=s}yd.prototype.unstable_scheduleHydration=function(s){if(s){var a=as();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Ms.length&&a!==0&&a<Ms[u].priority;u++);Ms.splice(u,0,s),u===0&&mT(s)}};var vT=e.version;if(vT!=="19.1.0")throw Error(i(527,vT,"19.1.0"));fe.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var aR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{ne=vd.inject(aR),de=vd}catch{}}return Ku.createRoot=function(s,a){if(!r(s))throw Error(i(299));var u=!1,f="",v=P_,_=L_,A=V_,R=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=lT(s,1,!1,null,null,u,f,v,_,A,R,null),s[di]=a.current,Um(s),new ng(a)},Ku.hydrateRoot=function(s,a,u){if(!r(s))throw Error(i(299));var f=!1,v="",_=P_,A=L_,R=V_,H=null,Z=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(H=u.unstable_transitionCallbacks),u.formState!==void 0&&(Z=u.formState)),a=lT(s,1,!0,a,u??null,f,v,_,A,R,H,Z),a.context=uT(null),u=a.current,f=oi(),f=os(f),v=ms(f),v.callback=null,gs(u,v,f),u=f,a.current.lanes=u,Tr(a,u),Zi(a),s[di]=a.current,Um(s),new yd(a)},Ku.version="19.1.0",Ku}var IT;function yR(){if(IT)return rg.exports;IT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rg.exports=gR(),rg.exports}var vR=yR(),K=By();const Go=zy(K);var ju={},RT;function _R(){if(RT)return ju;RT=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.parse=l,ju.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,C){const I=new o,k=E.length;if(k<2)return I;const F=(C==null?void 0:C.decode)||y;let U=0;do{const q=E.indexOf("=",U);if(q===-1)break;const G=E.indexOf(";",U),re=G===-1?k:G;if(q>re){U=E.lastIndexOf(";",q-1)+1;continue}const ie=c(E,U,q),Y=h(E,q,ie),V=E.slice(ie,Y);if(I[V]===void 0){let D=c(E,q+1,re),N=h(E,re,D);const O=F(E.slice(D,N));I[V]=O}U=re+1}while(U<k);return I}function c(E,C,I){do{const k=E.charCodeAt(C);if(k!==32&&k!==9)return C}while(++C<I);return I}function h(E,C,I){for(;C>I;){const k=E.charCodeAt(--C);if(k!==32&&k!==9)return C+1}return I}function d(E,C,I){const k=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const F=k(C);if(!e.test(F))throw new TypeError(`argument val is invalid: ${C}`);let U=E+"="+F;if(!I)return U;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);U+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);U+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);U+="; Path="+I.path}if(I.expires){if(!T(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);U+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(U+="; HttpOnly"),I.secure&&(U+="; Secure"),I.partitioned&&(U+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return U}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function T(E){return r.call(E)==="[object Date]"}return ju}_R();var kT="popstate";function TR(n={}){function e(r,o){let{pathname:l="/",search:c="",hash:h=""}=ea(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Og("",{pathname:l,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let l=r.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=r.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof o=="string"?o:vc(o))}function i(r,o){Li(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return xR(e,t,i,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Li(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ER(){return Math.random().toString(36).substring(2,10)}function NT(n,e){return{usr:n.state,key:n.key,idx:e}}function Og(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ea(e):e,state:t,key:e&&e.key||i||ER()}}function vc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ea(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function xR(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,c="POP",h=null,d=y();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function y(){return(l.state||{idx:null}).idx}function T(){c="POP";let F=y(),U=F==null?null:F-d;d=F,h&&h({action:c,location:k.location,delta:U})}function E(F,U){c="PUSH";let q=Og(k.location,F,U);t&&t(q,F),d=y()+1;let G=NT(q,d),re=k.createHref(q);try{l.pushState(G,"",re)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;r.location.assign(re)}o&&h&&h({action:c,location:k.location,delta:1})}function C(F,U){c="REPLACE";let q=Og(k.location,F,U);t&&t(q,F),d=y();let G=NT(q,d),re=k.createHref(q);l.replaceState(G,"",re),o&&h&&h({action:c,location:k.location,delta:0})}function I(F){return CR(F)}let k={get action(){return c},get location(){return n(r,l)},listen(F){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(kT,T),h=F,()=>{r.removeEventListener(kT,T),h=null}},createHref(F){return e(r,F)},createURL:I,encodeLocation(F){let U=I(F);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:C,go(F){return l.go(F)}};return k}function CR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:vc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function PS(n,e,t="/"){return SR(n,e,t,!1)}function SR(n,e,t,i){let r=typeof e=="string"?ea(e):e,o=jr(r.pathname||"/",t);if(o==null)return null;let l=LS(n);wR(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=OS(o);c=PR(l[h],d,i)}return c}function LS(n,e=[],t=[],i=""){let r=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Nt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=Yr([i,h.relativePath]),y=t.concat(h);o.children&&o.children.length>0&&(Nt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),LS(o.children,e,y,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:MR(d,o.index),routesMeta:y})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,l);else for(let h of VS(o.path))r(o,l,h)}),e}function VS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=VS(i.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function wR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var AR=/^:[\w-]+$/,bR=3,IR=2,RR=1,kR=10,NR=-2,MT=n=>n==="*";function MR(n,e){let t=n.split("/"),i=t.length;return t.some(MT)&&(i+=NR),e&&(i+=IR),t.filter(r=>!MT(r)).reduce((r,o)=>r+(AR.test(o)?bR:o===""?RR:kR),i)}function DR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function PR(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",T=_c({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},y),E=h.route;if(!T&&d&&t&&!i[i.length-1].route.index&&(T=_c({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!T)return null;Object.assign(r,T.params),l.push({params:r,pathname:Yr([o,T.pathname]),pathnameBase:FR(Yr([o,T.pathnameBase])),route:E}),T.pathnameBase!=="/"&&(o=Yr([o,T.pathnameBase]))}return l}function _c(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=LR(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((d,{paramName:y,isOptional:T},E)=>{if(y==="*"){let I=c[E]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const C=c[E];return T&&!C?d[y]=void 0:d[y]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function LR(n,e=!1,t=!0){Li(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function OS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Li(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function jr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function VR(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?ea(n):n;return{pathname:t?t.startsWith("/")?t:OR(t,e):e,search:zR(i),hash:BR(r)}}function OR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function ug(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function US(n){let e=UR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function FS(n,e,t,i=!1){let r;typeof n=="string"?r=ea(n):(r={...n},Nt(!r.pathname||!r.pathname.includes("?"),ug("?","pathname","search",r)),Nt(!r.pathname||!r.pathname.includes("#"),ug("#","pathname","hash",r)),Nt(!r.search||!r.search.includes("#"),ug("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,c;if(l==null)c=t;else{let T=e.length-1;if(!i&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),T-=1;r.pathname=E.join("/")}c=T>=0?e[T]:"/"}let h=VR(r,c),d=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||y)&&(h.pathname+="/"),h}var Yr=n=>n.join("/").replace(/\/\/+/g,"/"),FR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var zS=["POST","PUT","PATCH","DELETE"];new Set(zS);var qR=["GET",...zS];new Set(qR);var bl=K.createContext(null);bl.displayName="DataRouter";var Mh=K.createContext(null);Mh.displayName="DataRouterState";var BS=K.createContext({isTransitioning:!1});BS.displayName="ViewTransition";var GR=K.createContext(new Map);GR.displayName="Fetchers";var $R=K.createContext(null);$R.displayName="Await";var pr=K.createContext(null);pr.displayName="Navigation";var Mc=K.createContext(null);Mc.displayName="Location";var mr=K.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var Hy=K.createContext(null);Hy.displayName="RouteError";function YR(n,{relative:e}={}){Nt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=K.useContext(pr),{hash:r,pathname:o,search:l}=Dc(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Yr([t,o])),i.createHref({pathname:c,search:l,hash:r})}function Il(){return K.useContext(Mc)!=null}function gr(){return Nt(Il(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Mc).location}function KR(n){Nt(Il(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=gr();return K.useMemo(()=>_c(n,OS(e)),[e,n])}var HS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qS(n){K.useContext(pr).static||K.useLayoutEffect(n)}function Dh(){let{isDataRoute:n}=K.useContext(mr);return n?ak():jR()}function jR(){Nt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(bl),{basename:e,navigator:t}=K.useContext(pr),{matches:i}=K.useContext(mr),{pathname:r}=gr(),o=JSON.stringify(US(i)),l=K.useRef(!1);return qS(()=>{l.current=!0}),K.useCallback((h,d={})=>{if(Li(l.current,HS),!l.current)return;if(typeof h=="number"){t.go(h);return}let y=FS(h,JSON.parse(o),r,d.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Yr([e,y.pathname])),(d.replace?t.replace:t.push)(y,d.state,d)},[e,t,o,r,n])}K.createContext(null);function QR(){let{matches:n}=K.useContext(mr),e=n[n.length-1];return e?e.params:{}}function Dc(n,{relative:e}={}){let{matches:t}=K.useContext(mr),{pathname:i}=gr(),r=JSON.stringify(US(t));return K.useMemo(()=>FS(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function WR(n,e){return GS(n,e)}function GS(n,e,t,i){var U;Nt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=K.useContext(pr),{matches:o}=K.useContext(mr),l=o[o.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",y=l&&l.route;{let q=y&&y.path||"";$S(h,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let T=gr(),E;if(e){let q=typeof e=="string"?ea(e):e;Nt(d==="/"||((U=q.pathname)==null?void 0:U.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${q.pathname}" was given in the \`location\` prop.`),E=q}else E=T;let C=E.pathname||"/",I=C;if(d!=="/"){let q=d.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=PS(n,{pathname:I});Li(y||k!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Li(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=tk(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},c,q.params),pathname:Yr([d,r.encodeLocation?r.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?d:Yr([d,r.encodeLocation?r.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),o,t,i);return e&&F?K.createElement(Mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},F):F}function XR(){let n=ok(),e=HR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:o},"ErrorBoundary")," or"," ",K.createElement("code",{style:o},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:r},t):null,l)}var ZR=K.createElement(XR,null),JR=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(mr.Provider,{value:this.props.routeContext},K.createElement(Hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ek({routeContext:n,match:e,children:t}){let i=K.useContext(bl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(mr.Provider,{value:n},t)}function tk(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t==null?void 0:t.errors;if(o!=null){let h=r.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Nt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<r.length;h++){let d=r[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:y,errors:T}=t,E=d.route.loader&&!y.hasOwnProperty(d.route.id)&&(!T||T[d.route.id]===void 0);if(d.route.lazy||E){l=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((h,d,y)=>{let T,E=!1,C=null,I=null;t&&(T=o&&d.route.id?o[d.route.id]:void 0,C=d.route.errorElement||ZR,l&&(c<0&&y===0?($S("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,I=null):c===y&&(E=!0,I=d.route.hydrateFallbackElement||null)));let k=e.concat(r.slice(0,y+1)),F=()=>{let U;return T?U=C:E?U=I:d.route.Component?U=K.createElement(d.route.Component,null):d.route.element?U=d.route.element:U=h,K.createElement(ek,{match:d,routeContext:{outlet:h,matches:k,isDataRoute:t!=null},children:U})};return t&&(d.route.ErrorBoundary||d.route.errorElement||y===0)?K.createElement(JR,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:F(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):F()},null)}function qy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nk(n){let e=K.useContext(bl);return Nt(e,qy(n)),e}function ik(n){let e=K.useContext(Mh);return Nt(e,qy(n)),e}function rk(n){let e=K.useContext(mr);return Nt(e,qy(n)),e}function Gy(n){let e=rk(n),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function sk(){return Gy("useRouteId")}function ok(){var i;let n=K.useContext(Hy),e=ik("useRouteError"),t=Gy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function ak(){let{router:n}=nk("useNavigate"),e=Gy("useNavigate"),t=K.useRef(!1);return qS(()=>{t.current=!0}),K.useCallback(async(r,o={})=>{Li(t.current,HS),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var DT={};function $S(n,e,t){!e&&!DT[n]&&(DT[n]=!0,Li(!1,t))}K.memo(lk);function lk({routes:n,future:e,state:t}){return GS(n,void 0,t,e)}function Ug(n){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uk({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){Nt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=K.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof t=="string"&&(t=ea(t));let{pathname:h="/",search:d="",hash:y="",state:T=null,key:E="default"}=t,C=K.useMemo(()=>{let I=jr(h,l);return I==null?null:{location:{pathname:I,search:d,hash:y,state:T,key:E},navigationType:i}},[l,h,d,y,T,E,i]);return Li(C!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:K.createElement(pr.Provider,{value:c},K.createElement(Mc.Provider,{children:e,value:C}))}function ck({children:n,location:e}){return WR(Fg(n),e)}function Fg(n,e=[]){let t=[];return K.Children.forEach(n,(i,r)=>{if(!K.isValidElement(i))return;let o=[...e,r];if(i.type===K.Fragment){t.push.apply(t,Fg(i.props.children,o));return}Nt(i.type===Ug,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Fg(i.props.children,o)),t.push(l)}),t}var Dd="get",Pd="application/x-www-form-urlencoded";function Ph(n){return n!=null&&typeof n.tagName=="string"}function fk(n){return Ph(n)&&n.tagName.toLowerCase()==="button"}function dk(n){return Ph(n)&&n.tagName.toLowerCase()==="form"}function hk(n){return Ph(n)&&n.tagName.toLowerCase()==="input"}function pk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function mk(n,e){return n.button===0&&(!e||e==="_self")&&!pk(n)}var _d=null;function gk(){if(_d===null)try{new FormData(document.createElement("form"),0),_d=!1}catch{_d=!0}return _d}var yk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cg(n){return n!=null&&!yk.has(n)?(Li(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):n}function vk(n,e){let t,i,r,o,l;if(dk(n)){let c=n.getAttribute("action");i=c?jr(c,e):null,t=n.getAttribute("method")||Dd,r=cg(n.getAttribute("enctype"))||Pd,o=new FormData(n)}else if(fk(n)||hk(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?jr(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Dd,r=cg(n.getAttribute("formenctype"))||cg(c.getAttribute("enctype"))||Pd,o=new FormData(c,n),!gk()){let{name:d,type:y,value:T}=n;if(y==="image"){let E=d?`${d}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else d&&o.append(d,T)}}else{if(Ph(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dd,i=null,r=Pd,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:l}}function $y(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function _k(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Ek(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await _k(o,t);return l.links?l.links():[]}return[]}));return wk(i.flat(1).filter(Tk).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function PT(n,e,t,i,r,o){let l=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>{var y;return t[d].pathname!==h.pathname||((y=t[d].route.path)==null?void 0:y.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,d)=>l(h,d)||c(h,d)):o==="data"?e.filter((h,d)=>{var T;let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function xk(n,e,{includeHydrateFallback:t}={}){return Ck(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function Ck(n){return[...new Set(n)]}function Sk(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function wk(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(Sk(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ak=new Set([100,101,204,205]);function bk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&jr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function YS(){let n=K.useContext(bl);return $y(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Ik(){let n=K.useContext(Mh);return $y(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Yy=K.createContext(void 0);Yy.displayName="FrameworkContext";function KS(){let n=K.useContext(Yy);return $y(n,"You must render this element inside a <HydratedRouter> element"),n}function Rk(n,e){let t=K.useContext(Yy),[i,r]=K.useState(!1),[o,l]=K.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:y,onTouchStart:T}=e,E=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let k=U=>{U.forEach(q=>{l(q.isIntersecting)})},F=new IntersectionObserver(k,{threshold:.5});return E.current&&F.observe(E.current),()=>{F.disconnect()}}},[n]),K.useEffect(()=>{if(i){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[i]);let C=()=>{r(!0)},I=()=>{r(!1),l(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Qu(c,C),onBlur:Qu(h,I),onMouseEnter:Qu(d,C),onMouseLeave:Qu(y,I),onTouchStart:Qu(T,C)}]:[!1,E,{}]}function Qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kk({page:n,...e}){let{router:t}=YS(),i=K.useMemo(()=>PS(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?K.createElement(Mk,{page:n,matches:i,...e}):null}function Nk(n){let{manifest:e,routeModules:t}=KS(),[i,r]=K.useState([]);return K.useEffect(()=>{let o=!1;return Ek(n,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[n,e,t]),i}function Mk({page:n,matches:e,...t}){let i=gr(),{manifest:r,routeModules:o}=KS(),{basename:l}=YS(),{loaderData:c,matches:h}=Ik(),d=K.useMemo(()=>PT(n,e,h,r,i,"data"),[n,e,h,r,i]),y=K.useMemo(()=>PT(n,e,h,r,i,"assets"),[n,e,h,r,i]),T=K.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let I=new Set,k=!1;if(e.forEach(U=>{var G;let q=r.routes[U.route.id];!q||!q.hasLoader||(!d.some(re=>re.route.id===U.route.id)&&U.route.id in c&&((G=o[U.route.id])!=null&&G.shouldRevalidate)||q.hasClientLoader?k=!0:I.add(U.route.id))}),I.size===0)return[];let F=bk(n,l);return k&&I.size>0&&F.searchParams.set("_routes",e.filter(U=>I.has(U.route.id)).map(U=>U.route.id).join(",")),[F.pathname+F.search]},[l,c,i,r,d,e,n,o]),E=K.useMemo(()=>xk(y,r),[y,r]),C=Nk(y);return K.createElement(K.Fragment,null,T.map(I=>K.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),E.map(I=>K.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),C.map(({key:I,link:k})=>K.createElement("link",{key:I,...k})))}function Dk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jS&&(window.__reactRouterVersion="7.6.1")}catch{}function Pk({basename:n,children:e,window:t}){let i=K.useRef();i.current==null&&(i.current=TR({window:t,v5Compat:!0}));let r=i.current,[o,l]=K.useState({action:r.action,location:r.location}),c=K.useCallback(h=>{K.startTransition(()=>l(h))},[l]);return K.useLayoutEffect(()=>r.listen(c),[r,c]),K.createElement(uk,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}var QS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WS=K.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:c,target:h,to:d,preventScrollReset:y,viewTransition:T,...E},C){let{basename:I}=K.useContext(pr),k=typeof d=="string"&&QS.test(d),F,U=!1;if(typeof d=="string"&&k&&(F=d,jS))try{let N=new URL(window.location.href),O=d.startsWith("//")?new URL(N.protocol+d):new URL(d),z=jr(O.pathname,I);O.origin===N.origin&&z!=null?d=z+O.search+O.hash:U=!0}catch{Li(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=YR(d,{relative:r}),[G,re,ie]=Rk(i,E),Y=Uk(d,{replace:l,state:c,target:h,preventScrollReset:y,relative:r,viewTransition:T});function V(N){e&&e(N),N.defaultPrevented||Y(N)}let D=K.createElement("a",{...E,...ie,href:F||q,onClick:U||o?e:V,ref:Dk(C,re),target:h,"data-discover":!k&&t==="render"?"true":void 0});return G&&!k?K.createElement(K.Fragment,null,D,K.createElement(kk,{page:q})):D});WS.displayName="Link";var Lk=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:c,children:h,...d},y){let T=Dc(l,{relative:d.relative}),E=gr(),C=K.useContext(Mh),{navigator:I,basename:k}=K.useContext(pr),F=C!=null&&qk(T)&&c===!0,U=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,q=E.pathname,G=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(q=q.toLowerCase(),G=G?G.toLowerCase():null,U=U.toLowerCase()),G&&k&&(G=jr(G,k)||G);const re=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ie=q===U||!r&&q.startsWith(U)&&q.charAt(re)==="/",Y=G!=null&&(G===U||!r&&G.startsWith(U)&&G.charAt(U.length)==="/"),V={isActive:ie,isPending:Y,isTransitioning:F},D=ie?e:void 0,N;typeof i=="function"?N=i(V):N=[i,ie?"active":null,Y?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(V):o;return K.createElement(WS,{...d,"aria-current":D,className:N,ref:y,style:O,to:l,viewTransition:c},typeof h=="function"?h(V):h)});Lk.displayName="NavLink";var Vk=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:l=Dd,action:c,onSubmit:h,relative:d,preventScrollReset:y,viewTransition:T,...E},C)=>{let I=Bk(),k=Hk(c,{relative:d}),F=l.toLowerCase()==="get"?"get":"post",U=typeof c=="string"&&QS.test(c),q=G=>{if(h&&h(G),G.defaultPrevented)return;G.preventDefault();let re=G.nativeEvent.submitter,ie=(re==null?void 0:re.getAttribute("formmethod"))||l;I(re||G.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:r,state:o,relative:d,preventScrollReset:y,viewTransition:T})};return K.createElement("form",{ref:C,method:F,action:k,onSubmit:i?h:q,...E,"data-discover":!U&&n==="render"?"true":void 0})});Vk.displayName="Form";function Ok(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(n){let e=K.useContext(bl);return Nt(e,Ok(n)),e}function Uk(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let c=Dh(),h=gr(),d=Dc(n,{relative:o});return K.useCallback(y=>{if(mk(y,e)){y.preventDefault();let T=t!==void 0?t:vc(h)===vc(d);c(n,{replace:T,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[h,c,d,t,i,e,n,r,o,l])}var Fk=0,zk=()=>`__${String(++Fk)}__`;function Bk(){let{router:n}=XS("useSubmit"),{basename:e}=K.useContext(pr),t=sk();return K.useCallback(async(i,r={})=>{let{action:o,method:l,encType:c,formData:h,body:d}=vk(i,e);if(r.navigate===!1){let y=r.fetcherKey||zk();await n.fetch(y,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:d,formMethod:r.method||l,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:d,formMethod:r.method||l,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function Hk(n,{relative:e}={}){let{basename:t}=K.useContext(pr),i=K.useContext(mr);Nt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Dc(n||".",{relative:e})},l=gr();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(y=>y==="")){c.delete("index"),h.filter(T=>T).forEach(T=>c.append("index",T));let y=c.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Yr([t,o.pathname])),vc(o)}function qk(n,e={}){let t=K.useContext(BS);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=XS("useViewTransitionState"),r=Dc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=jr(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=jr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return _c(r.pathname,l)!=null||_c(r.pathname,o)!=null}[...Ak];var ft;(function(n){n.assertEqual=r=>{};function e(r){}n.assertIs=e;function t(r){throw new Error}n.assertNever=t,n.arrayToEnum=r=>{const o={};for(const l of r)o[l]=l;return o},n.getValidEnumValues=r=>{const o=n.objectKeys(r).filter(c=>typeof r[r[c]]!="number"),l={};for(const c of o)l[c]=r[c];return n.objectValues(l)},n.objectValues=r=>n.objectKeys(r).map(function(o){return r[o]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const o=[];for(const l in r)Object.prototype.hasOwnProperty.call(r,l)&&o.push(l);return o},n.find=(r,o)=>{for(const l of r)if(o(l))return l},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function i(r,o=" | "){return r.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}n.joinValues=i,n.jsonStringifyReplacer=(r,o)=>typeof o=="bigint"?o.toString():o})(ft||(ft={}));var LT;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(LT||(LT={}));const Ae=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vs=n=>{switch(typeof n){case"undefined":return Ae.undefined;case"string":return Ae.string;case"number":return Number.isNaN(n)?Ae.nan:Ae.number;case"boolean":return Ae.boolean;case"function":return Ae.function;case"bigint":return Ae.bigint;case"symbol":return Ae.symbol;case"object":return Array.isArray(n)?Ae.array:n===null?Ae.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Ae.promise:typeof Map<"u"&&n instanceof Map?Ae.map:typeof Set<"u"&&n instanceof Set?Ae.set:typeof Date<"u"&&n instanceof Date?Ae.date:Ae.object;default:return Ae.unknown}},ve=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},i={_errors:[]},r=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(r);else if(l.code==="invalid_return_type")r(l.returnTypeError);else if(l.code==="invalid_arguments")r(l.argumentsError);else if(l.path.length===0)i._errors.push(t(l));else{let c=i,h=0;for(;h<l.path.length;){const d=l.path[h];h===l.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(t(l))):c[d]=c[d]||{_errors:[]},c=c[d],h++}}};return r(this),i}static assert(e){if(!(e instanceof Qr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}Qr.create=n=>new Qr(n);const zg=(n,e)=>{let t;switch(n.code){case ve.invalid_type:n.received===Ae.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ve.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,ft.jsonStringifyReplacer)}`;break;case ve.unrecognized_keys:t=`Unrecognized key(s) in object: ${ft.joinValues(n.keys,", ")}`;break;case ve.invalid_union:t="Invalid input";break;case ve.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ft.joinValues(n.options)}`;break;case ve.invalid_enum_value:t=`Invalid enum value. Expected ${ft.joinValues(n.options)}, received '${n.received}'`;break;case ve.invalid_arguments:t="Invalid function arguments";break;case ve.invalid_return_type:t="Invalid function return type";break;case ve.invalid_date:t="Invalid date";break;case ve.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:ft.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ve.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ve.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ve.custom:t="Invalid input";break;case ve.invalid_intersection_types:t="Intersection results could not be merged";break;case ve.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ve.not_finite:t="Number must be finite";break;default:t=e.defaultError,ft.assertNever(n)}return{message:t}};let Gk=zg;function $k(){return Gk}const Yk=n=>{const{data:e,path:t,errorMaps:i,issueData:r}=n,o=[...t,...r.path||[]],l={...r,path:o};if(r.message!==void 0)return{...r,path:o,message:r.message};let c="";const h=i.filter(d=>!!d).slice().reverse();for(const d of h)c=d(l,{data:e,defaultError:c}).message;return{...r,path:o,message:c}};function Ce(n,e){const t=$k(),i=Yk({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===zg?void 0:zg].filter(r=>!!r)});n.common.issues.push(i)}class Hn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const r of t){if(r.status==="aborted")return Ge;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const r of t){const o=await r.key,l=await r.value;i.push({key:o,value:l})}return Hn.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const r of t){const{key:o,value:l}=r;if(o.status==="aborted"||l.status==="aborted")return Ge;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||r.alwaysSet)&&(i[o.value]=l.value)}return{status:e.value,value:i}}}const Ge=Object.freeze({status:"aborted"}),tc=n=>({status:"dirty",value:n}),bi=n=>({status:"valid",value:n}),VT=n=>n.status==="aborted",OT=n=>n.status==="dirty",hl=n=>n.status==="valid",jd=n=>typeof Promise<"u"&&n instanceof Promise;var be;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(be||(be={}));class ur{constructor(e,t,i,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const UT=(n,e)=>{if(hl(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Qr(n.common.issues);return this._error=t,this._error}}};function Qe(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:r}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(l,c)=>{const{message:h}=n;return l.code==="invalid_enum_value"?{message:h??c.defaultError}:typeof c.data>"u"?{message:h??i??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:h??t??c.defaultError}},description:r}}class it{get description(){return this._def.description}_getType(e){return Vs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Vs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Hn,ctx:{common:e.parent.common,data:e.data,parsedType:Vs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(jd(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vs(e)},r=this._parseSync({data:e,path:i.path,parent:i});return UT(i,r)}"~validate"(e){var i,r;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vs(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return hl(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(r=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>hl(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vs(e)},r=this._parse({data:e,path:i.path,parent:i}),o=await(jd(r)?r:Promise.resolve(r));return UT(i,o)}refine(e,t){const i=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,o)=>{const l=e(r),c=()=>o.addIssue({code:ve.custom,...i(r)});return typeof Promise<"u"&&l instanceof Promise?l.then(h=>h?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,t){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof t=="function"?t(i,r):t),!1))}_refinement(e){return new gl({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Hs.create(this,this._def)}nullable(){return yl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ir.create(this)}promise(){return Jd.create(this,this._def)}or(e){return Wd.create([this,e],this._def)}and(e){return Xd.create(this,e,this._def)}transform(e){return new gl({...Qe(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Gg({...Qe(this._def),innerType:this,defaultValue:t,typeName:He.ZodDefault})}brand(){return new m4({typeName:He.ZodBranded,type:this,...Qe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new $g({...Qe(this._def),innerType:this,catchValue:t,typeName:He.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Ky.create(this,e)}readonly(){return Yg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Kk=/^c[^\s-]{8,}$/i,jk=/^[0-9a-z]+$/,Qk=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Wk=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Xk=/^[a-z0-9_-]{21}$/i,Zk=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Jk=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,e4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,t4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fg;const n4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,i4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,r4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,s4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,o4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,a4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ZS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",l4=new RegExp(`^${ZS}$`);function JS(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function u4(n){return new RegExp(`^${JS(n)}$`)}function c4(n){let e=`${ZS}T${JS(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function f4(n,e){return!!((e==="v4"||!e)&&n4.test(n)||(e==="v6"||!e)&&r4.test(n))}function d4(n,e){if(!Zk.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function h4(n,e){return!!((e==="v4"||!e)&&i4.test(n)||(e==="v6"||!e)&&s4.test(n))}class nr extends it{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ae.string){const o=this._getOrReturnCtx(e);return Ce(o,{code:ve.invalid_type,expected:Ae.string,received:o.parsedType}),Ge}const i=new Hn;let r;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:ve.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:ve.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,c=e.data.length<o.value;(l||c)&&(r=this._getOrReturnCtx(e,r),l?Ce(r,{code:ve.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&Ce(r,{code:ve.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")e4.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"email",code:ve.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")fg||(fg=new RegExp(t4,"u")),fg.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"emoji",code:ve.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")Wk.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"uuid",code:ve.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")Xk.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"nanoid",code:ve.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")Kk.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"cuid",code:ve.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")jk.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"cuid2",code:ve.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")Qk.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"ulid",code:ve.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),Ce(r,{validation:"url",code:ve.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"regex",code:ve.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:ve.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:ve.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:ve.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?c4(o).test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:ve.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?l4.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:ve.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?u4(o).test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:ve.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?Jk.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"duration",code:ve.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?f4(e.data,o.version)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"ip",code:ve.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?d4(e.data,o.alg)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"jwt",code:ve.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?h4(e.data,o.version)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"cidr",code:ve.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?o4.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"base64",code:ve.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?a4.test(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{validation:"base64url",code:ve.invalid_string,message:o.message}),i.dirty()):ft.assertNever(o);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(r=>e.test(r),{validation:t,code:ve.invalid_string,...be.errToObj(i)})}_addCheck(e){return new nr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...be.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...be.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...be.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...be.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...be.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...be.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...be.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...be.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...be.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...be.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...be.errToObj(t)})}nonempty(e){return this.min(1,be.errToObj(e))}trim(){return new nr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new nr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new nr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}nr.create=n=>new nr({checks:[],typeName:He.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...Qe(n)});function p4(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=t>i?t:i,o=Number.parseInt(n.toFixed(r).replace(".","")),l=Number.parseInt(e.toFixed(r).replace(".",""));return o%l/10**r}class $o extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ae.number){const o=this._getOrReturnCtx(e);return Ce(o,{code:ve.invalid_type,expected:Ae.number,received:o.parsedType}),Ge}let i;const r=new Hn;for(const o of this._def.checks)o.kind==="int"?ft.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{code:ve.invalid_type,expected:"integer",received:"float",message:o.message}),r.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),Ce(i,{code:ve.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),Ce(i,{code:ve.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty()):o.kind==="multipleOf"?p4(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),Ce(i,{code:ve.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),Ce(i,{code:ve.not_finite,message:o.message}),r.dirty()):ft.assertNever(o);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,be.toString(t))}gt(e,t){return this.setLimit("min",e,!1,be.toString(t))}lte(e,t){return this.setLimit("max",e,!0,be.toString(t))}lt(e,t){return this.setLimit("max",e,!1,be.toString(t))}setLimit(e,t,i,r){return new $o({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:be.toString(r)}]})}_addCheck(e){return new $o({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}$o.create=n=>new $o({checks:[],typeName:He.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Qe(n)});class Yo extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ae.bigint)return this._getInvalidInput(e);let i;const r=new Hn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),Ce(i,{code:ve.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),Ce(i,{code:ve.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),Ce(i,{code:ve.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):ft.assertNever(o);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ce(t,{code:ve.invalid_type,expected:Ae.bigint,received:t.parsedType}),Ge}gte(e,t){return this.setLimit("min",e,!0,be.toString(t))}gt(e,t){return this.setLimit("min",e,!1,be.toString(t))}lte(e,t){return this.setLimit("max",e,!0,be.toString(t))}lt(e,t){return this.setLimit("max",e,!1,be.toString(t))}setLimit(e,t,i,r){return new Yo({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:be.toString(r)}]})}_addCheck(e){return new Yo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Yo.create=n=>new Yo({checks:[],typeName:He.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...Qe(n)});class Qd extends it{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ae.boolean){const i=this._getOrReturnCtx(e);return Ce(i,{code:ve.invalid_type,expected:Ae.boolean,received:i.parsedType}),Ge}return bi(e.data)}}Qd.create=n=>new Qd({typeName:He.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Qe(n)});class pl extends it{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ae.date){const o=this._getOrReturnCtx(e);return Ce(o,{code:ve.invalid_type,expected:Ae.date,received:o.parsedType}),Ge}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Ce(o,{code:ve.invalid_date}),Ge}const i=new Hn;let r;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:ve.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:ve.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):ft.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new pl({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:be.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:be.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}pl.create=n=>new pl({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:He.ZodDate,...Qe(n)});class FT extends it{_parse(e){if(this._getType(e)!==Ae.symbol){const i=this._getOrReturnCtx(e);return Ce(i,{code:ve.invalid_type,expected:Ae.symbol,received:i.parsedType}),Ge}return bi(e.data)}}FT.create=n=>new FT({typeName:He.ZodSymbol,...Qe(n)});class zT extends it{_parse(e){if(this._getType(e)!==Ae.undefined){const i=this._getOrReturnCtx(e);return Ce(i,{code:ve.invalid_type,expected:Ae.undefined,received:i.parsedType}),Ge}return bi(e.data)}}zT.create=n=>new zT({typeName:He.ZodUndefined,...Qe(n)});class BT extends it{_parse(e){if(this._getType(e)!==Ae.null){const i=this._getOrReturnCtx(e);return Ce(i,{code:ve.invalid_type,expected:Ae.null,received:i.parsedType}),Ge}return bi(e.data)}}BT.create=n=>new BT({typeName:He.ZodNull,...Qe(n)});class HT extends it{constructor(){super(...arguments),this._any=!0}_parse(e){return bi(e.data)}}HT.create=n=>new HT({typeName:He.ZodAny,...Qe(n)});class Bg extends it{constructor(){super(...arguments),this._unknown=!0}_parse(e){return bi(e.data)}}Bg.create=n=>new Bg({typeName:He.ZodUnknown,...Qe(n)});class js extends it{_parse(e){const t=this._getOrReturnCtx(e);return Ce(t,{code:ve.invalid_type,expected:Ae.never,received:t.parsedType}),Ge}}js.create=n=>new js({typeName:He.ZodNever,...Qe(n)});class qT extends it{_parse(e){if(this._getType(e)!==Ae.undefined){const i=this._getOrReturnCtx(e);return Ce(i,{code:ve.invalid_type,expected:Ae.void,received:i.parsedType}),Ge}return bi(e.data)}}qT.create=n=>new qT({typeName:He.ZodVoid,...Qe(n)});class ir extends it{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),r=this._def;if(t.parsedType!==Ae.array)return Ce(t,{code:ve.invalid_type,expected:Ae.array,received:t.parsedType}),Ge;if(r.exactLength!==null){const l=t.data.length>r.exactLength.value,c=t.data.length<r.exactLength.value;(l||c)&&(Ce(t,{code:l?ve.too_big:ve.too_small,minimum:c?r.exactLength.value:void 0,maximum:l?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(Ce(t,{code:ve.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(Ce(t,{code:ve.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((l,c)=>r.type._parseAsync(new ur(t,l,t.path,c)))).then(l=>Hn.mergeArray(i,l));const o=[...t.data].map((l,c)=>r.type._parseSync(new ur(t,l,t.path,c)));return Hn.mergeArray(i,o)}get element(){return this._def.type}min(e,t){return new ir({...this._def,minLength:{value:e,message:be.toString(t)}})}max(e,t){return new ir({...this._def,maxLength:{value:e,message:be.toString(t)}})}length(e,t){return new ir({...this._def,exactLength:{value:e,message:be.toString(t)}})}nonempty(e){return this.min(1,e)}}ir.create=(n,e)=>new ir({type:n,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...Qe(e)});function Za(n){if(n instanceof Xt){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=Hs.create(Za(i))}return new Xt({...n._def,shape:()=>e})}else return n instanceof ir?new ir({...n._def,type:Za(n.element)}):n instanceof Hs?Hs.create(Za(n.unwrap())):n instanceof yl?yl.create(Za(n.unwrap())):n instanceof Ko?Ko.create(n.items.map(e=>Za(e))):n}class Xt extends it{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ft.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Ae.object){const d=this._getOrReturnCtx(e);return Ce(d,{code:ve.invalid_type,expected:Ae.object,received:d.parsedType}),Ge}const{status:i,ctx:r}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof js&&this._def.unknownKeys==="strip"))for(const d in r.data)l.includes(d)||c.push(d);const h=[];for(const d of l){const y=o[d],T=r.data[d];h.push({key:{status:"valid",value:d},value:y._parse(new ur(r,T,r.path,d)),alwaysSet:d in r.data})}if(this._def.catchall instanceof js){const d=this._def.unknownKeys;if(d==="passthrough")for(const y of c)h.push({key:{status:"valid",value:y},value:{status:"valid",value:r.data[y]}});else if(d==="strict")c.length>0&&(Ce(r,{code:ve.unrecognized_keys,keys:c}),i.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const y of c){const T=r.data[y];h.push({key:{status:"valid",value:y},value:d._parse(new ur(r,T,r.path,y)),alwaysSet:y in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const d=[];for(const y of h){const T=await y.key,E=await y.value;d.push({key:T,value:E,alwaysSet:y.alwaysSet})}return d}).then(d=>Hn.mergeObjectSync(i,d)):Hn.mergeObjectSync(i,h)}get shape(){return this._def.shape()}strict(e){return be.errToObj,new Xt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var o,l;const r=((l=(o=this._def).errorMap)==null?void 0:l.call(o,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:be.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new Xt({...this._def,unknownKeys:"strip"})}passthrough(){return new Xt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:He.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Xt({...this._def,catchall:e})}pick(e){const t={};for(const i of ft.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new Xt({...this._def,shape:()=>t})}omit(e){const t={};for(const i of ft.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new Xt({...this._def,shape:()=>t})}deepPartial(){return Za(this)}partial(e){const t={};for(const i of ft.objectKeys(this.shape)){const r=this.shape[i];e&&!e[i]?t[i]=r:t[i]=r.optional()}return new Xt({...this._def,shape:()=>t})}required(e){const t={};for(const i of ft.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof Hs;)o=o._def.innerType;t[i]=o}return new Xt({...this._def,shape:()=>t})}keyof(){return ew(ft.objectKeys(this.shape))}}Xt.create=(n,e)=>new Xt({shape:()=>n,unknownKeys:"strip",catchall:js.create(),typeName:He.ZodObject,...Qe(e)});Xt.strictCreate=(n,e)=>new Xt({shape:()=>n,unknownKeys:"strict",catchall:js.create(),typeName:He.ZodObject,...Qe(e)});Xt.lazycreate=(n,e)=>new Xt({shape:n,unknownKeys:"strip",catchall:js.create(),typeName:He.ZodObject,...Qe(e)});class Wd extends it{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function r(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new Qr(c.ctx.common.issues));return Ce(t,{code:ve.invalid_union,unionErrors:l}),Ge}if(t.common.async)return Promise.all(i.map(async o=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(r);{let o;const l=[];for(const h of i){const d={...t,common:{...t.common,issues:[]},parent:null},y=h._parseSync({data:t.data,path:t.path,parent:d});if(y.status==="valid")return y;y.status==="dirty"&&!o&&(o={result:y,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(h=>new Qr(h));return Ce(t,{code:ve.invalid_union,unionErrors:c}),Ge}}get options(){return this._def.options}}Wd.create=(n,e)=>new Wd({options:n,typeName:He.ZodUnion,...Qe(e)});function Hg(n,e){const t=Vs(n),i=Vs(e);if(n===e)return{valid:!0,data:n};if(t===Ae.object&&i===Ae.object){const r=ft.objectKeys(e),o=ft.objectKeys(n).filter(c=>r.indexOf(c)!==-1),l={...n,...e};for(const c of o){const h=Hg(n[c],e[c]);if(!h.valid)return{valid:!1};l[c]=h.data}return{valid:!0,data:l}}else if(t===Ae.array&&i===Ae.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let o=0;o<n.length;o++){const l=n[o],c=e[o],h=Hg(l,c);if(!h.valid)return{valid:!1};r.push(h.data)}return{valid:!0,data:r}}else return t===Ae.date&&i===Ae.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Xd extends it{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=(o,l)=>{if(VT(o)||VT(l))return Ge;const c=Hg(o.value,l.value);return c.valid?((OT(o)||OT(l))&&t.dirty(),{status:t.value,value:c.data}):(Ce(i,{code:ve.invalid_intersection_types}),Ge)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,l])=>r(o,l)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Xd.create=(n,e,t)=>new Xd({left:n,right:e,typeName:He.ZodIntersection,...Qe(t)});class Ko extends it{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ae.array)return Ce(i,{code:ve.invalid_type,expected:Ae.array,received:i.parsedType}),Ge;if(i.data.length<this._def.items.length)return Ce(i,{code:ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ge;!this._def.rest&&i.data.length>this._def.items.length&&(Ce(i,{code:ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...i.data].map((l,c)=>{const h=this._def.items[c]||this._def.rest;return h?h._parse(new ur(i,l,i.path,c)):null}).filter(l=>!!l);return i.common.async?Promise.all(o).then(l=>Hn.mergeArray(t,l)):Hn.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new Ko({...this._def,rest:e})}}Ko.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ko({items:n,typeName:He.ZodTuple,rest:null,...Qe(e)})};class Zd extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ae.object)return Ce(i,{code:ve.invalid_type,expected:Ae.object,received:i.parsedType}),Ge;const r=[],o=this._def.keyType,l=this._def.valueType;for(const c in i.data)r.push({key:o._parse(new ur(i,c,i.path,c)),value:l._parse(new ur(i,i.data[c],i.path,c)),alwaysSet:c in i.data});return i.common.async?Hn.mergeObjectAsync(t,r):Hn.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof it?new Zd({keyType:e,valueType:t,typeName:He.ZodRecord,...Qe(i)}):new Zd({keyType:nr.create(),valueType:e,typeName:He.ZodRecord,...Qe(t)})}}class GT extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ae.map)return Ce(i,{code:ve.invalid_type,expected:Ae.map,received:i.parsedType}),Ge;const r=this._def.keyType,o=this._def.valueType,l=[...i.data.entries()].map(([c,h],d)=>({key:r._parse(new ur(i,c,i.path,[d,"key"])),value:o._parse(new ur(i,h,i.path,[d,"value"]))}));if(i.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const h of l){const d=await h.key,y=await h.value;if(d.status==="aborted"||y.status==="aborted")return Ge;(d.status==="dirty"||y.status==="dirty")&&t.dirty(),c.set(d.value,y.value)}return{status:t.value,value:c}})}else{const c=new Map;for(const h of l){const d=h.key,y=h.value;if(d.status==="aborted"||y.status==="aborted")return Ge;(d.status==="dirty"||y.status==="dirty")&&t.dirty(),c.set(d.value,y.value)}return{status:t.value,value:c}}}}GT.create=(n,e,t)=>new GT({valueType:e,keyType:n,typeName:He.ZodMap,...Qe(t)});class Tc extends it{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ae.set)return Ce(i,{code:ve.invalid_type,expected:Ae.set,received:i.parsedType}),Ge;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(Ce(i,{code:ve.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(Ce(i,{code:ve.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function l(h){const d=new Set;for(const y of h){if(y.status==="aborted")return Ge;y.status==="dirty"&&t.dirty(),d.add(y.value)}return{status:t.value,value:d}}const c=[...i.data.values()].map((h,d)=>o._parse(new ur(i,h,i.path,d)));return i.common.async?Promise.all(c).then(h=>l(h)):l(c)}min(e,t){return new Tc({...this._def,minSize:{value:e,message:be.toString(t)}})}max(e,t){return new Tc({...this._def,maxSize:{value:e,message:be.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Tc.create=(n,e)=>new Tc({valueType:n,minSize:null,maxSize:null,typeName:He.ZodSet,...Qe(e)});class qg extends it{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}qg.create=(n,e)=>new qg({getter:n,typeName:He.ZodLazy,...Qe(e)});class $T extends it{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ce(t,{received:t.data,code:ve.invalid_literal,expected:this._def.value}),Ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}$T.create=(n,e)=>new $T({value:n,typeName:He.ZodLiteral,...Qe(e)});function ew(n,e){return new ml({values:n,typeName:He.ZodEnum,...Qe(e)})}class ml extends it{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return Ce(t,{expected:ft.joinValues(i),received:t.parsedType,code:ve.invalid_type}),Ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return Ce(t,{received:t.data,code:ve.invalid_enum_value,options:i}),Ge}return bi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ml.create(e,{...this._def,...t})}exclude(e,t=this._def){return ml.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}ml.create=ew;class YT extends it{_parse(e){const t=ft.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==Ae.string&&i.parsedType!==Ae.number){const r=ft.objectValues(t);return Ce(i,{expected:ft.joinValues(r),received:i.parsedType,code:ve.invalid_type}),Ge}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=ft.objectValues(t);return Ce(i,{received:i.data,code:ve.invalid_enum_value,options:r}),Ge}return bi(e.data)}get enum(){return this._def.values}}YT.create=(n,e)=>new YT({values:n,typeName:He.ZodNativeEnum,...Qe(e)});class Jd extends it{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ae.promise&&t.common.async===!1)return Ce(t,{code:ve.invalid_type,expected:Ae.promise,received:t.parsedType}),Ge;const i=t.parsedType===Ae.promise?t.data:Promise.resolve(t.data);return bi(i.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Jd.create=(n,e)=>new Jd({type:n,typeName:He.ZodPromise,...Qe(e)});class gl extends it{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:l=>{Ce(i,l),l.fatal?t.abort():t.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),r.type==="preprocess"){const l=r.transform(i.data,o);if(i.common.async)return Promise.resolve(l).then(async c=>{if(t.value==="aborted")return Ge;const h=await this._def.schema._parseAsync({data:c,path:i.path,parent:i});return h.status==="aborted"?Ge:h.status==="dirty"||t.value==="dirty"?tc(h.value):h});{if(t.value==="aborted")return Ge;const c=this._def.schema._parseSync({data:l,path:i.path,parent:i});return c.status==="aborted"?Ge:c.status==="dirty"||t.value==="dirty"?tc(c.value):c}}if(r.type==="refinement"){const l=c=>{const h=r.refinement(c,o);if(i.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?Ge:(c.status==="dirty"&&t.dirty(),l(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>c.status==="aborted"?Ge:(c.status==="dirty"&&t.dirty(),l(c.value).then(()=>({status:t.value,value:c.value}))))}if(r.type==="transform")if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!hl(l))return Ge;const c=r.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>hl(l)?Promise.resolve(r.transform(l.value,o)).then(c=>({status:t.value,value:c})):Ge);ft.assertNever(r)}}gl.create=(n,e,t)=>new gl({schema:n,typeName:He.ZodEffects,effect:e,...Qe(t)});gl.createWithPreprocess=(n,e,t)=>new gl({schema:e,effect:{type:"preprocess",transform:n},typeName:He.ZodEffects,...Qe(t)});class Hs extends it{_parse(e){return this._getType(e)===Ae.undefined?bi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hs.create=(n,e)=>new Hs({innerType:n,typeName:He.ZodOptional,...Qe(e)});class yl extends it{_parse(e){return this._getType(e)===Ae.null?bi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yl.create=(n,e)=>new yl({innerType:n,typeName:He.ZodNullable,...Qe(e)});class Gg extends it{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===Ae.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Gg.create=(n,e)=>new Gg({innerType:n,typeName:He.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Qe(e)});class $g extends it{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return jd(r)?r.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Qr(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Qr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}$g.create=(n,e)=>new $g({innerType:n,typeName:He.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Qe(e)});class KT extends it{_parse(e){if(this._getType(e)!==Ae.nan){const i=this._getOrReturnCtx(e);return Ce(i,{code:ve.invalid_type,expected:Ae.nan,received:i.parsedType}),Ge}return{status:"valid",value:e.data}}}KT.create=n=>new KT({typeName:He.ZodNaN,...Qe(n)});class m4 extends it{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ky extends it{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Ge:o.status==="dirty"?(t.dirty(),tc(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?Ge:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,t){return new Ky({in:e,out:t,typeName:He.ZodPipeline})}}class Yg extends it{_parse(e){const t=this._def.innerType._parse(e),i=r=>(hl(r)&&(r.value=Object.freeze(r.value)),r);return jd(t)?t.then(r=>i(r)):i(t)}unwrap(){return this._def.innerType}}Yg.create=(n,e)=>new Yg({innerType:n,typeName:He.ZodReadonly,...Qe(e)});var He;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(He||(He={}));const Bo=nr.create,jT=$o.create;Yo.create;const g4=Qd.create;pl.create;const QT=Bg.create;js.create;const nc=ir.create,y4=Xt.create,v4=Wd.create;Xd.create;Ko.create;const _4=Zd.create,T4=qg.create,E4=ml.create;Jd.create;Hs.create;yl.create;const Qa={string:n=>nr.create({...n,coerce:!0}),number:n=>$o.create({...n,coerce:!0}),boolean:n=>Qd.create({...n,coerce:!0}),bigint:n=>Yo.create({...n,coerce:!0}),date:n=>pl.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let x4,C4;function S4(){return{geminiUrl:x4,vertexUrl:C4}}function w4(n,e,t){var i,r,o;if(!(!((i=n.httpOptions)===null||i===void 0)&&i.baseUrl)){const l=S4();return n.vertexai?(r=l.vertexUrl)!==null&&r!==void 0?r:e:(o=l.geminiUrl)!==null&&o!==void 0?o:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rl{}function Ue(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const o=e[r];return o!=null?String(o):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function m(n,e,t){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in n))if(Array.isArray(t))n[c]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[c])){const h=n[c];if(Array.isArray(t))for(let d=0;d<h.length;d++){const y=h[d];m(y,e.slice(o+1),t[d])}else for(const d of h)m(d,e.slice(o+1),t)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in n||(n[c]=[{}]);const h=n[c];m(h[0],e.slice(o+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else n[i]=t}function p(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const i=e[t];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in n){const o=n[r];return Array.isArray(o)?o.map(l=>p(l,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var WT;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(WT||(WT={}));var XT;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(XT||(XT={}));var Si;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Si||(Si={}));var ZT;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ZT||(ZT={}));var JT;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(JT||(JT={}));var eE;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(eE||(eE={}));var tE;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(tE||(tE={}));var nE;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(nE||(nE={}));var iE;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(iE||(iE={}));var rE;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(rE||(rE={}));var sE;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sE||(sE={}));var oE;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(oE||(oE={}));var aE;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(aE||(aE={}));var eh;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(eh||(eh={}));var lE;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lE||(lE={}));var Kg;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Kg||(Kg={}));var uE;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(uE||(uE={}));var cE;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(cE||(cE={}));var fE;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(fE||(fE={}));var dE;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(dE||(dE={}));var hE;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(hE||(hE={}));var pE;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(pE||(pE={}));var mE;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(mE||(mE={}));var gE;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(gE||(gE={}));var yE;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(yE||(yE={}));var vE;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(vE||(vE={}));var _E;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_E||(_E={}));var TE;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(TE||(TE={}));var EE;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(EE||(EE={}));var xE;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(xE||(xE={}));var CE;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(CE||(CE={}));var SE;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(SE||(SE={}));var wE;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wE||(wE={}));var AE;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(AE||(AE={}));var bE;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(bE||(bE={}));var IE;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(IE||(IE={}));var RE;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(RE||(RE={}));var kE;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(kE||(kE={}));var il;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(il||(il={}));class Wu{get text(){var e,t,i,r,o,l,c,h;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",y=!1;const T=[];for(const E of(h=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[C,I]of Object.entries(E))C!=="text"&&C!=="thought"&&(I!==null||I!==void 0)&&T.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;y=!0,d+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?d:void 0}get data(){var e,t,i,r,o,l,c,h;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const y=[];for(const T of(h=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[E,C]of Object.entries(T))E!=="inlineData"&&(C!==null||C!==void 0)&&y.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(d+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,i,r,o,l,c,h;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(h=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,i,r,o,l,c,h,d;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(h=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(d=y==null?void 0:y[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,i,r,o,l,c,h,d;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(h=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(d=y==null?void 0:y[0])===null||d===void 0?void 0:d.output}}class NE{}class ME{}class A4{}class b4{}class DE{}class PE{}class LE{}class I4{}class VE{}class OE{}class UE{}class R4{}class jg{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class k4{}class N4{}class M4{get text(){var e,t,i;let r="",o=!1;const l=[];for(const c of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[h,d]of Object.entries(c))h!=="text"&&h!=="thought"&&d!==null&&l.push(h);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;o=!0,r+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,t,i;let r="";const o=[];for(const l of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[c,h]of Object.entries(l))c!=="inlineData"&&h!==null&&o.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class D4{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function tw(n,e){const t=bt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function nw(n,e){return Array.isArray(e)?e.map(t=>th(n,t)):[th(n,e)]}function th(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function P4(n,e){const t=th(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function L4(n,e){const t=th(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function FE(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function iw(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>FE(n,t)):[FE(n,e)]}function Qg(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function zE(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function BE(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Bn(n,e){if(e==null)throw new Error("ContentUnion is required");return Qg(e)?e:{role:"user",parts:iw(n,e)}}function rw(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Bn(n,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Bn(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Bn(n,t)):[Bn(n,e)]}function Pi(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(zE(e)||BE(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Bn(n,e)]}const t=[],i=[],r=Qg(e[0]);for(const o of e){const l=Qg(o);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(o);else{if(zE(o)||BE(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return r||t.push({role:"user",parts:iw(n,i)}),t}const V4=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),HE=E4(["string","number","integer","object","array","boolean","null"]),O4=v4([HE,nc(HE)]);function U4(n=!0){const e=T4(()=>{const t=y4({type:O4.optional(),format:Bo().optional(),title:Bo().optional(),description:Bo().optional(),default:QT().optional(),items:e.optional(),minItems:Qa.string().optional(),maxItems:Qa.string().optional(),enum:nc(QT()).optional(),properties:_4(Bo(),e).optional(),required:nc(Bo()).optional(),minProperties:Qa.string().optional(),maxProperties:Qa.string().optional(),propertyOrdering:nc(Bo()).optional(),minimum:jT().optional(),maximum:jT().optional(),minLength:Qa.string().optional(),maxLength:Qa.string().optional(),pattern:Bo().optional(),anyOf:nc(e).optional(),additionalProperties:g4().optional()});return n?t.strict():t});return e}function F4(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.keys(Si).includes(t[0].toUpperCase())?Si[t[0].toUpperCase()]:Si.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.keys(Si).includes(i.toUpperCase())?Si[i.toUpperCase()]:Si.TYPE_UNSPECIFIED})}}function sl(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&F4(n.type,e);for(const[l,c]of Object.entries(n))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.keys(Si).includes(c.toUpperCase())?c.toUpperCase():Si.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=sl(c);else if(i.includes(l)){const h=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}h.push(sl(d))}e[l]=h}else if(r.includes(l)){const h={};for(const[d,y]of Object.entries(c))h[d]=sl(y);e[l]=h}else{if(l==="additionalProperties")continue;e[l]=c}return e}function nh(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=U4().parse(e);return sl(t)}else return sl(e)}function sw(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function jy(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Pc(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=nh(n,t.parameters)),t.response&&(t.response=nh(n,t.response));return e}function Lc(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function z4(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function no(n,e){if(typeof e!="string")throw new Error("name must be a string");return z4(n,e,"cachedContents")}function ow(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function io(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function B4(n){return n!=null&&typeof n=="object"&&"name"in n}function H4(n){return n!=null&&typeof n=="object"&&"video"in n}function q4(n){return n!=null&&typeof n=="object"&&"uri"in n}function aw(n,e){var t;let i;if(B4(e)&&(i=e.name),!(q4(e)&&(i=e.uri,i===void 0))&&!(H4(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function lw(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function uw(n,e){for(const t of["models","tunedModels","publisherModels"])if(G4(e,t))return e[t];return[]}function G4(n,e){return n!==null&&typeof n=="object"&&e in n}function $4(n,e={}){const t=n,i={name:t.name,description:t.description,parameters:sl(Lh(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function Y4(n,e={}){const t=[],i=new Set;for(const r of n){const o=r.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const l=$4(r,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function K4(n){const e=[];for(const t of n)e.push(Lh(t));return e}function j4(n){const e={};for(const[t,i]of Object.entries(n)){const r=i;e[t]=Lh(r)}return e}function Lh(n){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),r={};for(const[o,l]of Object.entries(n))if(e.has(o))r[o]=Lh(l);else if(t.has(o))r[o]=K4(l);else if(i.has(o))r[o]=j4(l);else if(o==="type"){const c=l.toUpperCase();r[o]=Object.keys(Si).includes(c)?c:Si.TYPE_UNSPECIFIED}else V4.has(o)&&(r[o]=l);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q4(n,e){const t={},i=p(e,["fps"]);i!=null&&m(t,["fps"],i);const r=p(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&m(t,["startOffset"],o),t}function W4(n,e){const t={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["data"]);i!=null&&m(t,["data"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function X4(n,e){const t={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function Z4(n,e){const t={},i=p(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],Q4(n,i));const r=p(e,["thought"]);r!=null&&m(t,["thought"],r);const o=p(e,["inlineData"]);o!=null&&m(t,["inlineData"],W4(n,o));const l=p(e,["fileData"]);l!=null&&m(t,["fileData"],X4(n,l));const c=p(e,["thoughtSignature"]);c!=null&&m(t,["thoughtSignature"],c);const h=p(e,["codeExecutionResult"]);h!=null&&m(t,["codeExecutionResult"],h);const d=p(e,["executableCode"]);d!=null&&m(t,["executableCode"],d);const y=p(e,["functionCall"]);y!=null&&m(t,["functionCall"],y);const T=p(e,["functionResponse"]);T!=null&&m(t,["functionResponse"],T);const E=p(e,["text"]);return E!=null&&m(t,["text"],E),t}function qE(n,e){const t={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Z4(n,l))),m(t,["parts"],o)}const r=p(e,["role"]);return r!=null&&m(t,["role"],r),t}function J4(n,e){const t={},i=p(e,["behavior"]);i!=null&&m(t,["behavior"],i);const r=p(e,["description"]);r!=null&&m(t,["description"],r);const o=p(e,["name"]);o!=null&&m(t,["name"],o);const l=p(e,["parameters"]);l!=null&&m(t,["parameters"],l);const c=p(e,["response"]);return c!=null&&m(t,["response"],c),t}function eN(n,e){const t={},i=p(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function tN(n,e){const t={},i=p(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],eN(n,i)),t}function nN(n,e){const t={},i=p(e,["mode"]);i!=null&&m(t,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function iN(n,e){const t={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],nN(n,i)),t}function rN(){return{}}function sN(n,e){const t={},i=p(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>J4(n,d))),m(t,["functionDeclarations"],h)}if(p(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],tN(n,r));const o=p(e,["googleSearchRetrieval"]);if(o!=null&&m(t,["googleSearchRetrieval"],iN(n,o)),p(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(e,["urlContext"])!=null&&m(t,["urlContext"],rN());const c=p(e,["codeExecution"]);return c!=null&&m(t,["codeExecution"],c),t}function oN(n,e){const t={},i=p(e,["mode"]);i!=null&&m(t,["mode"],i);const r=p(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function aN(n,e){const t={},i=p(e,["latitude"]);i!=null&&m(t,["latitude"],i);const r=p(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function lN(n,e){const t={},i=p(e,["latLng"]);i!=null&&m(t,["latLng"],aN(n,i));const r=p(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function uN(n,e){const t={},i=p(e,["functionCallingConfig"]);i!=null&&m(t,["functionCallingConfig"],oN(n,i));const r=p(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],lN(n,r)),t}function cN(n,e,t){const i={},r=p(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const o=p(e,["expireTime"]);t!==void 0&&o!=null&&m(t,["expireTime"],o);const l=p(e,["displayName"]);t!==void 0&&l!=null&&m(t,["displayName"],l);const c=p(e,["contents"]);if(t!==void 0&&c!=null){let T=Pi(n,c);Array.isArray(T)&&(T=T.map(E=>qE(n,E))),m(t,["contents"],T)}const h=p(e,["systemInstruction"]);t!==void 0&&h!=null&&m(t,["systemInstruction"],qE(n,Bn(n,h)));const d=p(e,["tools"]);if(t!==void 0&&d!=null){let T=d;Array.isArray(T)&&(T=T.map(E=>sN(n,E))),m(t,["tools"],T)}const y=p(e,["toolConfig"]);if(t!==void 0&&y!=null&&m(t,["toolConfig"],uN(n,y)),p(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function fN(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["model"],tw(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],cN(n,r,t)),t}function dN(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["_url","name"],no(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function hN(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["_url","name"],no(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function pN(n,e,t){const i={},r=p(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const o=p(e,["expireTime"]);return t!==void 0&&o!=null&&m(t,["expireTime"],o),i}function mN(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["_url","name"],no(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],pN(n,r,t)),t}function gN(n,e,t){const i={},r=p(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const o=p(e,["pageToken"]);return t!==void 0&&o!=null&&m(t,["_query","pageToken"],o),i}function yN(n,e){const t={},i=p(e,["config"]);return i!=null&&m(t,["config"],gN(n,i,t)),t}function vN(n,e){const t={},i=p(e,["fps"]);i!=null&&m(t,["fps"],i);const r=p(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&m(t,["startOffset"],o),t}function _N(n,e){const t={},i=p(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=p(e,["data"]);r!=null&&m(t,["data"],r);const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function TN(n,e){const t={},i=p(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=p(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function EN(n,e){const t={},i=p(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],vN(n,i));const r=p(e,["thought"]);r!=null&&m(t,["thought"],r);const o=p(e,["inlineData"]);o!=null&&m(t,["inlineData"],_N(n,o));const l=p(e,["fileData"]);l!=null&&m(t,["fileData"],TN(n,l));const c=p(e,["thoughtSignature"]);c!=null&&m(t,["thoughtSignature"],c);const h=p(e,["codeExecutionResult"]);h!=null&&m(t,["codeExecutionResult"],h);const d=p(e,["executableCode"]);d!=null&&m(t,["executableCode"],d);const y=p(e,["functionCall"]);y!=null&&m(t,["functionCall"],y);const T=p(e,["functionResponse"]);T!=null&&m(t,["functionResponse"],T);const E=p(e,["text"]);return E!=null&&m(t,["text"],E),t}function GE(n,e){const t={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>EN(n,l))),m(t,["parts"],o)}const r=p(e,["role"]);return r!=null&&m(t,["role"],r),t}function xN(n,e){const t={};if(p(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=p(e,["description"]);i!=null&&m(t,["description"],i);const r=p(e,["name"]);r!=null&&m(t,["name"],r);const o=p(e,["parameters"]);o!=null&&m(t,["parameters"],o);const l=p(e,["response"]);return l!=null&&m(t,["response"],l),t}function CN(n,e){const t={},i=p(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function SN(n,e){const t={},i=p(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],CN(n,i)),t}function wN(n,e){const t={},i=p(e,["mode"]);i!=null&&m(t,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function AN(n,e){const t={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],wN(n,i)),t}function bN(){return{}}function IN(n,e){const t={},i=p(e,["apiKeyString"]);return i!=null&&m(t,["apiKeyString"],i),t}function RN(n,e){const t={},i=p(e,["apiKeyConfig"]);i!=null&&m(t,["apiKeyConfig"],IN(n,i));const r=p(e,["authType"]);r!=null&&m(t,["authType"],r);const o=p(e,["googleServiceAccountConfig"]);o!=null&&m(t,["googleServiceAccountConfig"],o);const l=p(e,["httpBasicAuthConfig"]);l!=null&&m(t,["httpBasicAuthConfig"],l);const c=p(e,["oauthConfig"]);c!=null&&m(t,["oauthConfig"],c);const h=p(e,["oidcConfig"]);return h!=null&&m(t,["oidcConfig"],h),t}function kN(n,e){const t={},i=p(e,["authConfig"]);return i!=null&&m(t,["authConfig"],RN(n,i)),t}function NN(n,e){const t={},i=p(e,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(T=>xN(n,T))),m(t,["functionDeclarations"],y)}const r=p(e,["retrieval"]);r!=null&&m(t,["retrieval"],r);const o=p(e,["googleSearch"]);o!=null&&m(t,["googleSearch"],SN(n,o));const l=p(e,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],AN(n,l)),p(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],bN());const h=p(e,["googleMaps"]);if(h!=null&&m(t,["googleMaps"],kN(n,h)),p(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const d=p(e,["codeExecution"]);return d!=null&&m(t,["codeExecution"],d),t}function MN(n,e){const t={},i=p(e,["mode"]);i!=null&&m(t,["mode"],i);const r=p(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function DN(n,e){const t={},i=p(e,["latitude"]);i!=null&&m(t,["latitude"],i);const r=p(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function PN(n,e){const t={},i=p(e,["latLng"]);i!=null&&m(t,["latLng"],DN(n,i));const r=p(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function LN(n,e){const t={},i=p(e,["functionCallingConfig"]);i!=null&&m(t,["functionCallingConfig"],MN(n,i));const r=p(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],PN(n,r)),t}function VN(n,e,t){const i={},r=p(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const o=p(e,["expireTime"]);t!==void 0&&o!=null&&m(t,["expireTime"],o);const l=p(e,["displayName"]);t!==void 0&&l!=null&&m(t,["displayName"],l);const c=p(e,["contents"]);if(t!==void 0&&c!=null){let E=Pi(n,c);Array.isArray(E)&&(E=E.map(C=>GE(n,C))),m(t,["contents"],E)}const h=p(e,["systemInstruction"]);t!==void 0&&h!=null&&m(t,["systemInstruction"],GE(n,Bn(n,h)));const d=p(e,["tools"]);if(t!==void 0&&d!=null){let E=d;Array.isArray(E)&&(E=E.map(C=>NN(n,C))),m(t,["tools"],E)}const y=p(e,["toolConfig"]);t!==void 0&&y!=null&&m(t,["toolConfig"],LN(n,y));const T=p(e,["kmsKeyName"]);return t!==void 0&&T!=null&&m(t,["encryption_spec","kmsKeyName"],T),i}function ON(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["model"],tw(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],VN(n,r,t)),t}function UN(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["_url","name"],no(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function FN(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["_url","name"],no(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function zN(n,e,t){const i={},r=p(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const o=p(e,["expireTime"]);return t!==void 0&&o!=null&&m(t,["expireTime"],o),i}function BN(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["_url","name"],no(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],zN(n,r,t)),t}function HN(n,e,t){const i={},r=p(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const o=p(e,["pageToken"]);return t!==void 0&&o!=null&&m(t,["_query","pageToken"],o),i}function qN(n,e){const t={},i=p(e,["config"]);return i!=null&&m(t,["config"],HN(n,i,t)),t}function Ld(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["displayName"]);r!=null&&m(t,["displayName"],r);const o=p(e,["model"]);o!=null&&m(t,["model"],o);const l=p(e,["createTime"]);l!=null&&m(t,["createTime"],l);const c=p(e,["updateTime"]);c!=null&&m(t,["updateTime"],c);const h=p(e,["expireTime"]);h!=null&&m(t,["expireTime"],h);const d=p(e,["usageMetadata"]);return d!=null&&m(t,["usageMetadata"],d),t}function GN(){return{}}function $N(n,e){const t={},i=p(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=p(e,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Ld(n,l))),m(t,["cachedContents"],o)}return t}function Vd(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["displayName"]);r!=null&&m(t,["displayName"],r);const o=p(e,["model"]);o!=null&&m(t,["model"],o);const l=p(e,["createTime"]);l!=null&&m(t,["createTime"],l);const c=p(e,["updateTime"]);c!=null&&m(t,["updateTime"],c);const h=p(e,["expireTime"]);h!=null&&m(t,["expireTime"],h);const d=p(e,["usageMetadata"]);return d!=null&&m(t,["usageMetadata"],d),t}function YN(){return{}}function KN(n,e){const t={},i=p(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=p(e,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Vd(n,l))),m(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vl;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(vl||(vl={}));class Vh{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let l={config:{}};i?typeof i=="object"?l=Object.assign({},i):l=i:l={config:{}},l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jN extends Rl{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Vh(vl.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=ON(this.apiClient,e);return c=Ue("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Vd(this.apiClient,y))}else{const d=fN(this.apiClient,e);return c=Ue("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>Ld(this.apiClient,y))}}async get(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=UN(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Vd(this.apiClient,y))}else{const d=dN(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>Ld(this.apiClient,y))}}async delete(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=FN(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(()=>{const y=YN(),T=new OE;return Object.assign(T,y),T})}else{const d=hN(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(()=>{const y=GN(),T=new OE;return Object.assign(T,y),T})}}async update(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=BN(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Vd(this.apiClient,y))}else{const d=mN(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>Ld(this.apiClient,y))}}async listInternal(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=qN(this.apiClient,e);return c=Ue("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>{const T=KN(this.apiClient,y),E=new UE;return Object.assign(E,T),E})}else{const d=yN(this.apiClient,e);return c=Ue("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const T=$N(this.apiClient,y),E=new UE;return Object.assign(E,T),E})}}}function $E(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function It(n){return this instanceof It?(this.v=n,this):new It(n)}function ol(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(C){return function(I){return Promise.resolve(I).then(C,T)}}function c(C,I){i[C]&&(r[C]=function(k){return new Promise(function(F,U){o.push([C,k,F,U])>1||h(C,k)})},I&&(r[C]=I(r[C])))}function h(C,I){try{d(i[C](I))}catch(k){E(o[0][3],k)}}function d(C){C.value instanceof It?Promise.resolve(C.value.v).then(y,T):E(o[0][2],C)}function y(C){h("next",C)}function T(C){h("throw",C)}function E(C,I){C(I),o.shift(),o.length&&h(o[0][0],o[0][1])}}function lc(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof $E=="function"?$E(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(l){return new Promise(function(c,h){l=n[o](l),r(c,h,l.done,l.value)})}}function r(o,l,c,h){Promise.resolve(h).then(function(d){o({value:d,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QN(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:cw(t)}function cw(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function WN(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function YE(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let o=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),o&&!cw(n[i])&&(o=!1),i++;o?e.push(...r):e.pop()}return e}class XN{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new ZN(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ZN{constructor(e,t,i,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),WN(o)}async sendMessage(e){var t;await this.sendPromise;const i=Bn(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,l,c;const h=await r,d=(l=(o=h.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,y=h.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];y!=null&&(E=(c=y.slice(T))!==null&&c!==void 0?c:[]);const C=d?[d]:[];this.recordHistory(i,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=Bn(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,i)}getHistory(e=!1){const t=e?YE(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return ol(this,arguments,function*(){var l,c,h,d;const y=[];try{for(var T=!0,E=lc(e),C;C=yield It(E.next()),l=C.done,!l;T=!0){d=C.value,T=!1;const I=d;if(QN(I)){const k=(r=(i=I.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;k!==void 0&&y.push(k)}yield yield It(I)}}catch(I){c={error:I}}finally{try{!T&&!l&&(h=E.return)&&(yield It(h.call(E)))}finally{if(c)throw c.error}}this.recordHistory(t,y)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(o=>o.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...YE(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JN(n,e,t){const i={},r=p(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const o=p(e,["pageToken"]);return t!==void 0&&o!=null&&m(t,["_query","pageToken"],o),i}function eM(n,e){const t={},i=p(e,["config"]);return i!=null&&m(t,["config"],JN(n,i,t)),t}function tM(n,e){const t={},i=p(e,["details"]);i!=null&&m(t,["details"],i);const r=p(e,["message"]);r!=null&&m(t,["message"],r);const o=p(e,["code"]);return o!=null&&m(t,["code"],o),t}function nM(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["displayName"]);r!=null&&m(t,["displayName"],r);const o=p(e,["mimeType"]);o!=null&&m(t,["mimeType"],o);const l=p(e,["sizeBytes"]);l!=null&&m(t,["sizeBytes"],l);const c=p(e,["createTime"]);c!=null&&m(t,["createTime"],c);const h=p(e,["expirationTime"]);h!=null&&m(t,["expirationTime"],h);const d=p(e,["updateTime"]);d!=null&&m(t,["updateTime"],d);const y=p(e,["sha256Hash"]);y!=null&&m(t,["sha256Hash"],y);const T=p(e,["uri"]);T!=null&&m(t,["uri"],T);const E=p(e,["downloadUri"]);E!=null&&m(t,["downloadUri"],E);const C=p(e,["state"]);C!=null&&m(t,["state"],C);const I=p(e,["source"]);I!=null&&m(t,["source"],I);const k=p(e,["videoMetadata"]);k!=null&&m(t,["videoMetadata"],k);const F=p(e,["error"]);return F!=null&&m(t,["error"],tM(n,F)),t}function iM(n,e){const t={},i=p(e,["file"]);i!=null&&m(t,["file"],nM(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function rM(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["_url","file"],aw(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function sM(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["_url","file"],aw(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function oM(n,e){const t={},i=p(e,["details"]);i!=null&&m(t,["details"],i);const r=p(e,["message"]);r!=null&&m(t,["message"],r);const o=p(e,["code"]);return o!=null&&m(t,["code"],o),t}function Wg(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["displayName"]);r!=null&&m(t,["displayName"],r);const o=p(e,["mimeType"]);o!=null&&m(t,["mimeType"],o);const l=p(e,["sizeBytes"]);l!=null&&m(t,["sizeBytes"],l);const c=p(e,["createTime"]);c!=null&&m(t,["createTime"],c);const h=p(e,["expirationTime"]);h!=null&&m(t,["expirationTime"],h);const d=p(e,["updateTime"]);d!=null&&m(t,["updateTime"],d);const y=p(e,["sha256Hash"]);y!=null&&m(t,["sha256Hash"],y);const T=p(e,["uri"]);T!=null&&m(t,["uri"],T);const E=p(e,["downloadUri"]);E!=null&&m(t,["downloadUri"],E);const C=p(e,["state"]);C!=null&&m(t,["state"],C);const I=p(e,["source"]);I!=null&&m(t,["source"],I);const k=p(e,["videoMetadata"]);k!=null&&m(t,["videoMetadata"],k);const F=p(e,["error"]);return F!=null&&m(t,["error"],oM(n,F)),t}function aM(n,e){const t={},i=p(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=p(e,["files"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Wg(n,l))),m(t,["files"],o)}return t}function lM(){return{}}function uM(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cM extends Rl{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Vh(vl.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Wg(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=eM(this.apiClient,e);return o=Ue("files",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=aM(this.apiClient,h),y=new R4;return Object.assign(y,d),y})}}async createInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=iM(this.apiClient,e);return o=Ue("upload/v1beta/files",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(()=>{const h=lM(),d=new k4;return Object.assign(d,h),d})}}async get(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=rM(this.apiClient,e);return o=Ue("files/{file}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>Wg(this.apiClient,h))}}async delete(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=sM(this.apiClient,e);return o=Ue("files/{file}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(()=>{const h=uM(),d=new N4;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fM(n,e){const t={},i=p(e,["voiceName"]);return i!=null&&m(t,["voiceName"],i),t}function dM(n,e){const t={},i=p(e,["voiceName"]);return i!=null&&m(t,["voiceName"],i),t}function fw(n,e){const t={},i=p(e,["prebuiltVoiceConfig"]);return i!=null&&m(t,["prebuiltVoiceConfig"],fM(n,i)),t}function hM(n,e){const t={},i=p(e,["prebuiltVoiceConfig"]);return i!=null&&m(t,["prebuiltVoiceConfig"],dM(n,i)),t}function pM(n,e){const t={},i=p(e,["speaker"]);i!=null&&m(t,["speaker"],i);const r=p(e,["voiceConfig"]);return r!=null&&m(t,["voiceConfig"],fw(n,r)),t}function mM(n,e){const t={},i=p(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>pM(n,o))),m(t,["speakerVoiceConfigs"],r)}return t}function gM(n,e){const t={},i=p(e,["voiceConfig"]);i!=null&&m(t,["voiceConfig"],fw(n,i));const r=p(e,["multiSpeakerVoiceConfig"]);r!=null&&m(t,["multiSpeakerVoiceConfig"],mM(n,r));const o=p(e,["languageCode"]);return o!=null&&m(t,["languageCode"],o),t}function yM(n,e){const t={},i=p(e,["voiceConfig"]);if(i!=null&&m(t,["voiceConfig"],hM(n,i)),p(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function vM(n,e){const t={},i=p(e,["fps"]);i!=null&&m(t,["fps"],i);const r=p(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&m(t,["startOffset"],o),t}function _M(n,e){const t={},i=p(e,["fps"]);i!=null&&m(t,["fps"],i);const r=p(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&m(t,["startOffset"],o),t}function TM(n,e){const t={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["data"]);i!=null&&m(t,["data"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function EM(n,e){const t={},i=p(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=p(e,["data"]);r!=null&&m(t,["data"],r);const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function xM(n,e){const t={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function CM(n,e){const t={},i=p(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=p(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function SM(n,e){const t={},i=p(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],vM(n,i));const r=p(e,["thought"]);r!=null&&m(t,["thought"],r);const o=p(e,["inlineData"]);o!=null&&m(t,["inlineData"],TM(n,o));const l=p(e,["fileData"]);l!=null&&m(t,["fileData"],xM(n,l));const c=p(e,["thoughtSignature"]);c!=null&&m(t,["thoughtSignature"],c);const h=p(e,["codeExecutionResult"]);h!=null&&m(t,["codeExecutionResult"],h);const d=p(e,["executableCode"]);d!=null&&m(t,["executableCode"],d);const y=p(e,["functionCall"]);y!=null&&m(t,["functionCall"],y);const T=p(e,["functionResponse"]);T!=null&&m(t,["functionResponse"],T);const E=p(e,["text"]);return E!=null&&m(t,["text"],E),t}function wM(n,e){const t={},i=p(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],_M(n,i));const r=p(e,["thought"]);r!=null&&m(t,["thought"],r);const o=p(e,["inlineData"]);o!=null&&m(t,["inlineData"],EM(n,o));const l=p(e,["fileData"]);l!=null&&m(t,["fileData"],CM(n,l));const c=p(e,["thoughtSignature"]);c!=null&&m(t,["thoughtSignature"],c);const h=p(e,["codeExecutionResult"]);h!=null&&m(t,["codeExecutionResult"],h);const d=p(e,["executableCode"]);d!=null&&m(t,["executableCode"],d);const y=p(e,["functionCall"]);y!=null&&m(t,["functionCall"],y);const T=p(e,["functionResponse"]);T!=null&&m(t,["functionResponse"],T);const E=p(e,["text"]);return E!=null&&m(t,["text"],E),t}function AM(n,e){const t={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>SM(n,l))),m(t,["parts"],o)}const r=p(e,["role"]);return r!=null&&m(t,["role"],r),t}function bM(n,e){const t={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>wM(n,l))),m(t,["parts"],o)}const r=p(e,["role"]);return r!=null&&m(t,["role"],r),t}function IM(n,e){const t={},i=p(e,["behavior"]);i!=null&&m(t,["behavior"],i);const r=p(e,["description"]);r!=null&&m(t,["description"],r);const o=p(e,["name"]);o!=null&&m(t,["name"],o);const l=p(e,["parameters"]);l!=null&&m(t,["parameters"],l);const c=p(e,["response"]);return c!=null&&m(t,["response"],c),t}function RM(n,e){const t={};if(p(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=p(e,["description"]);i!=null&&m(t,["description"],i);const r=p(e,["name"]);r!=null&&m(t,["name"],r);const o=p(e,["parameters"]);o!=null&&m(t,["parameters"],o);const l=p(e,["response"]);return l!=null&&m(t,["response"],l),t}function kM(n,e){const t={},i=p(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function NM(n,e){const t={},i=p(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function MM(n,e){const t={},i=p(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],kM(n,i)),t}function DM(n,e){const t={},i=p(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],NM(n,i)),t}function PM(n,e){const t={},i=p(e,["mode"]);i!=null&&m(t,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function LM(n,e){const t={},i=p(e,["mode"]);i!=null&&m(t,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function VM(n,e){const t={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],PM(n,i)),t}function OM(n,e){const t={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],LM(n,i)),t}function UM(){return{}}function FM(n,e){const t={},i=p(e,["apiKeyString"]);return i!=null&&m(t,["apiKeyString"],i),t}function zM(n,e){const t={},i=p(e,["apiKeyConfig"]);i!=null&&m(t,["apiKeyConfig"],FM(n,i));const r=p(e,["authType"]);r!=null&&m(t,["authType"],r);const o=p(e,["googleServiceAccountConfig"]);o!=null&&m(t,["googleServiceAccountConfig"],o);const l=p(e,["httpBasicAuthConfig"]);l!=null&&m(t,["httpBasicAuthConfig"],l);const c=p(e,["oauthConfig"]);c!=null&&m(t,["oauthConfig"],c);const h=p(e,["oidcConfig"]);return h!=null&&m(t,["oidcConfig"],h),t}function BM(n,e){const t={},i=p(e,["authConfig"]);return i!=null&&m(t,["authConfig"],zM(n,i)),t}function HM(){return{}}function qM(n,e){const t={},i=p(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>IM(n,d))),m(t,["functionDeclarations"],h)}if(p(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],MM(n,r));const o=p(e,["googleSearchRetrieval"]);if(o!=null&&m(t,["googleSearchRetrieval"],VM(n,o)),p(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(e,["urlContext"])!=null&&m(t,["urlContext"],HM());const c=p(e,["codeExecution"]);return c!=null&&m(t,["codeExecution"],c),t}function GM(n,e){const t={},i=p(e,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(T=>RM(n,T))),m(t,["functionDeclarations"],y)}const r=p(e,["retrieval"]);r!=null&&m(t,["retrieval"],r);const o=p(e,["googleSearch"]);o!=null&&m(t,["googleSearch"],DM(n,o));const l=p(e,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],OM(n,l)),p(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],UM());const h=p(e,["googleMaps"]);if(h!=null&&m(t,["googleMaps"],BM(n,h)),p(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const d=p(e,["codeExecution"]);return d!=null&&m(t,["codeExecution"],d),t}function $M(n,e){const t={},i=p(e,["handle"]);if(i!=null&&m(t,["handle"],i),p(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function YM(n,e){const t={},i=p(e,["handle"]);i!=null&&m(t,["handle"],i);const r=p(e,["transparent"]);return r!=null&&m(t,["transparent"],r),t}function KE(){return{}}function jE(){return{}}function KM(n,e){const t={},i=p(e,["disabled"]);i!=null&&m(t,["disabled"],i);const r=p(e,["startOfSpeechSensitivity"]);r!=null&&m(t,["startOfSpeechSensitivity"],r);const o=p(e,["endOfSpeechSensitivity"]);o!=null&&m(t,["endOfSpeechSensitivity"],o);const l=p(e,["prefixPaddingMs"]);l!=null&&m(t,["prefixPaddingMs"],l);const c=p(e,["silenceDurationMs"]);return c!=null&&m(t,["silenceDurationMs"],c),t}function jM(n,e){const t={},i=p(e,["disabled"]);i!=null&&m(t,["disabled"],i);const r=p(e,["startOfSpeechSensitivity"]);r!=null&&m(t,["startOfSpeechSensitivity"],r);const o=p(e,["endOfSpeechSensitivity"]);o!=null&&m(t,["endOfSpeechSensitivity"],o);const l=p(e,["prefixPaddingMs"]);l!=null&&m(t,["prefixPaddingMs"],l);const c=p(e,["silenceDurationMs"]);return c!=null&&m(t,["silenceDurationMs"],c),t}function QM(n,e){const t={},i=p(e,["automaticActivityDetection"]);i!=null&&m(t,["automaticActivityDetection"],KM(n,i));const r=p(e,["activityHandling"]);r!=null&&m(t,["activityHandling"],r);const o=p(e,["turnCoverage"]);return o!=null&&m(t,["turnCoverage"],o),t}function WM(n,e){const t={},i=p(e,["automaticActivityDetection"]);i!=null&&m(t,["automaticActivityDetection"],jM(n,i));const r=p(e,["activityHandling"]);r!=null&&m(t,["activityHandling"],r);const o=p(e,["turnCoverage"]);return o!=null&&m(t,["turnCoverage"],o),t}function XM(n,e){const t={},i=p(e,["targetTokens"]);return i!=null&&m(t,["targetTokens"],i),t}function ZM(n,e){const t={},i=p(e,["targetTokens"]);return i!=null&&m(t,["targetTokens"],i),t}function JM(n,e){const t={},i=p(e,["triggerTokens"]);i!=null&&m(t,["triggerTokens"],i);const r=p(e,["slidingWindow"]);return r!=null&&m(t,["slidingWindow"],XM(n,r)),t}function e3(n,e){const t={},i=p(e,["triggerTokens"]);i!=null&&m(t,["triggerTokens"],i);const r=p(e,["slidingWindow"]);return r!=null&&m(t,["slidingWindow"],ZM(n,r)),t}function t3(n,e){const t={},i=p(e,["proactiveAudio"]);return i!=null&&m(t,["proactiveAudio"],i),t}function n3(n,e){const t={},i=p(e,["proactiveAudio"]);return i!=null&&m(t,["proactiveAudio"],i),t}function i3(n,e,t){const i={},r=p(e,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],r);const o=p(e,["responseModalities"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","responseModalities"],o);const l=p(e,["temperature"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","temperature"],l);const c=p(e,["topP"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topP"],c);const h=p(e,["topK"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","topK"],h);const d=p(e,["maxOutputTokens"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","maxOutputTokens"],d);const y=p(e,["mediaResolution"]);t!==void 0&&y!=null&&m(t,["setup","generationConfig","mediaResolution"],y);const T=p(e,["seed"]);t!==void 0&&T!=null&&m(t,["setup","generationConfig","seed"],T);const E=p(e,["speechConfig"]);t!==void 0&&E!=null&&m(t,["setup","generationConfig","speechConfig"],gM(n,jy(n,E)));const C=p(e,["enableAffectiveDialog"]);t!==void 0&&C!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],C);const I=p(e,["systemInstruction"]);t!==void 0&&I!=null&&m(t,["setup","systemInstruction"],AM(n,Bn(n,I)));const k=p(e,["tools"]);if(t!==void 0&&k!=null){let Y=Lc(n,k);Array.isArray(Y)&&(Y=Y.map(V=>qM(n,Pc(n,V)))),m(t,["setup","tools"],Y)}const F=p(e,["sessionResumption"]);t!==void 0&&F!=null&&m(t,["setup","sessionResumption"],$M(n,F));const U=p(e,["inputAudioTranscription"]);t!==void 0&&U!=null&&m(t,["setup","inputAudioTranscription"],KE());const q=p(e,["outputAudioTranscription"]);t!==void 0&&q!=null&&m(t,["setup","outputAudioTranscription"],KE());const G=p(e,["realtimeInputConfig"]);t!==void 0&&G!=null&&m(t,["setup","realtimeInputConfig"],QM(n,G));const re=p(e,["contextWindowCompression"]);t!==void 0&&re!=null&&m(t,["setup","contextWindowCompression"],JM(n,re));const ie=p(e,["proactivity"]);return t!==void 0&&ie!=null&&m(t,["setup","proactivity"],t3(n,ie)),i}function r3(n,e,t){const i={},r=p(e,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],r);const o=p(e,["responseModalities"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","responseModalities"],o);const l=p(e,["temperature"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","temperature"],l);const c=p(e,["topP"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topP"],c);const h=p(e,["topK"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","topK"],h);const d=p(e,["maxOutputTokens"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","maxOutputTokens"],d);const y=p(e,["mediaResolution"]);t!==void 0&&y!=null&&m(t,["setup","generationConfig","mediaResolution"],y);const T=p(e,["seed"]);t!==void 0&&T!=null&&m(t,["setup","generationConfig","seed"],T);const E=p(e,["speechConfig"]);t!==void 0&&E!=null&&m(t,["setup","generationConfig","speechConfig"],yM(n,jy(n,E)));const C=p(e,["enableAffectiveDialog"]);t!==void 0&&C!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],C);const I=p(e,["systemInstruction"]);t!==void 0&&I!=null&&m(t,["setup","systemInstruction"],bM(n,Bn(n,I)));const k=p(e,["tools"]);if(t!==void 0&&k!=null){let Y=Lc(n,k);Array.isArray(Y)&&(Y=Y.map(V=>GM(n,Pc(n,V)))),m(t,["setup","tools"],Y)}const F=p(e,["sessionResumption"]);t!==void 0&&F!=null&&m(t,["setup","sessionResumption"],YM(n,F));const U=p(e,["inputAudioTranscription"]);t!==void 0&&U!=null&&m(t,["setup","inputAudioTranscription"],jE());const q=p(e,["outputAudioTranscription"]);t!==void 0&&q!=null&&m(t,["setup","outputAudioTranscription"],jE());const G=p(e,["realtimeInputConfig"]);t!==void 0&&G!=null&&m(t,["setup","realtimeInputConfig"],WM(n,G));const re=p(e,["contextWindowCompression"]);t!==void 0&&re!=null&&m(t,["setup","contextWindowCompression"],e3(n,re));const ie=p(e,["proactivity"]);return t!==void 0&&ie!=null&&m(t,["setup","proactivity"],n3(n,ie)),i}function s3(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["setup","model"],bt(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],i3(n,r,t)),t}function o3(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["setup","model"],bt(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r3(n,r,t)),t}function a3(){return{}}function l3(){return{}}function u3(){return{}}function c3(){return{}}function f3(n,e){const t={},i=p(e,["media"]);i!=null&&m(t,["mediaChunks"],nw(n,i));const r=p(e,["audio"]);r!=null&&m(t,["audio"],L4(n,r));const o=p(e,["audioStreamEnd"]);o!=null&&m(t,["audioStreamEnd"],o);const l=p(e,["video"]);l!=null&&m(t,["video"],P4(n,l));const c=p(e,["text"]);return c!=null&&m(t,["text"],c),p(e,["activityStart"])!=null&&m(t,["activityStart"],a3()),p(e,["activityEnd"])!=null&&m(t,["activityEnd"],u3()),t}function d3(n,e){const t={},i=p(e,["media"]);if(i!=null&&m(t,["mediaChunks"],nw(n,i)),p(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=p(e,["audioStreamEnd"]);if(r!=null&&m(t,["audioStreamEnd"],r),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(p(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return p(e,["activityStart"])!=null&&m(t,["activityStart"],l3()),p(e,["activityEnd"])!=null&&m(t,["activityEnd"],c3()),t}function dw(n,e){const t={},i=p(e,["text"]);i!=null&&m(t,["text"],i);const r=p(e,["weight"]);return r!=null&&m(t,["weight"],r),t}function h3(n,e){const t={},i=p(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>dw(n,o))),m(t,["weightedPrompts"],r)}return t}function hw(n,e){const t={},i=p(e,["temperature"]);i!=null&&m(t,["temperature"],i);const r=p(e,["topK"]);r!=null&&m(t,["topK"],r);const o=p(e,["seed"]);o!=null&&m(t,["seed"],o);const l=p(e,["guidance"]);l!=null&&m(t,["guidance"],l);const c=p(e,["bpm"]);c!=null&&m(t,["bpm"],c);const h=p(e,["density"]);h!=null&&m(t,["density"],h);const d=p(e,["brightness"]);d!=null&&m(t,["brightness"],d);const y=p(e,["scale"]);y!=null&&m(t,["scale"],y);const T=p(e,["muteBass"]);T!=null&&m(t,["muteBass"],T);const E=p(e,["muteDrums"]);E!=null&&m(t,["muteDrums"],E);const C=p(e,["onlyBassAndDrums"]);return C!=null&&m(t,["onlyBassAndDrums"],C),t}function p3(n,e){const t={},i=p(e,["musicGenerationConfig"]);return i!=null&&m(t,["musicGenerationConfig"],hw(n,i)),t}function pw(n,e){const t={},i=p(e,["model"]);return i!=null&&m(t,["model"],i),t}function mw(n,e){const t={},i=p(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>dw(n,o))),m(t,["weightedPrompts"],r)}return t}function Xg(n,e){const t={},i=p(e,["setup"]);i!=null&&m(t,["setup"],pw(n,i));const r=p(e,["clientContent"]);r!=null&&m(t,["clientContent"],mw(n,r));const o=p(e,["musicGenerationConfig"]);o!=null&&m(t,["musicGenerationConfig"],hw(n,o));const l=p(e,["playbackControl"]);return l!=null&&m(t,["playbackControl"],l),t}function m3(){return{}}function g3(){return{}}function y3(n,e){const t={},i=p(e,["fps"]);i!=null&&m(t,["fps"],i);const r=p(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&m(t,["startOffset"],o),t}function v3(n,e){const t={},i=p(e,["fps"]);i!=null&&m(t,["fps"],i);const r=p(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&m(t,["startOffset"],o),t}function _3(n,e){const t={},i=p(e,["data"]);i!=null&&m(t,["data"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function T3(n,e){const t={},i=p(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=p(e,["data"]);r!=null&&m(t,["data"],r);const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function E3(n,e){const t={},i=p(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function x3(n,e){const t={},i=p(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=p(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function C3(n,e){const t={},i=p(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],y3(n,i));const r=p(e,["thought"]);r!=null&&m(t,["thought"],r);const o=p(e,["inlineData"]);o!=null&&m(t,["inlineData"],_3(n,o));const l=p(e,["fileData"]);l!=null&&m(t,["fileData"],E3(n,l));const c=p(e,["thoughtSignature"]);c!=null&&m(t,["thoughtSignature"],c);const h=p(e,["codeExecutionResult"]);h!=null&&m(t,["codeExecutionResult"],h);const d=p(e,["executableCode"]);d!=null&&m(t,["executableCode"],d);const y=p(e,["functionCall"]);y!=null&&m(t,["functionCall"],y);const T=p(e,["functionResponse"]);T!=null&&m(t,["functionResponse"],T);const E=p(e,["text"]);return E!=null&&m(t,["text"],E),t}function S3(n,e){const t={},i=p(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],v3(n,i));const r=p(e,["thought"]);r!=null&&m(t,["thought"],r);const o=p(e,["inlineData"]);o!=null&&m(t,["inlineData"],T3(n,o));const l=p(e,["fileData"]);l!=null&&m(t,["fileData"],x3(n,l));const c=p(e,["thoughtSignature"]);c!=null&&m(t,["thoughtSignature"],c);const h=p(e,["codeExecutionResult"]);h!=null&&m(t,["codeExecutionResult"],h);const d=p(e,["executableCode"]);d!=null&&m(t,["executableCode"],d);const y=p(e,["functionCall"]);y!=null&&m(t,["functionCall"],y);const T=p(e,["functionResponse"]);T!=null&&m(t,["functionResponse"],T);const E=p(e,["text"]);return E!=null&&m(t,["text"],E),t}function w3(n,e){const t={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>C3(n,l))),m(t,["parts"],o)}const r=p(e,["role"]);return r!=null&&m(t,["role"],r),t}function A3(n,e){const t={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>S3(n,l))),m(t,["parts"],o)}const r=p(e,["role"]);return r!=null&&m(t,["role"],r),t}function QE(n,e){const t={},i=p(e,["text"]);i!=null&&m(t,["text"],i);const r=p(e,["finished"]);return r!=null&&m(t,["finished"],r),t}function WE(n,e){const t={},i=p(e,["text"]);i!=null&&m(t,["text"],i);const r=p(e,["finished"]);return r!=null&&m(t,["finished"],r),t}function b3(n,e){const t={},i=p(e,["retrievedUrl"]);i!=null&&m(t,["retrievedUrl"],i);const r=p(e,["urlRetrievalStatus"]);return r!=null&&m(t,["urlRetrievalStatus"],r),t}function I3(n,e){const t={},i=p(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>b3(n,o))),m(t,["urlMetadata"],r)}return t}function R3(n,e){const t={},i=p(e,["modelTurn"]);i!=null&&m(t,["modelTurn"],w3(n,i));const r=p(e,["turnComplete"]);r!=null&&m(t,["turnComplete"],r);const o=p(e,["interrupted"]);o!=null&&m(t,["interrupted"],o);const l=p(e,["groundingMetadata"]);l!=null&&m(t,["groundingMetadata"],l);const c=p(e,["generationComplete"]);c!=null&&m(t,["generationComplete"],c);const h=p(e,["inputTranscription"]);h!=null&&m(t,["inputTranscription"],QE(n,h));const d=p(e,["outputTranscription"]);d!=null&&m(t,["outputTranscription"],QE(n,d));const y=p(e,["urlContextMetadata"]);return y!=null&&m(t,["urlContextMetadata"],I3(n,y)),t}function k3(n,e){const t={},i=p(e,["modelTurn"]);i!=null&&m(t,["modelTurn"],A3(n,i));const r=p(e,["turnComplete"]);r!=null&&m(t,["turnComplete"],r);const o=p(e,["interrupted"]);o!=null&&m(t,["interrupted"],o);const l=p(e,["groundingMetadata"]);l!=null&&m(t,["groundingMetadata"],l);const c=p(e,["generationComplete"]);c!=null&&m(t,["generationComplete"],c);const h=p(e,["inputTranscription"]);h!=null&&m(t,["inputTranscription"],WE(n,h));const d=p(e,["outputTranscription"]);return d!=null&&m(t,["outputTranscription"],WE(n,d)),t}function N3(n,e){const t={},i=p(e,["id"]);i!=null&&m(t,["id"],i);const r=p(e,["args"]);r!=null&&m(t,["args"],r);const o=p(e,["name"]);return o!=null&&m(t,["name"],o),t}function M3(n,e){const t={},i=p(e,["args"]);i!=null&&m(t,["args"],i);const r=p(e,["name"]);return r!=null&&m(t,["name"],r),t}function D3(n,e){const t={},i=p(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>N3(n,o))),m(t,["functionCalls"],r)}return t}function P3(n,e){const t={},i=p(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>M3(n,o))),m(t,["functionCalls"],r)}return t}function L3(n,e){const t={},i=p(e,["ids"]);return i!=null&&m(t,["ids"],i),t}function V3(n,e){const t={},i=p(e,["ids"]);return i!=null&&m(t,["ids"],i),t}function Td(n,e){const t={},i=p(e,["modality"]);i!=null&&m(t,["modality"],i);const r=p(e,["tokenCount"]);return r!=null&&m(t,["tokenCount"],r),t}function Ed(n,e){const t={},i=p(e,["modality"]);i!=null&&m(t,["modality"],i);const r=p(e,["tokenCount"]);return r!=null&&m(t,["tokenCount"],r),t}function O3(n,e){const t={},i=p(e,["promptTokenCount"]);i!=null&&m(t,["promptTokenCount"],i);const r=p(e,["cachedContentTokenCount"]);r!=null&&m(t,["cachedContentTokenCount"],r);const o=p(e,["responseTokenCount"]);o!=null&&m(t,["responseTokenCount"],o);const l=p(e,["toolUsePromptTokenCount"]);l!=null&&m(t,["toolUsePromptTokenCount"],l);const c=p(e,["thoughtsTokenCount"]);c!=null&&m(t,["thoughtsTokenCount"],c);const h=p(e,["totalTokenCount"]);h!=null&&m(t,["totalTokenCount"],h);const d=p(e,["promptTokensDetails"]);if(d!=null){let C=d;Array.isArray(C)&&(C=C.map(I=>Td(n,I))),m(t,["promptTokensDetails"],C)}const y=p(e,["cacheTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(I=>Td(n,I))),m(t,["cacheTokensDetails"],C)}const T=p(e,["responseTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(I=>Td(n,I))),m(t,["responseTokensDetails"],C)}const E=p(e,["toolUsePromptTokensDetails"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(I=>Td(n,I))),m(t,["toolUsePromptTokensDetails"],C)}return t}function U3(n,e){const t={},i=p(e,["promptTokenCount"]);i!=null&&m(t,["promptTokenCount"],i);const r=p(e,["cachedContentTokenCount"]);r!=null&&m(t,["cachedContentTokenCount"],r);const o=p(e,["candidatesTokenCount"]);o!=null&&m(t,["responseTokenCount"],o);const l=p(e,["toolUsePromptTokenCount"]);l!=null&&m(t,["toolUsePromptTokenCount"],l);const c=p(e,["thoughtsTokenCount"]);c!=null&&m(t,["thoughtsTokenCount"],c);const h=p(e,["totalTokenCount"]);h!=null&&m(t,["totalTokenCount"],h);const d=p(e,["promptTokensDetails"]);if(d!=null){let I=d;Array.isArray(I)&&(I=I.map(k=>Ed(n,k))),m(t,["promptTokensDetails"],I)}const y=p(e,["cacheTokensDetails"]);if(y!=null){let I=y;Array.isArray(I)&&(I=I.map(k=>Ed(n,k))),m(t,["cacheTokensDetails"],I)}const T=p(e,["candidatesTokensDetails"]);if(T!=null){let I=T;Array.isArray(I)&&(I=I.map(k=>Ed(n,k))),m(t,["responseTokensDetails"],I)}const E=p(e,["toolUsePromptTokensDetails"]);if(E!=null){let I=E;Array.isArray(I)&&(I=I.map(k=>Ed(n,k))),m(t,["toolUsePromptTokensDetails"],I)}const C=p(e,["trafficType"]);return C!=null&&m(t,["trafficType"],C),t}function F3(n,e){const t={},i=p(e,["timeLeft"]);return i!=null&&m(t,["timeLeft"],i),t}function z3(n,e){const t={},i=p(e,["timeLeft"]);return i!=null&&m(t,["timeLeft"],i),t}function B3(n,e){const t={},i=p(e,["newHandle"]);i!=null&&m(t,["newHandle"],i);const r=p(e,["resumable"]);r!=null&&m(t,["resumable"],r);const o=p(e,["lastConsumedClientMessageIndex"]);return o!=null&&m(t,["lastConsumedClientMessageIndex"],o),t}function H3(n,e){const t={},i=p(e,["newHandle"]);i!=null&&m(t,["newHandle"],i);const r=p(e,["resumable"]);r!=null&&m(t,["resumable"],r);const o=p(e,["lastConsumedClientMessageIndex"]);return o!=null&&m(t,["lastConsumedClientMessageIndex"],o),t}function q3(n,e){const t={};p(e,["setupComplete"])!=null&&m(t,["setupComplete"],m3());const r=p(e,["serverContent"]);r!=null&&m(t,["serverContent"],R3(n,r));const o=p(e,["toolCall"]);o!=null&&m(t,["toolCall"],D3(n,o));const l=p(e,["toolCallCancellation"]);l!=null&&m(t,["toolCallCancellation"],L3(n,l));const c=p(e,["usageMetadata"]);c!=null&&m(t,["usageMetadata"],O3(n,c));const h=p(e,["goAway"]);h!=null&&m(t,["goAway"],F3(n,h));const d=p(e,["sessionResumptionUpdate"]);return d!=null&&m(t,["sessionResumptionUpdate"],B3(n,d)),t}function G3(n,e){const t={};p(e,["setupComplete"])!=null&&m(t,["setupComplete"],g3());const r=p(e,["serverContent"]);r!=null&&m(t,["serverContent"],k3(n,r));const o=p(e,["toolCall"]);o!=null&&m(t,["toolCall"],P3(n,o));const l=p(e,["toolCallCancellation"]);l!=null&&m(t,["toolCallCancellation"],V3(n,l));const c=p(e,["usageMetadata"]);c!=null&&m(t,["usageMetadata"],U3(n,c));const h=p(e,["goAway"]);h!=null&&m(t,["goAway"],z3(n,h));const d=p(e,["sessionResumptionUpdate"]);return d!=null&&m(t,["sessionResumptionUpdate"],H3(n,d)),t}function $3(){return{}}function Y3(n,e){const t={},i=p(e,["text"]);i!=null&&m(t,["text"],i);const r=p(e,["weight"]);return r!=null&&m(t,["weight"],r),t}function K3(n,e){const t={},i=p(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Y3(n,o))),m(t,["weightedPrompts"],r)}return t}function j3(n,e){const t={},i=p(e,["temperature"]);i!=null&&m(t,["temperature"],i);const r=p(e,["topK"]);r!=null&&m(t,["topK"],r);const o=p(e,["seed"]);o!=null&&m(t,["seed"],o);const l=p(e,["guidance"]);l!=null&&m(t,["guidance"],l);const c=p(e,["bpm"]);c!=null&&m(t,["bpm"],c);const h=p(e,["density"]);h!=null&&m(t,["density"],h);const d=p(e,["brightness"]);d!=null&&m(t,["brightness"],d);const y=p(e,["scale"]);y!=null&&m(t,["scale"],y);const T=p(e,["muteBass"]);T!=null&&m(t,["muteBass"],T);const E=p(e,["muteDrums"]);E!=null&&m(t,["muteDrums"],E);const C=p(e,["onlyBassAndDrums"]);return C!=null&&m(t,["onlyBassAndDrums"],C),t}function Q3(n,e){const t={},i=p(e,["clientContent"]);i!=null&&m(t,["clientContent"],K3(n,i));const r=p(e,["musicGenerationConfig"]);return r!=null&&m(t,["musicGenerationConfig"],j3(n,r)),t}function W3(n,e){const t={},i=p(e,["data"]);i!=null&&m(t,["data"],i);const r=p(e,["mimeType"]);r!=null&&m(t,["mimeType"],r);const o=p(e,["sourceMetadata"]);return o!=null&&m(t,["sourceMetadata"],Q3(n,o)),t}function X3(n,e){const t={},i=p(e,["audioChunks"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>W3(n,o))),m(t,["audioChunks"],r)}return t}function Z3(n,e){const t={},i=p(e,["text"]);i!=null&&m(t,["text"],i);const r=p(e,["filteredReason"]);return r!=null&&m(t,["filteredReason"],r),t}function J3(n,e){const t={};p(e,["setupComplete"])!=null&&m(t,["setupComplete"],$3());const r=p(e,["serverContent"]);r!=null&&m(t,["serverContent"],X3(n,r));const o=p(e,["filteredPrompt"]);return o!=null&&m(t,["filteredPrompt"],Z3(n,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eD(n,e){const t={},i=p(e,["fps"]);i!=null&&m(t,["fps"],i);const r=p(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&m(t,["startOffset"],o),t}function tD(n,e){const t={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["data"]);i!=null&&m(t,["data"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function nD(n,e){const t={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function iD(n,e){const t={},i=p(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],eD(n,i));const r=p(e,["thought"]);r!=null&&m(t,["thought"],r);const o=p(e,["inlineData"]);o!=null&&m(t,["inlineData"],tD(n,o));const l=p(e,["fileData"]);l!=null&&m(t,["fileData"],nD(n,l));const c=p(e,["thoughtSignature"]);c!=null&&m(t,["thoughtSignature"],c);const h=p(e,["codeExecutionResult"]);h!=null&&m(t,["codeExecutionResult"],h);const d=p(e,["executableCode"]);d!=null&&m(t,["executableCode"],d);const y=p(e,["functionCall"]);y!=null&&m(t,["functionCall"],y);const T=p(e,["functionResponse"]);T!=null&&m(t,["functionResponse"],T);const E=p(e,["text"]);return E!=null&&m(t,["text"],E),t}function Oh(n,e){const t={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>iD(n,l))),m(t,["parts"],o)}const r=p(e,["role"]);return r!=null&&m(t,["role"],r),t}function rD(n,e){const t={},i=p(e,["anyOf"]);i!=null&&m(t,["anyOf"],i);const r=p(e,["default"]);r!=null&&m(t,["default"],r);const o=p(e,["description"]);o!=null&&m(t,["description"],o);const l=p(e,["enum"]);l!=null&&m(t,["enum"],l);const c=p(e,["example"]);c!=null&&m(t,["example"],c);const h=p(e,["format"]);h!=null&&m(t,["format"],h);const d=p(e,["items"]);d!=null&&m(t,["items"],d);const y=p(e,["maxItems"]);y!=null&&m(t,["maxItems"],y);const T=p(e,["maxLength"]);T!=null&&m(t,["maxLength"],T);const E=p(e,["maxProperties"]);E!=null&&m(t,["maxProperties"],E);const C=p(e,["maximum"]);C!=null&&m(t,["maximum"],C);const I=p(e,["minItems"]);I!=null&&m(t,["minItems"],I);const k=p(e,["minLength"]);k!=null&&m(t,["minLength"],k);const F=p(e,["minProperties"]);F!=null&&m(t,["minProperties"],F);const U=p(e,["minimum"]);U!=null&&m(t,["minimum"],U);const q=p(e,["nullable"]);q!=null&&m(t,["nullable"],q);const G=p(e,["pattern"]);G!=null&&m(t,["pattern"],G);const re=p(e,["properties"]);re!=null&&m(t,["properties"],re);const ie=p(e,["propertyOrdering"]);ie!=null&&m(t,["propertyOrdering"],ie);const Y=p(e,["required"]);Y!=null&&m(t,["required"],Y);const V=p(e,["title"]);V!=null&&m(t,["title"],V);const D=p(e,["type"]);return D!=null&&m(t,["type"],D),t}function sD(n,e){const t={};if(p(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(e,["category"]);i!=null&&m(t,["category"],i);const r=p(e,["threshold"]);return r!=null&&m(t,["threshold"],r),t}function oD(n,e){const t={},i=p(e,["behavior"]);i!=null&&m(t,["behavior"],i);const r=p(e,["description"]);r!=null&&m(t,["description"],r);const o=p(e,["name"]);o!=null&&m(t,["name"],o);const l=p(e,["parameters"]);l!=null&&m(t,["parameters"],l);const c=p(e,["response"]);return c!=null&&m(t,["response"],c),t}function aD(n,e){const t={},i=p(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function lD(n,e){const t={},i=p(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],aD(n,i)),t}function uD(n,e){const t={},i=p(e,["mode"]);i!=null&&m(t,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function cD(n,e){const t={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],uD(n,i)),t}function fD(){return{}}function dD(n,e){const t={},i=p(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>oD(n,d))),m(t,["functionDeclarations"],h)}if(p(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],lD(n,r));const o=p(e,["googleSearchRetrieval"]);if(o!=null&&m(t,["googleSearchRetrieval"],cD(n,o)),p(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(e,["urlContext"])!=null&&m(t,["urlContext"],fD());const c=p(e,["codeExecution"]);return c!=null&&m(t,["codeExecution"],c),t}function hD(n,e){const t={},i=p(e,["mode"]);i!=null&&m(t,["mode"],i);const r=p(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function pD(n,e){const t={},i=p(e,["latitude"]);i!=null&&m(t,["latitude"],i);const r=p(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function mD(n,e){const t={},i=p(e,["latLng"]);i!=null&&m(t,["latLng"],pD(n,i));const r=p(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function gD(n,e){const t={},i=p(e,["functionCallingConfig"]);i!=null&&m(t,["functionCallingConfig"],hD(n,i));const r=p(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],mD(n,r)),t}function yD(n,e){const t={},i=p(e,["voiceName"]);return i!=null&&m(t,["voiceName"],i),t}function gw(n,e){const t={},i=p(e,["prebuiltVoiceConfig"]);return i!=null&&m(t,["prebuiltVoiceConfig"],yD(n,i)),t}function vD(n,e){const t={},i=p(e,["speaker"]);i!=null&&m(t,["speaker"],i);const r=p(e,["voiceConfig"]);return r!=null&&m(t,["voiceConfig"],gw(n,r)),t}function _D(n,e){const t={},i=p(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>vD(n,o))),m(t,["speakerVoiceConfigs"],r)}return t}function TD(n,e){const t={},i=p(e,["voiceConfig"]);i!=null&&m(t,["voiceConfig"],gw(n,i));const r=p(e,["multiSpeakerVoiceConfig"]);r!=null&&m(t,["multiSpeakerVoiceConfig"],_D(n,r));const o=p(e,["languageCode"]);return o!=null&&m(t,["languageCode"],o),t}function ED(n,e){const t={},i=p(e,["includeThoughts"]);i!=null&&m(t,["includeThoughts"],i);const r=p(e,["thinkingBudget"]);return r!=null&&m(t,["thinkingBudget"],r),t}function xD(n,e,t){const i={},r=p(e,["systemInstruction"]);t!==void 0&&r!=null&&m(t,["systemInstruction"],Oh(n,Bn(n,r)));const o=p(e,["temperature"]);o!=null&&m(i,["temperature"],o);const l=p(e,["topP"]);l!=null&&m(i,["topP"],l);const c=p(e,["topK"]);c!=null&&m(i,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&m(i,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const y=p(e,["stopSequences"]);y!=null&&m(i,["stopSequences"],y);const T=p(e,["responseLogprobs"]);T!=null&&m(i,["responseLogprobs"],T);const E=p(e,["logprobs"]);E!=null&&m(i,["logprobs"],E);const C=p(e,["presencePenalty"]);C!=null&&m(i,["presencePenalty"],C);const I=p(e,["frequencyPenalty"]);I!=null&&m(i,["frequencyPenalty"],I);const k=p(e,["seed"]);k!=null&&m(i,["seed"],k);const F=p(e,["responseMimeType"]);F!=null&&m(i,["responseMimeType"],F);const U=p(e,["responseSchema"]);if(U!=null&&m(i,["responseSchema"],rD(n,nh(n,U))),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=p(e,["safetySettings"]);if(t!==void 0&&q!=null){let O=q;Array.isArray(O)&&(O=O.map(z=>sD(n,z))),m(t,["safetySettings"],O)}const G=p(e,["tools"]);if(t!==void 0&&G!=null){let O=Lc(n,G);Array.isArray(O)&&(O=O.map(z=>dD(n,Pc(n,z)))),m(t,["tools"],O)}const re=p(e,["toolConfig"]);if(t!==void 0&&re!=null&&m(t,["toolConfig"],gD(n,re)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=p(e,["cachedContent"]);t!==void 0&&ie!=null&&m(t,["cachedContent"],no(n,ie));const Y=p(e,["responseModalities"]);Y!=null&&m(i,["responseModalities"],Y);const V=p(e,["mediaResolution"]);V!=null&&m(i,["mediaResolution"],V);const D=p(e,["speechConfig"]);if(D!=null&&m(i,["speechConfig"],TD(n,sw(n,D))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=p(e,["thinkingConfig"]);return N!=null&&m(i,["thinkingConfig"],ED(n,N)),i}function XE(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["contents"]);if(r!=null){let l=Pi(n,r);Array.isArray(l)&&(l=l.map(c=>Oh(n,c))),m(t,["contents"],l)}const o=p(e,["config"]);return o!=null&&m(t,["generationConfig"],xD(n,o,t)),t}function CD(n,e,t){const i={},r=p(e,["taskType"]);t!==void 0&&r!=null&&m(t,["requests[]","taskType"],r);const o=p(e,["title"]);t!==void 0&&o!=null&&m(t,["requests[]","title"],o);const l=p(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&m(t,["requests[]","outputDimensionality"],l),p(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function SD(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["contents"]);r!=null&&m(t,["requests[]","content"],rw(n,r));const o=p(e,["config"]);o!=null&&m(t,["config"],CD(n,o,t));const l=p(e,["model"]);return l!==void 0&&m(t,["requests[]","model"],bt(n,l)),t}function wD(n,e,t){const i={};if(p(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(e,["numberOfImages"]);t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r);const o=p(e,["aspectRatio"]);t!==void 0&&o!=null&&m(t,["parameters","aspectRatio"],o);const l=p(e,["guidanceScale"]);if(t!==void 0&&l!=null&&m(t,["parameters","guidanceScale"],l),p(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=p(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&m(t,["parameters","safetySetting"],c);const h=p(e,["personGeneration"]);t!==void 0&&h!=null&&m(t,["parameters","personGeneration"],h);const d=p(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&m(t,["parameters","includeSafetyAttributes"],d);const y=p(e,["includeRaiReason"]);t!==void 0&&y!=null&&m(t,["parameters","includeRaiReason"],y);const T=p(e,["language"]);t!==void 0&&T!=null&&m(t,["parameters","language"],T);const E=p(e,["outputMimeType"]);t!==void 0&&E!=null&&m(t,["parameters","outputOptions","mimeType"],E);const C=p(e,["outputCompressionQuality"]);if(t!==void 0&&C!=null&&m(t,["parameters","outputOptions","compressionQuality"],C),p(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function AD(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["prompt"]);r!=null&&m(t,["instances[0]","prompt"],r);const o=p(e,["config"]);return o!=null&&m(t,["config"],wD(n,o,t)),t}function bD(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","name"],bt(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function ID(n,e,t){const i={},r=p(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const o=p(e,["pageToken"]);t!==void 0&&o!=null&&m(t,["_query","pageToken"],o);const l=p(e,["filter"]);t!==void 0&&l!=null&&m(t,["_query","filter"],l);const c=p(e,["queryBase"]);return t!==void 0&&c!=null&&m(t,["_url","models_url"],lw(n,c)),i}function RD(n,e){const t={},i=p(e,["config"]);return i!=null&&m(t,["config"],ID(n,i,t)),t}function kD(n,e,t){const i={},r=p(e,["displayName"]);t!==void 0&&r!=null&&m(t,["displayName"],r);const o=p(e,["description"]);t!==void 0&&o!=null&&m(t,["description"],o);const l=p(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&m(t,["defaultCheckpointId"],l),i}function ND(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","name"],bt(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],kD(n,r,t)),t}function MD(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","name"],bt(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function DD(n,e){const t={};if(p(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function PD(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["contents"]);if(r!=null){let l=Pi(n,r);Array.isArray(l)&&(l=l.map(c=>Oh(n,c))),m(t,["contents"],l)}const o=p(e,["config"]);return o!=null&&m(t,["config"],DD(n,o)),t}function LD(n,e){const t={};if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=p(e,["imageBytes"]);i!=null&&m(t,["bytesBase64Encoded"],io(n,i));const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function VD(n,e,t){const i={},r=p(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r),p(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=p(e,["durationSeconds"]);if(t!==void 0&&o!=null&&m(t,["parameters","durationSeconds"],o),p(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=p(e,["aspectRatio"]);if(t!==void 0&&l!=null&&m(t,["parameters","aspectRatio"],l),p(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=p(e,["personGeneration"]);if(t!==void 0&&c!=null&&m(t,["parameters","personGeneration"],c),p(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=p(e,["negativePrompt"]);if(t!==void 0&&h!=null&&m(t,["parameters","negativePrompt"],h),p(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(p(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function OD(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["prompt"]);r!=null&&m(t,["instances[0]","prompt"],r);const o=p(e,["image"]);o!=null&&m(t,["instances[0]","image"],LD(n,o));const l=p(e,["config"]);return l!=null&&m(t,["config"],VD(n,l,t)),t}function UD(n,e){const t={},i=p(e,["fps"]);i!=null&&m(t,["fps"],i);const r=p(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&m(t,["startOffset"],o),t}function FD(n,e){const t={},i=p(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=p(e,["data"]);r!=null&&m(t,["data"],r);const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function zD(n,e){const t={},i=p(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=p(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function BD(n,e){const t={},i=p(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],UD(n,i));const r=p(e,["thought"]);r!=null&&m(t,["thought"],r);const o=p(e,["inlineData"]);o!=null&&m(t,["inlineData"],FD(n,o));const l=p(e,["fileData"]);l!=null&&m(t,["fileData"],zD(n,l));const c=p(e,["thoughtSignature"]);c!=null&&m(t,["thoughtSignature"],c);const h=p(e,["codeExecutionResult"]);h!=null&&m(t,["codeExecutionResult"],h);const d=p(e,["executableCode"]);d!=null&&m(t,["executableCode"],d);const y=p(e,["functionCall"]);y!=null&&m(t,["functionCall"],y);const T=p(e,["functionResponse"]);T!=null&&m(t,["functionResponse"],T);const E=p(e,["text"]);return E!=null&&m(t,["text"],E),t}function kl(n,e){const t={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>BD(n,l))),m(t,["parts"],o)}const r=p(e,["role"]);return r!=null&&m(t,["role"],r),t}function HD(n,e){const t={},i=p(e,["anyOf"]);i!=null&&m(t,["anyOf"],i);const r=p(e,["default"]);r!=null&&m(t,["default"],r);const o=p(e,["description"]);o!=null&&m(t,["description"],o);const l=p(e,["enum"]);l!=null&&m(t,["enum"],l);const c=p(e,["example"]);c!=null&&m(t,["example"],c);const h=p(e,["format"]);h!=null&&m(t,["format"],h);const d=p(e,["items"]);d!=null&&m(t,["items"],d);const y=p(e,["maxItems"]);y!=null&&m(t,["maxItems"],y);const T=p(e,["maxLength"]);T!=null&&m(t,["maxLength"],T);const E=p(e,["maxProperties"]);E!=null&&m(t,["maxProperties"],E);const C=p(e,["maximum"]);C!=null&&m(t,["maximum"],C);const I=p(e,["minItems"]);I!=null&&m(t,["minItems"],I);const k=p(e,["minLength"]);k!=null&&m(t,["minLength"],k);const F=p(e,["minProperties"]);F!=null&&m(t,["minProperties"],F);const U=p(e,["minimum"]);U!=null&&m(t,["minimum"],U);const q=p(e,["nullable"]);q!=null&&m(t,["nullable"],q);const G=p(e,["pattern"]);G!=null&&m(t,["pattern"],G);const re=p(e,["properties"]);re!=null&&m(t,["properties"],re);const ie=p(e,["propertyOrdering"]);ie!=null&&m(t,["propertyOrdering"],ie);const Y=p(e,["required"]);Y!=null&&m(t,["required"],Y);const V=p(e,["title"]);V!=null&&m(t,["title"],V);const D=p(e,["type"]);return D!=null&&m(t,["type"],D),t}function qD(n,e){const t={},i=p(e,["featureSelectionPreference"]);return i!=null&&m(t,["featureSelectionPreference"],i),t}function GD(n,e){const t={},i=p(e,["method"]);i!=null&&m(t,["method"],i);const r=p(e,["category"]);r!=null&&m(t,["category"],r);const o=p(e,["threshold"]);return o!=null&&m(t,["threshold"],o),t}function $D(n,e){const t={};if(p(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=p(e,["description"]);i!=null&&m(t,["description"],i);const r=p(e,["name"]);r!=null&&m(t,["name"],r);const o=p(e,["parameters"]);o!=null&&m(t,["parameters"],o);const l=p(e,["response"]);return l!=null&&m(t,["response"],l),t}function YD(n,e){const t={},i=p(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function KD(n,e){const t={},i=p(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],YD(n,i)),t}function jD(n,e){const t={},i=p(e,["mode"]);i!=null&&m(t,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function QD(n,e){const t={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],jD(n,i)),t}function WD(){return{}}function XD(n,e){const t={},i=p(e,["apiKeyString"]);return i!=null&&m(t,["apiKeyString"],i),t}function ZD(n,e){const t={},i=p(e,["apiKeyConfig"]);i!=null&&m(t,["apiKeyConfig"],XD(n,i));const r=p(e,["authType"]);r!=null&&m(t,["authType"],r);const o=p(e,["googleServiceAccountConfig"]);o!=null&&m(t,["googleServiceAccountConfig"],o);const l=p(e,["httpBasicAuthConfig"]);l!=null&&m(t,["httpBasicAuthConfig"],l);const c=p(e,["oauthConfig"]);c!=null&&m(t,["oauthConfig"],c);const h=p(e,["oidcConfig"]);return h!=null&&m(t,["oidcConfig"],h),t}function JD(n,e){const t={},i=p(e,["authConfig"]);return i!=null&&m(t,["authConfig"],ZD(n,i)),t}function yw(n,e){const t={},i=p(e,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(T=>$D(n,T))),m(t,["functionDeclarations"],y)}const r=p(e,["retrieval"]);r!=null&&m(t,["retrieval"],r);const o=p(e,["googleSearch"]);o!=null&&m(t,["googleSearch"],KD(n,o));const l=p(e,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],QD(n,l)),p(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],WD());const h=p(e,["googleMaps"]);if(h!=null&&m(t,["googleMaps"],JD(n,h)),p(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const d=p(e,["codeExecution"]);return d!=null&&m(t,["codeExecution"],d),t}function e5(n,e){const t={},i=p(e,["mode"]);i!=null&&m(t,["mode"],i);const r=p(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function t5(n,e){const t={},i=p(e,["latitude"]);i!=null&&m(t,["latitude"],i);const r=p(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function n5(n,e){const t={},i=p(e,["latLng"]);i!=null&&m(t,["latLng"],t5(n,i));const r=p(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function i5(n,e){const t={},i=p(e,["functionCallingConfig"]);i!=null&&m(t,["functionCallingConfig"],e5(n,i));const r=p(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],n5(n,r)),t}function r5(n,e){const t={},i=p(e,["voiceName"]);return i!=null&&m(t,["voiceName"],i),t}function s5(n,e){const t={},i=p(e,["prebuiltVoiceConfig"]);return i!=null&&m(t,["prebuiltVoiceConfig"],r5(n,i)),t}function o5(n,e){const t={},i=p(e,["voiceConfig"]);if(i!=null&&m(t,["voiceConfig"],s5(n,i)),p(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function a5(n,e){const t={},i=p(e,["includeThoughts"]);i!=null&&m(t,["includeThoughts"],i);const r=p(e,["thinkingBudget"]);return r!=null&&m(t,["thinkingBudget"],r),t}function l5(n,e,t){const i={},r=p(e,["systemInstruction"]);t!==void 0&&r!=null&&m(t,["systemInstruction"],kl(n,Bn(n,r)));const o=p(e,["temperature"]);o!=null&&m(i,["temperature"],o);const l=p(e,["topP"]);l!=null&&m(i,["topP"],l);const c=p(e,["topK"]);c!=null&&m(i,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&m(i,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const y=p(e,["stopSequences"]);y!=null&&m(i,["stopSequences"],y);const T=p(e,["responseLogprobs"]);T!=null&&m(i,["responseLogprobs"],T);const E=p(e,["logprobs"]);E!=null&&m(i,["logprobs"],E);const C=p(e,["presencePenalty"]);C!=null&&m(i,["presencePenalty"],C);const I=p(e,["frequencyPenalty"]);I!=null&&m(i,["frequencyPenalty"],I);const k=p(e,["seed"]);k!=null&&m(i,["seed"],k);const F=p(e,["responseMimeType"]);F!=null&&m(i,["responseMimeType"],F);const U=p(e,["responseSchema"]);U!=null&&m(i,["responseSchema"],HD(n,nh(n,U)));const q=p(e,["routingConfig"]);q!=null&&m(i,["routingConfig"],q);const G=p(e,["modelSelectionConfig"]);G!=null&&m(i,["modelConfig"],qD(n,G));const re=p(e,["safetySettings"]);if(t!==void 0&&re!=null){let he=re;Array.isArray(he)&&(he=he.map(me=>GD(n,me))),m(t,["safetySettings"],he)}const ie=p(e,["tools"]);if(t!==void 0&&ie!=null){let he=Lc(n,ie);Array.isArray(he)&&(he=he.map(me=>yw(n,Pc(n,me)))),m(t,["tools"],he)}const Y=p(e,["toolConfig"]);t!==void 0&&Y!=null&&m(t,["toolConfig"],i5(n,Y));const V=p(e,["labels"]);t!==void 0&&V!=null&&m(t,["labels"],V);const D=p(e,["cachedContent"]);t!==void 0&&D!=null&&m(t,["cachedContent"],no(n,D));const N=p(e,["responseModalities"]);N!=null&&m(i,["responseModalities"],N);const O=p(e,["mediaResolution"]);O!=null&&m(i,["mediaResolution"],O);const z=p(e,["speechConfig"]);z!=null&&m(i,["speechConfig"],o5(n,sw(n,z)));const B=p(e,["audioTimestamp"]);B!=null&&m(i,["audioTimestamp"],B);const L=p(e,["thinkingConfig"]);return L!=null&&m(i,["thinkingConfig"],a5(n,L)),i}function ZE(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["contents"]);if(r!=null){let l=Pi(n,r);Array.isArray(l)&&(l=l.map(c=>kl(n,c))),m(t,["contents"],l)}const o=p(e,["config"]);return o!=null&&m(t,["generationConfig"],l5(n,o,t)),t}function u5(n,e,t){const i={},r=p(e,["taskType"]);t!==void 0&&r!=null&&m(t,["instances[]","task_type"],r);const o=p(e,["title"]);t!==void 0&&o!=null&&m(t,["instances[]","title"],o);const l=p(e,["outputDimensionality"]);t!==void 0&&l!=null&&m(t,["parameters","outputDimensionality"],l);const c=p(e,["mimeType"]);t!==void 0&&c!=null&&m(t,["instances[]","mimeType"],c);const h=p(e,["autoTruncate"]);return t!==void 0&&h!=null&&m(t,["parameters","autoTruncate"],h),i}function c5(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["contents"]);r!=null&&m(t,["instances[]","content"],rw(n,r));const o=p(e,["config"]);return o!=null&&m(t,["config"],u5(n,o,t)),t}function f5(n,e,t){const i={},r=p(e,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const o=p(e,["negativePrompt"]);t!==void 0&&o!=null&&m(t,["parameters","negativePrompt"],o);const l=p(e,["numberOfImages"]);t!==void 0&&l!=null&&m(t,["parameters","sampleCount"],l);const c=p(e,["aspectRatio"]);t!==void 0&&c!=null&&m(t,["parameters","aspectRatio"],c);const h=p(e,["guidanceScale"]);t!==void 0&&h!=null&&m(t,["parameters","guidanceScale"],h);const d=p(e,["seed"]);t!==void 0&&d!=null&&m(t,["parameters","seed"],d);const y=p(e,["safetyFilterLevel"]);t!==void 0&&y!=null&&m(t,["parameters","safetySetting"],y);const T=p(e,["personGeneration"]);t!==void 0&&T!=null&&m(t,["parameters","personGeneration"],T);const E=p(e,["includeSafetyAttributes"]);t!==void 0&&E!=null&&m(t,["parameters","includeSafetyAttributes"],E);const C=p(e,["includeRaiReason"]);t!==void 0&&C!=null&&m(t,["parameters","includeRaiReason"],C);const I=p(e,["language"]);t!==void 0&&I!=null&&m(t,["parameters","language"],I);const k=p(e,["outputMimeType"]);t!==void 0&&k!=null&&m(t,["parameters","outputOptions","mimeType"],k);const F=p(e,["outputCompressionQuality"]);t!==void 0&&F!=null&&m(t,["parameters","outputOptions","compressionQuality"],F);const U=p(e,["addWatermark"]);t!==void 0&&U!=null&&m(t,["parameters","addWatermark"],U);const q=p(e,["enhancePrompt"]);return t!==void 0&&q!=null&&m(t,["parameters","enhancePrompt"],q),i}function d5(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["prompt"]);r!=null&&m(t,["instances[0]","prompt"],r);const o=p(e,["config"]);return o!=null&&m(t,["config"],f5(n,o,t)),t}function Qy(n,e){const t={},i=p(e,["gcsUri"]);i!=null&&m(t,["gcsUri"],i);const r=p(e,["imageBytes"]);r!=null&&m(t,["bytesBase64Encoded"],io(n,r));const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function h5(n,e){const t={},i=p(e,["maskMode"]);i!=null&&m(t,["maskMode"],i);const r=p(e,["segmentationClasses"]);r!=null&&m(t,["maskClasses"],r);const o=p(e,["maskDilation"]);return o!=null&&m(t,["dilation"],o),t}function p5(n,e){const t={},i=p(e,["controlType"]);i!=null&&m(t,["controlType"],i);const r=p(e,["enableControlImageComputation"]);return r!=null&&m(t,["computeControl"],r),t}function m5(n,e){const t={},i=p(e,["styleDescription"]);return i!=null&&m(t,["styleDescription"],i),t}function g5(n,e){const t={},i=p(e,["subjectType"]);i!=null&&m(t,["subjectType"],i);const r=p(e,["subjectDescription"]);return r!=null&&m(t,["subjectDescription"],r),t}function y5(n,e){const t={},i=p(e,["referenceImage"]);i!=null&&m(t,["referenceImage"],Qy(n,i));const r=p(e,["referenceId"]);r!=null&&m(t,["referenceId"],r);const o=p(e,["referenceType"]);o!=null&&m(t,["referenceType"],o);const l=p(e,["maskImageConfig"]);l!=null&&m(t,["maskImageConfig"],h5(n,l));const c=p(e,["controlImageConfig"]);c!=null&&m(t,["controlImageConfig"],p5(n,c));const h=p(e,["styleImageConfig"]);h!=null&&m(t,["styleImageConfig"],m5(n,h));const d=p(e,["subjectImageConfig"]);return d!=null&&m(t,["subjectImageConfig"],g5(n,d)),t}function v5(n,e,t){const i={},r=p(e,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const o=p(e,["negativePrompt"]);t!==void 0&&o!=null&&m(t,["parameters","negativePrompt"],o);const l=p(e,["numberOfImages"]);t!==void 0&&l!=null&&m(t,["parameters","sampleCount"],l);const c=p(e,["aspectRatio"]);t!==void 0&&c!=null&&m(t,["parameters","aspectRatio"],c);const h=p(e,["guidanceScale"]);t!==void 0&&h!=null&&m(t,["parameters","guidanceScale"],h);const d=p(e,["seed"]);t!==void 0&&d!=null&&m(t,["parameters","seed"],d);const y=p(e,["safetyFilterLevel"]);t!==void 0&&y!=null&&m(t,["parameters","safetySetting"],y);const T=p(e,["personGeneration"]);t!==void 0&&T!=null&&m(t,["parameters","personGeneration"],T);const E=p(e,["includeSafetyAttributes"]);t!==void 0&&E!=null&&m(t,["parameters","includeSafetyAttributes"],E);const C=p(e,["includeRaiReason"]);t!==void 0&&C!=null&&m(t,["parameters","includeRaiReason"],C);const I=p(e,["language"]);t!==void 0&&I!=null&&m(t,["parameters","language"],I);const k=p(e,["outputMimeType"]);t!==void 0&&k!=null&&m(t,["parameters","outputOptions","mimeType"],k);const F=p(e,["outputCompressionQuality"]);t!==void 0&&F!=null&&m(t,["parameters","outputOptions","compressionQuality"],F);const U=p(e,["editMode"]);t!==void 0&&U!=null&&m(t,["parameters","editMode"],U);const q=p(e,["baseSteps"]);return t!==void 0&&q!=null&&m(t,["parameters","editConfig","baseSteps"],q),i}function _5(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["prompt"]);r!=null&&m(t,["instances[0]","prompt"],r);const o=p(e,["referenceImages"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>y5(n,h))),m(t,["instances[0]","referenceImages"],c)}const l=p(e,["config"]);return l!=null&&m(t,["config"],v5(n,l,t)),t}function T5(n,e,t){const i={},r=p(e,["includeRaiReason"]);t!==void 0&&r!=null&&m(t,["parameters","includeRaiReason"],r);const o=p(e,["outputMimeType"]);t!==void 0&&o!=null&&m(t,["parameters","outputOptions","mimeType"],o);const l=p(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&m(t,["parameters","outputOptions","compressionQuality"],l);const c=p(e,["numberOfImages"]);t!==void 0&&c!=null&&m(t,["parameters","sampleCount"],c);const h=p(e,["mode"]);return t!==void 0&&h!=null&&m(t,["parameters","mode"],h),i}function E5(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["image"]);r!=null&&m(t,["instances[0]","image"],Qy(n,r));const o=p(e,["upscaleFactor"]);o!=null&&m(t,["parameters","upscaleConfig","upscaleFactor"],o);const l=p(e,["config"]);return l!=null&&m(t,["config"],T5(n,l,t)),t}function x5(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","name"],bt(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function C5(n,e,t){const i={},r=p(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const o=p(e,["pageToken"]);t!==void 0&&o!=null&&m(t,["_query","pageToken"],o);const l=p(e,["filter"]);t!==void 0&&l!=null&&m(t,["_query","filter"],l);const c=p(e,["queryBase"]);return t!==void 0&&c!=null&&m(t,["_url","models_url"],lw(n,c)),i}function S5(n,e){const t={},i=p(e,["config"]);return i!=null&&m(t,["config"],C5(n,i,t)),t}function w5(n,e,t){const i={},r=p(e,["displayName"]);t!==void 0&&r!=null&&m(t,["displayName"],r);const o=p(e,["description"]);t!==void 0&&o!=null&&m(t,["description"],o);const l=p(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&m(t,["defaultCheckpointId"],l),i}function A5(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],w5(n,r,t)),t}function b5(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","name"],bt(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function I5(n,e,t){const i={},r=p(e,["systemInstruction"]);t!==void 0&&r!=null&&m(t,["systemInstruction"],kl(n,Bn(n,r)));const o=p(e,["tools"]);if(t!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>yw(n,h))),m(t,["tools"],c)}const l=p(e,["generationConfig"]);return t!==void 0&&l!=null&&m(t,["generationConfig"],l),i}function R5(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["contents"]);if(r!=null){let l=Pi(n,r);Array.isArray(l)&&(l=l.map(c=>kl(n,c))),m(t,["contents"],l)}const o=p(e,["config"]);return o!=null&&m(t,["config"],I5(n,o,t)),t}function k5(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["contents"]);if(r!=null){let l=Pi(n,r);Array.isArray(l)&&(l=l.map(c=>kl(n,c))),m(t,["contents"],l)}const o=p(e,["config"]);return o!=null&&m(t,["config"],o),t}function N5(n,e,t){const i={},r=p(e,["numberOfVideos"]);t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r);const o=p(e,["outputGcsUri"]);t!==void 0&&o!=null&&m(t,["parameters","storageUri"],o);const l=p(e,["fps"]);t!==void 0&&l!=null&&m(t,["parameters","fps"],l);const c=p(e,["durationSeconds"]);t!==void 0&&c!=null&&m(t,["parameters","durationSeconds"],c);const h=p(e,["seed"]);t!==void 0&&h!=null&&m(t,["parameters","seed"],h);const d=p(e,["aspectRatio"]);t!==void 0&&d!=null&&m(t,["parameters","aspectRatio"],d);const y=p(e,["resolution"]);t!==void 0&&y!=null&&m(t,["parameters","resolution"],y);const T=p(e,["personGeneration"]);t!==void 0&&T!=null&&m(t,["parameters","personGeneration"],T);const E=p(e,["pubsubTopic"]);t!==void 0&&E!=null&&m(t,["parameters","pubsubTopic"],E);const C=p(e,["negativePrompt"]);t!==void 0&&C!=null&&m(t,["parameters","negativePrompt"],C);const I=p(e,["enhancePrompt"]);t!==void 0&&I!=null&&m(t,["parameters","enhancePrompt"],I);const k=p(e,["generateAudio"]);return t!==void 0&&k!=null&&m(t,["parameters","generateAudio"],k),i}function M5(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["_url","model"],bt(n,i));const r=p(e,["prompt"]);r!=null&&m(t,["instances[0]","prompt"],r);const o=p(e,["image"]);o!=null&&m(t,["instances[0]","image"],Qy(n,o));const l=p(e,["config"]);return l!=null&&m(t,["config"],N5(n,l,t)),t}function D5(n,e){const t={},i=p(e,["fps"]);i!=null&&m(t,["fps"],i);const r=p(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&m(t,["startOffset"],o),t}function P5(n,e){const t={},i=p(e,["data"]);i!=null&&m(t,["data"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function L5(n,e){const t={},i=p(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function V5(n,e){const t={},i=p(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],D5(n,i));const r=p(e,["thought"]);r!=null&&m(t,["thought"],r);const o=p(e,["inlineData"]);o!=null&&m(t,["inlineData"],P5(n,o));const l=p(e,["fileData"]);l!=null&&m(t,["fileData"],L5(n,l));const c=p(e,["thoughtSignature"]);c!=null&&m(t,["thoughtSignature"],c);const h=p(e,["codeExecutionResult"]);h!=null&&m(t,["codeExecutionResult"],h);const d=p(e,["executableCode"]);d!=null&&m(t,["executableCode"],d);const y=p(e,["functionCall"]);y!=null&&m(t,["functionCall"],y);const T=p(e,["functionResponse"]);T!=null&&m(t,["functionResponse"],T);const E=p(e,["text"]);return E!=null&&m(t,["text"],E),t}function O5(n,e){const t={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>V5(n,l))),m(t,["parts"],o)}const r=p(e,["role"]);return r!=null&&m(t,["role"],r),t}function U5(n,e){const t={},i=p(e,["citationSources"]);return i!=null&&m(t,["citations"],i),t}function F5(n,e){const t={},i=p(e,["retrievedUrl"]);i!=null&&m(t,["retrievedUrl"],i);const r=p(e,["urlRetrievalStatus"]);return r!=null&&m(t,["urlRetrievalStatus"],r),t}function z5(n,e){const t={},i=p(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>F5(n,o))),m(t,["urlMetadata"],r)}return t}function B5(n,e){const t={},i=p(e,["content"]);i!=null&&m(t,["content"],O5(n,i));const r=p(e,["citationMetadata"]);r!=null&&m(t,["citationMetadata"],U5(n,r));const o=p(e,["tokenCount"]);o!=null&&m(t,["tokenCount"],o);const l=p(e,["finishReason"]);l!=null&&m(t,["finishReason"],l);const c=p(e,["urlContextMetadata"]);c!=null&&m(t,["urlContextMetadata"],z5(n,c));const h=p(e,["avgLogprobs"]);h!=null&&m(t,["avgLogprobs"],h);const d=p(e,["groundingMetadata"]);d!=null&&m(t,["groundingMetadata"],d);const y=p(e,["index"]);y!=null&&m(t,["index"],y);const T=p(e,["logprobsResult"]);T!=null&&m(t,["logprobsResult"],T);const E=p(e,["safetyRatings"]);return E!=null&&m(t,["safetyRatings"],E),t}function JE(n,e){const t={},i=p(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(h=>B5(n,h))),m(t,["candidates"],c)}const r=p(e,["modelVersion"]);r!=null&&m(t,["modelVersion"],r);const o=p(e,["promptFeedback"]);o!=null&&m(t,["promptFeedback"],o);const l=p(e,["usageMetadata"]);return l!=null&&m(t,["usageMetadata"],l),t}function H5(n,e){const t={},i=p(e,["values"]);return i!=null&&m(t,["values"],i),t}function q5(){return{}}function G5(n,e){const t={},i=p(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>H5(n,l))),m(t,["embeddings"],o)}return p(e,["metadata"])!=null&&m(t,["metadata"],q5()),t}function $5(n,e){const t={},i=p(e,["bytesBase64Encoded"]);i!=null&&m(t,["imageBytes"],io(n,i));const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function vw(n,e){const t={},i=p(e,["safetyAttributes","categories"]);i!=null&&m(t,["categories"],i);const r=p(e,["safetyAttributes","scores"]);r!=null&&m(t,["scores"],r);const o=p(e,["contentType"]);return o!=null&&m(t,["contentType"],o),t}function Y5(n,e){const t={},i=p(e,["_self"]);i!=null&&m(t,["image"],$5(n,i));const r=p(e,["raiFilteredReason"]);r!=null&&m(t,["raiFilteredReason"],r);const o=p(e,["_self"]);return o!=null&&m(t,["safetyAttributes"],vw(n,o)),t}function K5(n,e){const t={},i=p(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Y5(n,l))),m(t,["generatedImages"],o)}const r=p(e,["positivePromptSafetyAttributes"]);return r!=null&&m(t,["positivePromptSafetyAttributes"],vw(n,r)),t}function j5(n,e){const t={},i=p(e,["baseModel"]);i!=null&&m(t,["baseModel"],i);const r=p(e,["createTime"]);r!=null&&m(t,["createTime"],r);const o=p(e,["updateTime"]);return o!=null&&m(t,["updateTime"],o),t}function Zg(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["displayName"]);r!=null&&m(t,["displayName"],r);const o=p(e,["description"]);o!=null&&m(t,["description"],o);const l=p(e,["version"]);l!=null&&m(t,["version"],l);const c=p(e,["_self"]);c!=null&&m(t,["tunedModelInfo"],j5(n,c));const h=p(e,["inputTokenLimit"]);h!=null&&m(t,["inputTokenLimit"],h);const d=p(e,["outputTokenLimit"]);d!=null&&m(t,["outputTokenLimit"],d);const y=p(e,["supportedGenerationMethods"]);return y!=null&&m(t,["supportedActions"],y),t}function Q5(n,e){const t={},i=p(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=p(e,["_self"]);if(r!=null){let o=uw(n,r);Array.isArray(o)&&(o=o.map(l=>Zg(n,l))),m(t,["models"],o)}return t}function W5(){return{}}function X5(n,e){const t={},i=p(e,["totalTokens"]);i!=null&&m(t,["totalTokens"],i);const r=p(e,["cachedContentTokenCount"]);return r!=null&&m(t,["cachedContentTokenCount"],r),t}function Z5(n,e){const t={},i=p(e,["video","uri"]);i!=null&&m(t,["uri"],i);const r=p(e,["video","encodedVideo"]);r!=null&&m(t,["videoBytes"],io(n,r));const o=p(e,["encoding"]);return o!=null&&m(t,["mimeType"],o),t}function J5(n,e){const t={},i=p(e,["_self"]);return i!=null&&m(t,["video"],Z5(n,i)),t}function e6(n,e){const t={},i=p(e,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>J5(n,c))),m(t,["generatedVideos"],l)}const r=p(e,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const o=p(e,["raiMediaFilteredReasons"]);return o!=null&&m(t,["raiMediaFilteredReasons"],o),t}function t6(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["metadata"]);r!=null&&m(t,["metadata"],r);const o=p(e,["done"]);o!=null&&m(t,["done"],o);const l=p(e,["error"]);l!=null&&m(t,["error"],l);const c=p(e,["response","generateVideoResponse"]);return c!=null&&m(t,["response"],e6(n,c)),t}function n6(n,e){const t={},i=p(e,["fps"]);i!=null&&m(t,["fps"],i);const r=p(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&m(t,["startOffset"],o),t}function i6(n,e){const t={},i=p(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=p(e,["data"]);r!=null&&m(t,["data"],r);const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function r6(n,e){const t={},i=p(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=p(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function s6(n,e){const t={},i=p(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],n6(n,i));const r=p(e,["thought"]);r!=null&&m(t,["thought"],r);const o=p(e,["inlineData"]);o!=null&&m(t,["inlineData"],i6(n,o));const l=p(e,["fileData"]);l!=null&&m(t,["fileData"],r6(n,l));const c=p(e,["thoughtSignature"]);c!=null&&m(t,["thoughtSignature"],c);const h=p(e,["codeExecutionResult"]);h!=null&&m(t,["codeExecutionResult"],h);const d=p(e,["executableCode"]);d!=null&&m(t,["executableCode"],d);const y=p(e,["functionCall"]);y!=null&&m(t,["functionCall"],y);const T=p(e,["functionResponse"]);T!=null&&m(t,["functionResponse"],T);const E=p(e,["text"]);return E!=null&&m(t,["text"],E),t}function o6(n,e){const t={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>s6(n,l))),m(t,["parts"],o)}const r=p(e,["role"]);return r!=null&&m(t,["role"],r),t}function a6(n,e){const t={},i=p(e,["citations"]);return i!=null&&m(t,["citations"],i),t}function l6(n,e){const t={},i=p(e,["content"]);i!=null&&m(t,["content"],o6(n,i));const r=p(e,["citationMetadata"]);r!=null&&m(t,["citationMetadata"],a6(n,r));const o=p(e,["finishMessage"]);o!=null&&m(t,["finishMessage"],o);const l=p(e,["finishReason"]);l!=null&&m(t,["finishReason"],l);const c=p(e,["avgLogprobs"]);c!=null&&m(t,["avgLogprobs"],c);const h=p(e,["groundingMetadata"]);h!=null&&m(t,["groundingMetadata"],h);const d=p(e,["index"]);d!=null&&m(t,["index"],d);const y=p(e,["logprobsResult"]);y!=null&&m(t,["logprobsResult"],y);const T=p(e,["safetyRatings"]);return T!=null&&m(t,["safetyRatings"],T),t}function ex(n,e){const t={},i=p(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(y=>l6(n,y))),m(t,["candidates"],d)}const r=p(e,["createTime"]);r!=null&&m(t,["createTime"],r);const o=p(e,["responseId"]);o!=null&&m(t,["responseId"],o);const l=p(e,["modelVersion"]);l!=null&&m(t,["modelVersion"],l);const c=p(e,["promptFeedback"]);c!=null&&m(t,["promptFeedback"],c);const h=p(e,["usageMetadata"]);return h!=null&&m(t,["usageMetadata"],h),t}function u6(n,e){const t={},i=p(e,["truncated"]);i!=null&&m(t,["truncated"],i);const r=p(e,["token_count"]);return r!=null&&m(t,["tokenCount"],r),t}function c6(n,e){const t={},i=p(e,["values"]);i!=null&&m(t,["values"],i);const r=p(e,["statistics"]);return r!=null&&m(t,["statistics"],u6(n,r)),t}function f6(n,e){const t={},i=p(e,["billableCharacterCount"]);return i!=null&&m(t,["billableCharacterCount"],i),t}function d6(n,e){const t={},i=p(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>c6(n,l))),m(t,["embeddings"],o)}const r=p(e,["metadata"]);return r!=null&&m(t,["metadata"],f6(n,r)),t}function h6(n,e){const t={},i=p(e,["gcsUri"]);i!=null&&m(t,["gcsUri"],i);const r=p(e,["bytesBase64Encoded"]);r!=null&&m(t,["imageBytes"],io(n,r));const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function _w(n,e){const t={},i=p(e,["safetyAttributes","categories"]);i!=null&&m(t,["categories"],i);const r=p(e,["safetyAttributes","scores"]);r!=null&&m(t,["scores"],r);const o=p(e,["contentType"]);return o!=null&&m(t,["contentType"],o),t}function Wy(n,e){const t={},i=p(e,["_self"]);i!=null&&m(t,["image"],h6(n,i));const r=p(e,["raiFilteredReason"]);r!=null&&m(t,["raiFilteredReason"],r);const o=p(e,["_self"]);o!=null&&m(t,["safetyAttributes"],_w(n,o));const l=p(e,["prompt"]);return l!=null&&m(t,["enhancedPrompt"],l),t}function p6(n,e){const t={},i=p(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Wy(n,l))),m(t,["generatedImages"],o)}const r=p(e,["positivePromptSafetyAttributes"]);return r!=null&&m(t,["positivePromptSafetyAttributes"],_w(n,r)),t}function m6(n,e){const t={},i=p(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Wy(n,o))),m(t,["generatedImages"],r)}return t}function g6(n,e){const t={},i=p(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Wy(n,o))),m(t,["generatedImages"],r)}return t}function y6(n,e){const t={},i=p(e,["endpoint"]);i!=null&&m(t,["name"],i);const r=p(e,["deployedModelId"]);return r!=null&&m(t,["deployedModelId"],r),t}function v6(n,e){const t={},i=p(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&m(t,["baseModel"],i);const r=p(e,["createTime"]);r!=null&&m(t,["createTime"],r);const o=p(e,["updateTime"]);return o!=null&&m(t,["updateTime"],o),t}function _6(n,e){const t={},i=p(e,["checkpointId"]);i!=null&&m(t,["checkpointId"],i);const r=p(e,["epoch"]);r!=null&&m(t,["epoch"],r);const o=p(e,["step"]);return o!=null&&m(t,["step"],o),t}function Jg(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["displayName"]);r!=null&&m(t,["displayName"],r);const o=p(e,["description"]);o!=null&&m(t,["description"],o);const l=p(e,["versionId"]);l!=null&&m(t,["version"],l);const c=p(e,["deployedModels"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(C=>y6(n,C))),m(t,["endpoints"],E)}const h=p(e,["labels"]);h!=null&&m(t,["labels"],h);const d=p(e,["_self"]);d!=null&&m(t,["tunedModelInfo"],v6(n,d));const y=p(e,["defaultCheckpointId"]);y!=null&&m(t,["defaultCheckpointId"],y);const T=p(e,["checkpoints"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(C=>_6(n,C))),m(t,["checkpoints"],E)}return t}function T6(n,e){const t={},i=p(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=p(e,["_self"]);if(r!=null){let o=uw(n,r);Array.isArray(o)&&(o=o.map(l=>Jg(n,l))),m(t,["models"],o)}return t}function E6(){return{}}function x6(n,e){const t={},i=p(e,["totalTokens"]);return i!=null&&m(t,["totalTokens"],i),t}function C6(n,e){const t={},i=p(e,["tokensInfo"]);return i!=null&&m(t,["tokensInfo"],i),t}function S6(n,e){const t={},i=p(e,["gcsUri"]);i!=null&&m(t,["uri"],i);const r=p(e,["bytesBase64Encoded"]);r!=null&&m(t,["videoBytes"],io(n,r));const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function w6(n,e){const t={},i=p(e,["_self"]);return i!=null&&m(t,["video"],S6(n,i)),t}function A6(n,e){const t={},i=p(e,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>w6(n,c))),m(t,["generatedVideos"],l)}const r=p(e,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const o=p(e,["raiMediaFilteredReasons"]);return o!=null&&m(t,["raiMediaFilteredReasons"],o),t}function b6(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["metadata"]);r!=null&&m(t,["metadata"],r);const o=p(e,["done"]);o!=null&&m(t,["done"],o);const l=p(e,["error"]);l!=null&&m(t,["error"],l);const c=p(e,["response"]);return c!=null&&m(t,["response"],A6(n,c)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I6="Content-Type",R6="X-Server-Timeout",k6="User-Agent",ey="x-goog-api-client",N6="1.3.0",M6=`google-genai-sdk/${N6}`,D6="v1beta1",P6="v1beta",tx=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Tw extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class ty extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class L6{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:D6,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:P6,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))r.searchParams.append(l,String(c));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))typeof o=="object"?i[r]=Object.assign(Object.assign({},i[r]),o):o!==void 0&&(i[r]=o);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const r=new AbortController,o=r.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>r.abort(),t.timeout),i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await nx(r),new jg(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await nx(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return ol(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";for(;;){const{done:c,value:h}=yield It(r.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(h);try{const T=JSON.parse(d);if("error"in T){const E=JSON.parse(JSON.stringify(T.error)),C=E.status,I=E.code,k=`got status: ${C}. ${JSON.stringify(T)}`;if(I>=400&&I<500)throw new Tw(k);if(I>=500&&I<600)throw new ty(k)}}catch(T){const E=T;if(E.name==="ClientError"||E.name==="ServerError")throw T}l+=d;let y=l.match(tx);for(;y;){const T=y[1];try{const E=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield It(new jg(E)),l=l.slice(y[0].length),y=l.match(tx)}catch(E){throw new Error(`exception parsing stream chunk ${T}. ${E}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=M6+" "+this.clientOptions.userAgentExtra;return e[k6]=t,e[ey]=t,e[I6]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))t.append(i,r);e.timeout&&e.timeout>0&&t.append(R6,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);r.sizeBytes=String(l.size);const c=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;const h=await this.fetchUploadUrl(r,t);return o.upload(e,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let r={};t!=null&&t.httpOptions?r=t.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},l=await this.request({path:Ue("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:r});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(i=l==null?void 0:l.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function nx(n){var e;if(n===void 0)throw new ty("response is undefined");if(!n.ok){const t=n.status,i=n.statusText;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=`got status: ${t} ${i}. ${JSON.stringify(r)}`;throw t>=400&&t<500?new Tw(o):t>=500&&t<600?new ty(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V6="mcp_used/unknown";function Ew(n){for(const e of n)if(Xy(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function xw(n){var e;const t=(e=n[ey])!==null&&e!==void 0?e:"";n[ey]=(t+` ${V6}`).trimStart()}function O6(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Xy(r)))!==null&&i!==void 0?i:!1}function U6(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>!Xy(r)))!==null&&i!==void 0?i:!1}function Xy(n){return n!==null&&typeof n=="object"&&n instanceof Zy}function F6(n,e=100){return ol(this,arguments,function*(){let i,r=0;for(;r<e;){const o=yield It(n.listTools({cursor:i}));for(const l of o.tools)yield yield It(l),r++;if(!o.nextCursor)break;i=o.nextCursor}})}class Zy{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Zy(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const o={},l=[];for(const y of this.mcpClients)try{for(var c=!0,h=(t=void 0,lc(F6(y))),d;d=await h.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const T=r;l.push(T);const E=T.name;if(o[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);o[E]=y}}catch(T){t={error:T}}finally{try{!c&&!e&&(i=h.return)&&await i.call(h)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Y4(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=await this.functionNameToMcpClient[i.name].callTool({name:i.name,arguments:i.args});t.push({functionResponse:{name:i.name,response:o.isError?{error:o}:o}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function z6(n,e,t){const i=new D4;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data);const o=J3(n,r);Object.assign(i,o),e(i)}class B6{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=G6(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),h=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const y=new Promise(G=>{d=G}),T=e.callbacks,E=function(){d({})},C=this.apiClient,I={onopen:E,onmessage:G=>{z6(C,T.onmessage,G)},onerror:(t=T==null?void 0:T.onerror)!==null&&t!==void 0?t:function(G){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(G){}},k=this.webSocketFactory.create(h,q6(l),I);k.connect(),await y;const F=bt(this.apiClient,e.model),U=pw(this.apiClient,{model:F}),q=Xg(this.apiClient,{setup:U});return k.send(JSON.stringify(q)),new H6(k,this.apiClient)}}class H6{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=h3(this.apiClient,e),i=mw(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=p3(this.apiClient,e),i=Xg(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=Xg(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(il.PLAY)}pause(){this.sendPlaybackControl(il.PAUSE)}stop(){this.sendPlaybackControl(il.STOP)}resetContext(){this.sendPlaybackControl(il.RESET_CONTEXT)}close(){this.conn.close()}}function q6(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function G6(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $6="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Y6(n,e,t){const i=new M4;let r;if(t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),n.isVertexAI()){const o=G3(n,r);Object.assign(i,o)}else{const o=q3(n,r);Object.assign(i,o)}e(i)}class K6{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new B6(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,o,l,c;const h=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let y;const T=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Ew(e.config.tools)&&xw(T);const E=X6(T);if(this.apiClient.isVertexAI())y=`${h}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E);else{const N=this.apiClient.getApiKey();let O="BidiGenerateContent",z="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),O="BidiGenerateContentConstrained",z="access_token"),y=`${h}/ws/google.ai.generativelanguage.${d}.GenerativeService.${O}?${z}=${N}`}let C=()=>{};const I=new Promise(N=>{C=N}),k=e.callbacks,F=function(){var N;(N=k==null?void 0:k.onopen)===null||N===void 0||N.call(k),C({})},U=this.apiClient,q={onopen:F,onmessage:N=>{Y6(U,k.onmessage,N)},onerror:(t=k==null?void 0:k.onerror)!==null&&t!==void 0?t:function(N){},onclose:(i=k==null?void 0:k.onclose)!==null&&i!==void 0?i:function(N){}},G=this.webSocketFactory.create(y,W6(E),q);G.connect(),await I;let re=bt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&re.startsWith("publishers/")){const N=this.apiClient.getProject(),O=this.apiClient.getLocation();re=`projects/${N}/locations/${O}/`+re}let ie={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[eh.AUDIO]}:e.config.responseModalities=[eh.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Y=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],V=[];for(const N of Y)if(this.isCallableTool(N)){const O=N;V.push(await O.tool())}else V.push(N);V.length>0&&(e.config.tools=V);const D={model:re,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ie=o3(this.apiClient,D):ie=s3(this.apiClient,D),delete ie.config,G.send(JSON.stringify(ie)),new Q6(G,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const j6={turnComplete:!0};class Q6{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Pi(e,t.turns),e.isVertexAI()?i=i.map(r=>kl(e,r)):i=i.map(r=>Oh(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error($6)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},j6),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:d3(this.apiClient,e)}:t={realtimeInput:f3(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function W6(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function X6(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ix=10;function rx(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Od(l)){r=!0;break}if(!r)return!0;const o=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Od(n){return"callTool"in n&&typeof n.callTool=="function"}function sx(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z6 extends Rl{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,o,l,c;const h=await this.processParamsForMcpUsage(t);if(!O6(t)||rx(t.config))return await this.generateContentInternal(h);if(U6(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,y;const T=Pi(this.apiClient,h.contents),E=(o=(r=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:ix;let C=0;for(;C<E&&(d=await this.generateContentInternal(h),!(!d.functionCalls||d.functionCalls.length===0));){const I=d.candidates[0].content,k=[];for(const F of(c=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Od(F)){const q=await F.callTool(d.functionCalls);k.push(...q)}C++,y={role:"user",parts:k},h.contents=Pi(this.apiClient,h.contents),h.contents.push(I),h.contents.push(y),sx(h.config)&&(T.push(I),T.push(y))}return sx(h.config)&&(d.automaticFunctionCallingHistory=T),d},this.generateContentStream=async t=>{if(rx(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let o;const l=[];if(i!=null&&i.generatedImages)for(const h of i.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((r=h==null?void 0:h.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?o=h==null?void 0:h.safetyAttributes:l.push(h);let c;return o?c={generatedImages:l,positivePromptSafetyAttributes:o}:c={generatedImages:l},c}),this.list=async t=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Vh(vl.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var t,i,r;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const l=await Promise.all(o.map(async h=>Od(h)?await h.tool():h)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&Ew(e.config.tools)){const h=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},h);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),xw(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var t,i,r;const o=new Map;for(const l of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Od(l)){const c=l,h=await c.tool();for(const d of(r=h.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,c)}}return o}async processAfcStream(e){var t,i,r;const o=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:ix;let l=!1,c=0;const h=await this.initAfcToolsMap(e);return function(d,y,T){var E,C;return ol(this,arguments,function*(){for(var I,k,F,U;c<o;){l&&(c++,l=!1);const ie=yield It(d.processParamsForMcpUsage(T)),Y=yield It(d.generateContentStreamInternal(ie)),V=[],D=[];try{for(var q=!0,G=(k=void 0,lc(Y)),re;re=yield It(G.next()),I=re.done,!I;q=!0){U=re.value,q=!1;const N=U;if(yield yield It(N),N.candidates&&(!((E=N.candidates[0])===null||E===void 0)&&E.content)){D.push(N.candidates[0].content);for(const O of(C=N.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(c<o&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(O.functionCall.name)){const z=yield It(y.get(O.functionCall.name).callTool([O.functionCall]));V.push(...z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(N){k={error:N}}finally{try{!q&&!I&&(F=G.return)&&(yield It(F.call(G)))}finally{if(k)throw k.error}}if(V.length>0){l=!0;const N=new Wu;N.candidates=[{content:{role:"user",parts:V}}],yield yield It(N);const O=[];O.push(...D),O.push({role:"user",parts:V});const z=Pi(d.apiClient,T.contents).concat(O);T.contents=z}else break}})}(this,h,e)}async generateContentInternal(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=ZE(this.apiClient,e);return c=Ue("{model}:generateContent",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>{const T=ex(this.apiClient,y),E=new Wu;return Object.assign(E,T),E})}else{const d=XE(this.apiClient,e);return c=Ue("{model}:generateContent",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const T=JE(this.apiClient,y),E=new Wu;return Object.assign(E,T),E})}}async generateContentStreamInternal(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=ZE(this.apiClient,e);c=Ue("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d.config,delete d._url,delete d._query;const y=this.apiClient;return l=y.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(T){return ol(this,arguments,function*(){var E,C,I,k;try{for(var F=!0,U=lc(T),q;q=yield It(U.next()),E=q.done,!E;F=!0){k=q.value,F=!1;const re=ex(y,yield It(k.json())),ie=new Wu;Object.assign(ie,re),yield yield It(ie)}}catch(G){C={error:G}}finally{try{!F&&!E&&(I=U.return)&&(yield It(I.call(U)))}finally{if(C)throw C.error}}})})}else{const d=XE(this.apiClient,e);c=Ue("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d.config,delete d._url,delete d._query;const y=this.apiClient;return l=y.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(T){return ol(this,arguments,function*(){var E,C,I,k;try{for(var F=!0,U=lc(T),q;q=yield It(U.next()),E=q.done,!E;F=!0){k=q.value,F=!1;const re=JE(y,yield It(k.json())),ie=new Wu;Object.assign(ie,re),yield yield It(ie)}}catch(G){C={error:G}}finally{try{!F&&!E&&(I=U.return)&&(yield It(I.call(U)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=c5(this.apiClient,e);return c=Ue("{model}:predict",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>{const T=d6(this.apiClient,y),E=new NE;return Object.assign(E,T),E})}else{const d=SD(this.apiClient,e);return c=Ue("{model}:batchEmbedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const T=G5(this.apiClient,y),E=new NE;return Object.assign(E,T),E})}}async generateImagesInternal(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=d5(this.apiClient,e);return c=Ue("{model}:predict",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>{const T=p6(this.apiClient,y),E=new ME;return Object.assign(E,T),E})}else{const d=AD(this.apiClient,e);return c=Ue("{model}:predict",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const T=K5(this.apiClient,y),E=new ME;return Object.assign(E,T),E})}}async editImageInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI()){const c=_5(this.apiClient,e);return o=Ue("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=m6(this.apiClient,h),y=new A4;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI()){const c=E5(this.apiClient,e);return o=Ue("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=g6(this.apiClient,h),y=new b4;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=x5(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Jg(this.apiClient,y))}else{const d=bD(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>Zg(this.apiClient,y))}}async listInternal(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=S5(this.apiClient,e);return c=Ue("{models_url}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>{const T=T6(this.apiClient,y),E=new DE;return Object.assign(E,T),E})}else{const d=RD(this.apiClient,e);return c=Ue("{models_url}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const T=Q5(this.apiClient,y),E=new DE;return Object.assign(E,T),E})}}async update(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=A5(this.apiClient,e);return c=Ue("{model}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Jg(this.apiClient,y))}else{const d=ND(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>Zg(this.apiClient,y))}}async delete(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=b5(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(()=>{const y=E6(),T=new PE;return Object.assign(T,y),T})}else{const d=MD(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(()=>{const y=W5(),T=new PE;return Object.assign(T,y),T})}}async countTokens(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=R5(this.apiClient,e);return c=Ue("{model}:countTokens",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>{const T=x6(this.apiClient,y),E=new LE;return Object.assign(E,T),E})}else{const d=PD(this.apiClient,e);return c=Ue("{model}:countTokens",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const T=X5(this.apiClient,y),E=new LE;return Object.assign(E,T),E})}}async computeTokens(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI()){const c=k5(this.apiClient,e);return o=Ue("{model}:computeTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=C6(this.apiClient,h),y=new I4;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=M5(this.apiClient,e);return c=Ue("{model}:predictLongRunning",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>b6(this.apiClient,y))}else{const d=OD(this.apiClient,e);return c=Ue("{model}:predictLongRunning",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>t6(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J6(n,e){const t={},i=p(e,["operationName"]);i!=null&&m(t,["_url","operationName"],i);const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function eP(n,e){const t={},i=p(e,["operationName"]);i!=null&&m(t,["_url","operationName"],i);const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function tP(n,e){const t={},i=p(e,["operationName"]);i!=null&&m(t,["operationName"],i);const r=p(e,["resourceName"]);r!=null&&m(t,["_url","resourceName"],r);const o=p(e,["config"]);return o!=null&&m(t,["config"],o),t}function nP(n,e){const t={},i=p(e,["video","uri"]);i!=null&&m(t,["uri"],i);const r=p(e,["video","encodedVideo"]);r!=null&&m(t,["videoBytes"],io(n,r));const o=p(e,["encoding"]);return o!=null&&m(t,["mimeType"],o),t}function iP(n,e){const t={},i=p(e,["_self"]);return i!=null&&m(t,["video"],nP(n,i)),t}function rP(n,e){const t={},i=p(e,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>iP(n,c))),m(t,["generatedVideos"],l)}const r=p(e,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const o=p(e,["raiMediaFilteredReasons"]);return o!=null&&m(t,["raiMediaFilteredReasons"],o),t}function sP(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["metadata"]);r!=null&&m(t,["metadata"],r);const o=p(e,["done"]);o!=null&&m(t,["done"],o);const l=p(e,["error"]);l!=null&&m(t,["error"],l);const c=p(e,["response","generateVideoResponse"]);return c!=null&&m(t,["response"],rP(n,c)),t}function oP(n,e){const t={},i=p(e,["gcsUri"]);i!=null&&m(t,["uri"],i);const r=p(e,["bytesBase64Encoded"]);r!=null&&m(t,["videoBytes"],io(n,r));const o=p(e,["mimeType"]);return o!=null&&m(t,["mimeType"],o),t}function aP(n,e){const t={},i=p(e,["_self"]);return i!=null&&m(t,["video"],oP(n,i)),t}function lP(n,e){const t={},i=p(e,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>aP(n,c))),m(t,["generatedVideos"],l)}const r=p(e,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const o=p(e,["raiMediaFilteredReasons"]);return o!=null&&m(t,["raiMediaFilteredReasons"],o),t}function ox(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["metadata"]);r!=null&&m(t,["metadata"],r);const o=p(e,["done"]);o!=null&&m(t,["done"],o);const l=p(e,["error"]);l!=null&&m(t,["error"],l);const c=p(e,["response"]);return c!=null&&m(t,["response"],lP(n,c)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uP extends Rl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=eP(this.apiClient,e);return c=Ue("{operationName}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>ox(this.apiClient,y))}else{const d=J6(this.apiClient,e);return c=Ue("{operationName}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>sP(this.apiClient,y))}}async fetchPredictVideosOperationInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI()){const c=tP(this.apiClient,e);return o=Ue("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>ox(this.apiClient,h))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cP(n,e){const t={},i=p(e,["voiceName"]);return i!=null&&m(t,["voiceName"],i),t}function Cw(n,e){const t={},i=p(e,["prebuiltVoiceConfig"]);return i!=null&&m(t,["prebuiltVoiceConfig"],cP(n,i)),t}function fP(n,e){const t={},i=p(e,["speaker"]);i!=null&&m(t,["speaker"],i);const r=p(e,["voiceConfig"]);return r!=null&&m(t,["voiceConfig"],Cw(n,r)),t}function dP(n,e){const t={},i=p(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>fP(n,o))),m(t,["speakerVoiceConfigs"],r)}return t}function hP(n,e){const t={},i=p(e,["voiceConfig"]);i!=null&&m(t,["voiceConfig"],Cw(n,i));const r=p(e,["multiSpeakerVoiceConfig"]);r!=null&&m(t,["multiSpeakerVoiceConfig"],dP(n,r));const o=p(e,["languageCode"]);return o!=null&&m(t,["languageCode"],o),t}function pP(n,e){const t={},i=p(e,["fps"]);i!=null&&m(t,["fps"],i);const r=p(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const o=p(e,["startOffset"]);return o!=null&&m(t,["startOffset"],o),t}function mP(n,e){const t={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["data"]);i!=null&&m(t,["data"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function gP(n,e){const t={};if(p(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(e,["fileUri"]);i!=null&&m(t,["fileUri"],i);const r=p(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function yP(n,e){const t={},i=p(e,["videoMetadata"]);i!=null&&m(t,["videoMetadata"],pP(n,i));const r=p(e,["thought"]);r!=null&&m(t,["thought"],r);const o=p(e,["inlineData"]);o!=null&&m(t,["inlineData"],mP(n,o));const l=p(e,["fileData"]);l!=null&&m(t,["fileData"],gP(n,l));const c=p(e,["thoughtSignature"]);c!=null&&m(t,["thoughtSignature"],c);const h=p(e,["codeExecutionResult"]);h!=null&&m(t,["codeExecutionResult"],h);const d=p(e,["executableCode"]);d!=null&&m(t,["executableCode"],d);const y=p(e,["functionCall"]);y!=null&&m(t,["functionCall"],y);const T=p(e,["functionResponse"]);T!=null&&m(t,["functionResponse"],T);const E=p(e,["text"]);return E!=null&&m(t,["text"],E),t}function vP(n,e){const t={},i=p(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>yP(n,l))),m(t,["parts"],o)}const r=p(e,["role"]);return r!=null&&m(t,["role"],r),t}function _P(n,e){const t={},i=p(e,["behavior"]);i!=null&&m(t,["behavior"],i);const r=p(e,["description"]);r!=null&&m(t,["description"],r);const o=p(e,["name"]);o!=null&&m(t,["name"],o);const l=p(e,["parameters"]);l!=null&&m(t,["parameters"],l);const c=p(e,["response"]);return c!=null&&m(t,["response"],c),t}function TP(n,e){const t={},i=p(e,["startTime"]);i!=null&&m(t,["startTime"],i);const r=p(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function EP(n,e){const t={},i=p(e,["timeRangeFilter"]);return i!=null&&m(t,["timeRangeFilter"],TP(n,i)),t}function xP(n,e){const t={},i=p(e,["mode"]);i!=null&&m(t,["mode"],i);const r=p(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function CP(n,e){const t={},i=p(e,["dynamicRetrievalConfig"]);return i!=null&&m(t,["dynamicRetrievalConfig"],xP(n,i)),t}function SP(){return{}}function wP(n,e){const t={},i=p(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>_P(n,d))),m(t,["functionDeclarations"],h)}if(p(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],EP(n,r));const o=p(e,["googleSearchRetrieval"]);if(o!=null&&m(t,["googleSearchRetrieval"],CP(n,o)),p(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(e,["urlContext"])!=null&&m(t,["urlContext"],SP());const c=p(e,["codeExecution"]);return c!=null&&m(t,["codeExecution"],c),t}function AP(n,e){const t={},i=p(e,["handle"]);if(i!=null&&m(t,["handle"],i),p(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ax(){return{}}function bP(n,e){const t={},i=p(e,["disabled"]);i!=null&&m(t,["disabled"],i);const r=p(e,["startOfSpeechSensitivity"]);r!=null&&m(t,["startOfSpeechSensitivity"],r);const o=p(e,["endOfSpeechSensitivity"]);o!=null&&m(t,["endOfSpeechSensitivity"],o);const l=p(e,["prefixPaddingMs"]);l!=null&&m(t,["prefixPaddingMs"],l);const c=p(e,["silenceDurationMs"]);return c!=null&&m(t,["silenceDurationMs"],c),t}function IP(n,e){const t={},i=p(e,["automaticActivityDetection"]);i!=null&&m(t,["automaticActivityDetection"],bP(n,i));const r=p(e,["activityHandling"]);r!=null&&m(t,["activityHandling"],r);const o=p(e,["turnCoverage"]);return o!=null&&m(t,["turnCoverage"],o),t}function RP(n,e){const t={},i=p(e,["targetTokens"]);return i!=null&&m(t,["targetTokens"],i),t}function kP(n,e){const t={},i=p(e,["triggerTokens"]);i!=null&&m(t,["triggerTokens"],i);const r=p(e,["slidingWindow"]);return r!=null&&m(t,["slidingWindow"],RP(n,r)),t}function NP(n,e){const t={},i=p(e,["proactiveAudio"]);return i!=null&&m(t,["proactiveAudio"],i),t}function MP(n,e,t){const i={},r=p(e,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],r);const o=p(e,["responseModalities"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","responseModalities"],o);const l=p(e,["temperature"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","temperature"],l);const c=p(e,["topP"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topP"],c);const h=p(e,["topK"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","topK"],h);const d=p(e,["maxOutputTokens"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","maxOutputTokens"],d);const y=p(e,["mediaResolution"]);t!==void 0&&y!=null&&m(t,["setup","generationConfig","mediaResolution"],y);const T=p(e,["seed"]);t!==void 0&&T!=null&&m(t,["setup","generationConfig","seed"],T);const E=p(e,["speechConfig"]);t!==void 0&&E!=null&&m(t,["setup","generationConfig","speechConfig"],hP(n,jy(n,E)));const C=p(e,["enableAffectiveDialog"]);t!==void 0&&C!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],C);const I=p(e,["systemInstruction"]);t!==void 0&&I!=null&&m(t,["setup","systemInstruction"],vP(n,Bn(n,I)));const k=p(e,["tools"]);if(t!==void 0&&k!=null){let Y=Lc(n,k);Array.isArray(Y)&&(Y=Y.map(V=>wP(n,Pc(n,V)))),m(t,["setup","tools"],Y)}const F=p(e,["sessionResumption"]);t!==void 0&&F!=null&&m(t,["setup","sessionResumption"],AP(n,F));const U=p(e,["inputAudioTranscription"]);t!==void 0&&U!=null&&m(t,["setup","inputAudioTranscription"],ax());const q=p(e,["outputAudioTranscription"]);t!==void 0&&q!=null&&m(t,["setup","outputAudioTranscription"],ax());const G=p(e,["realtimeInputConfig"]);t!==void 0&&G!=null&&m(t,["setup","realtimeInputConfig"],IP(n,G));const re=p(e,["contextWindowCompression"]);t!==void 0&&re!=null&&m(t,["setup","contextWindowCompression"],kP(n,re));const ie=p(e,["proactivity"]);return t!==void 0&&ie!=null&&m(t,["setup","proactivity"],NP(n,ie)),i}function DP(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["setup","model"],bt(n,i));const r=p(e,["config"]);return r!=null&&m(t,["config"],MP(n,r,t)),t}function PP(n,e,t){const i={},r=p(e,["expireTime"]);t!==void 0&&r!=null&&m(t,["expireTime"],r);const o=p(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&m(t,["newSessionExpireTime"],o);const l=p(e,["uses"]);t!==void 0&&l!=null&&m(t,["uses"],l);const c=p(e,["liveConnectConstraints"]);t!==void 0&&c!=null&&m(t,["bidiGenerateContentSetup"],DP(n,c));const h=p(e,["lockAdditionalFields"]);return t!==void 0&&h!=null&&m(t,["fieldMask"],h),i}function LP(n,e){const t={},i=p(e,["config"]);return i!=null&&m(t,["config"],PP(n,i,t)),t}function VP(n,e){const t={},i=p(e,["name"]);return i!=null&&m(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OP(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(o=>`${t}.${o}`);e.push(...r)}else e.push(t)}return e.join(",")}function UP(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const o=OP(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];r.length>0&&(c=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const h=[];o&&h.push(o),c.length>0&&h.push(...c),h.length>0?n.fieldMask=h.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class FP extends Rl{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=LP(this.apiClient,e);o=Ue("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const h=UP(c,e.config);return r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>VP(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zP(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["_url","name"],i);const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function BP(n,e,t){const i={},r=p(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const o=p(e,["pageToken"]);t!==void 0&&o!=null&&m(t,["_query","pageToken"],o);const l=p(e,["filter"]);return t!==void 0&&l!=null&&m(t,["_query","filter"],l),i}function HP(n,e){const t={},i=p(e,["config"]);return i!=null&&m(t,["config"],BP(n,i,t)),t}function qP(n,e){const t={},i=p(e,["textInput"]);i!=null&&m(t,["textInput"],i);const r=p(e,["output"]);return r!=null&&m(t,["output"],r),t}function GP(n,e){const t={};if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=p(e,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>qP(n,o))),m(t,["examples","examples"],r)}return t}function $P(n,e,t){const i={};if(p(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&m(t,["displayName"],r),p(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(e,["epochCount"]);t!==void 0&&o!=null&&m(t,["tuningTask","hyperparameters","epochCount"],o);const l=p(e,["learningRateMultiplier"]);if(l!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),p(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=p(e,["batchSize"]);t!==void 0&&c!=null&&m(t,["tuningTask","hyperparameters","batchSize"],c);const h=p(e,["learningRate"]);return t!==void 0&&h!=null&&m(t,["tuningTask","hyperparameters","learningRate"],h),i}function YP(n,e){const t={},i=p(e,["baseModel"]);i!=null&&m(t,["baseModel"],i);const r=p(e,["trainingDataset"]);r!=null&&m(t,["tuningTask","trainingData"],GP(n,r));const o=p(e,["config"]);return o!=null&&m(t,["config"],$P(n,o,t)),t}function KP(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["_url","name"],i);const r=p(e,["config"]);return r!=null&&m(t,["config"],r),t}function jP(n,e,t){const i={},r=p(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const o=p(e,["pageToken"]);t!==void 0&&o!=null&&m(t,["_query","pageToken"],o);const l=p(e,["filter"]);return t!==void 0&&l!=null&&m(t,["_query","filter"],l),i}function QP(n,e){const t={},i=p(e,["config"]);return i!=null&&m(t,["config"],jP(n,i,t)),t}function WP(n,e,t){const i={},r=p(e,["gcsUri"]);if(t!==void 0&&r!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],r),p(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function XP(n,e){const t={},i=p(e,["gcsUri"]);return i!=null&&m(t,["validationDatasetUri"],i),t}function ZP(n,e,t){const i={},r=p(e,["validationDataset"]);t!==void 0&&r!=null&&m(t,["supervisedTuningSpec"],XP(n,r));const o=p(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&m(t,["tunedModelDisplayName"],o);const l=p(e,["description"]);t!==void 0&&l!=null&&m(t,["description"],l);const c=p(e,["epochCount"]);t!==void 0&&c!=null&&m(t,["supervisedTuningSpec","hyperParameters","epochCount"],c);const h=p(e,["learningRateMultiplier"]);t!==void 0&&h!=null&&m(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const d=p(e,["exportLastCheckpointOnly"]);t!==void 0&&d!=null&&m(t,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const y=p(e,["adapterSize"]);if(t!==void 0&&y!=null&&m(t,["supervisedTuningSpec","hyperParameters","adapterSize"],y),p(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function JP(n,e){const t={},i=p(e,["baseModel"]);i!=null&&m(t,["baseModel"],i);const r=p(e,["trainingDataset"]);r!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],WP(n,r,t));const o=p(e,["config"]);return o!=null&&m(t,["config"],ZP(n,o,t)),t}function e9(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["model"],i);const r=p(e,["name"]);return r!=null&&m(t,["endpoint"],r),t}function Sw(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["state"]);r!=null&&m(t,["state"],ow(n,r));const o=p(e,["createTime"]);o!=null&&m(t,["createTime"],o);const l=p(e,["tuningTask","startTime"]);l!=null&&m(t,["startTime"],l);const c=p(e,["tuningTask","completeTime"]);c!=null&&m(t,["endTime"],c);const h=p(e,["updateTime"]);h!=null&&m(t,["updateTime"],h);const d=p(e,["description"]);d!=null&&m(t,["description"],d);const y=p(e,["baseModel"]);y!=null&&m(t,["baseModel"],y);const T=p(e,["_self"]);T!=null&&m(t,["tunedModel"],e9(n,T));const E=p(e,["distillationSpec"]);E!=null&&m(t,["distillationSpec"],E);const C=p(e,["experiment"]);C!=null&&m(t,["experiment"],C);const I=p(e,["labels"]);I!=null&&m(t,["labels"],I);const k=p(e,["pipelineJob"]);k!=null&&m(t,["pipelineJob"],k);const F=p(e,["serviceAccount"]);F!=null&&m(t,["serviceAccount"],F);const U=p(e,["tunedModelDisplayName"]);return U!=null&&m(t,["tunedModelDisplayName"],U),t}function t9(n,e){const t={},i=p(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=p(e,["tunedModels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Sw(n,l))),m(t,["tuningJobs"],o)}return t}function n9(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["metadata"]);r!=null&&m(t,["metadata"],r);const o=p(e,["done"]);o!=null&&m(t,["done"],o);const l=p(e,["error"]);return l!=null&&m(t,["error"],l),t}function i9(n,e){const t={},i=p(e,["checkpointId"]);i!=null&&m(t,["checkpointId"],i);const r=p(e,["epoch"]);r!=null&&m(t,["epoch"],r);const o=p(e,["step"]);o!=null&&m(t,["step"],o);const l=p(e,["endpoint"]);return l!=null&&m(t,["endpoint"],l),t}function r9(n,e){const t={},i=p(e,["model"]);i!=null&&m(t,["model"],i);const r=p(e,["endpoint"]);r!=null&&m(t,["endpoint"],r);const o=p(e,["checkpoints"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>i9(n,c))),m(t,["checkpoints"],l)}return t}function ny(n,e){const t={},i=p(e,["name"]);i!=null&&m(t,["name"],i);const r=p(e,["state"]);r!=null&&m(t,["state"],ow(n,r));const o=p(e,["createTime"]);o!=null&&m(t,["createTime"],o);const l=p(e,["startTime"]);l!=null&&m(t,["startTime"],l);const c=p(e,["endTime"]);c!=null&&m(t,["endTime"],c);const h=p(e,["updateTime"]);h!=null&&m(t,["updateTime"],h);const d=p(e,["error"]);d!=null&&m(t,["error"],d);const y=p(e,["description"]);y!=null&&m(t,["description"],y);const T=p(e,["baseModel"]);T!=null&&m(t,["baseModel"],T);const E=p(e,["tunedModel"]);E!=null&&m(t,["tunedModel"],r9(n,E));const C=p(e,["supervisedTuningSpec"]);C!=null&&m(t,["supervisedTuningSpec"],C);const I=p(e,["tuningDataStats"]);I!=null&&m(t,["tuningDataStats"],I);const k=p(e,["encryptionSpec"]);k!=null&&m(t,["encryptionSpec"],k);const F=p(e,["partnerModelTuningSpec"]);F!=null&&m(t,["partnerModelTuningSpec"],F);const U=p(e,["distillationSpec"]);U!=null&&m(t,["distillationSpec"],U);const q=p(e,["experiment"]);q!=null&&m(t,["experiment"],q);const G=p(e,["labels"]);G!=null&&m(t,["labels"],G);const re=p(e,["pipelineJob"]);re!=null&&m(t,["pipelineJob"],re);const ie=p(e,["serviceAccount"]);ie!=null&&m(t,["serviceAccount"],ie);const Y=p(e,["tunedModelDisplayName"]);return Y!=null&&m(t,["tunedModelDisplayName"],Y),t}function s9(n,e){const t={},i=p(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=p(e,["tuningJobs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>ny(n,l))),m(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o9 extends Rl{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Vh(vl.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let r="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?r=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(r=i.name.split("/operations/")[0]),{name:r,state:Kg.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=KP(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>ny(this.apiClient,y))}else{const d=zP(this.apiClient,e);return c=Ue("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>Sw(this.apiClient,y))}}async listInternal(e){var t,i,r,o;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=QP(this.apiClient,e);return c=Ue("tuningJobs",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>{const T=s9(this.apiClient,y),E=new VE;return Object.assign(E,T),E})}else{const d=HP(this.apiClient,e);return c=Ue("tunedModels",d._url),h=d._query,delete d.config,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const T=t9(this.apiClient,y),E=new VE;return Object.assign(E,T),E})}}async tuneInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI()){const c=JP(this.apiClient,e);return o=Ue("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>ny(this.apiClient,h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=YP(this.apiClient,e);return o=Ue("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>n9(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a9{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const l9=1024*1024*8,u9=3,c9=1e3,f9=2,dg="x-goog-upload-status";async function d9(n,e,t){var i,r,o;let l=0,c=0,h=new jg(new Response),d="upload";for(l=n.size;c<l;){const T=Math.min(l9,l-c),E=n.slice(c,c+T);c+T>=l&&(d+=", finalize");let C=0,I=c9;for(;C<u9&&(h=await t.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(c),"Content-Length":String(T)}}}),!(!((i=h==null?void 0:h.headers)===null||i===void 0)&&i[dg]));)C++,await p9(I),I=I*f9;if(c+=T,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[dg])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(h==null?void 0:h.json());if(((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o[dg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function h9(n){return{size:n.size,type:n.type}}function p9(n){return new Promise(e=>setTimeout(e,n))}class m9{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await d9(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await h9(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g9{create(e,t,i){return new y9(e,t,i)}}class y9{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lx="x-goog-api-key";class v9{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(lx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(lx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _9="gl-node/";class T9{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=w4(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new v9(this.apiKey);this.apiClient=new L6({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:_9+"web",uploader:new m9,downloader:new a9}),this.models=new Z6(this.apiClient),this.live=new K6(this.apiClient,r,new g9),this.chats=new XN(this.models,this.apiClient),this.caches=new jN(this.apiClient),this.files=new cM(this.apiClient),this.operations=new uP(this.apiClient),this.authTokens=new FP(this.apiClient),this.tunings=new o9(this.apiClient)}}const E9=new T9({apiKey:"AIzaSyDCu1qL7cxqDOlciH478XNPS9HQLAXCkkg"});async function iy(n){return(await E9.models.generateContent({model:"gemini-2.0-flash",contents:n})).text}const x9=()=>{};var ux={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},C9=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],l=n[t++],c=n[t++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Aw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,c=l?n[r+1]:0,h=r+2<n.length,d=h?n[r+2]:0,y=o>>2,T=(o&3)<<4|c>>4;let E=(c&15)<<2|d>>6,C=d&63;h||(C=64,l||(E=64)),i.push(t[y],t[T],t[E],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ww(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):C9(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const T=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||c==null||d==null||T==null)throw new S9;const E=o<<2|c>>4;if(i.push(E),d!==64){const C=c<<4&240|d>>2;if(i.push(C),T!==64){const I=d<<6&192|T;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class S9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w9=function(n){const e=ww(n);return Aw.encodeByteArray(e,!0)},ih=function(n){return w9(n).replace(/\./g,"")},bw=function(n){try{return Aw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=()=>A9().__FIREBASE_DEFAULTS__,I9=()=>{if(typeof process>"u"||typeof ux>"u")return;const n=ux.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},R9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bw(n[1]);return e&&JSON.parse(e)},Uh=()=>{try{return x9()||b9()||I9()||R9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Iw=n=>{var e,t;return(t=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},k9=n=>{const e=Iw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Rw=()=>{var n;return(n=Uh())===null||n===void 0?void 0:n.config},kw=n=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n){return n.endsWith(".cloudworkstations.dev")}async function Nw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ih(JSON.stringify(t)),ih(JSON.stringify(l)),""].join(".")}const uc={};function D9(){const n={prod:[],emulator:[]};for(const e of Object.keys(uc))uc[e]?n.emulator.push(e):n.prod.push(e);return n}function P9(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let cx=!1;function Mw(n,e){if(typeof window>"u"||typeof document>"u"||!Vc(window.location.host)||uc[n]===e||uc[n]||cx)return;uc[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=D9().prod.length>0;function l(){const E=document.getElementById(i);E&&E.remove()}function c(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function d(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{cx=!0,l()},E}function y(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function T(){const E=P9(i),C=t("text"),I=document.getElementById(C)||document.createElement("span"),k=t("learnmore"),F=document.getElementById(k)||document.createElement("a"),U=t("preprendIcon"),q=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;c(G),y(F,k);const re=d();h(q,U),G.append(q,I,F,re),document.body.appendChild(G)}o?(I.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function V9(){var n;const e=(n=Uh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U9(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function F9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z9(){const n=In();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function B9(){return!V9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H9(){try{return typeof indexedDB=="object"}catch{return!1}}function q9(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="FirebaseError";class ns extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=G9,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oc.prototype.create)}}class Oc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?$9(o,i):"Error",c=`${this.serviceName}: ${l} (${r}).`;return new ns(r,c,i)}}function $9(n,e){return n.replace(Y9,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Y9=/\{\$([^}]+)}/g;function K9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jo(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],l=e[r];if(fx(o)&&fx(l)){if(!jo(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function fx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ic(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function rc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function j9(n,e){const t=new Q9(n,e);return t.subscribe.bind(t)}class Q9{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");W9(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=hg),r.error===void 0&&(r.error=hg),r.complete===void 0&&(r.complete=hg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W9(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n){return n&&n._delegate?n._delegate:n}class Qo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new N9;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J9(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Z9(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z9(n){return n===Ho?void 0:n}function J9(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new X9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tt||(tt={}));const tL={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},nL=tt.INFO,iL={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},rL=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=iL[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=nL,this._logHandler=rL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const sL=(n,e)=>e.some(t=>n instanceof t);let dx,hx;function oL(){return dx||(dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aL(){return hx||(hx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dw=new WeakMap,ry=new WeakMap,Pw=new WeakMap,pg=new WeakMap,ev=new WeakMap;function lL(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(qs(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Dw.set(t,n)}).catch(()=>{}),ev.set(e,n),e}function uL(n){if(ry.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});ry.set(n,e)}let sy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ry.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Pw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cL(n){sy=n(sy)}function fL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(mg(this),e,...t);return Pw.set(i,e.sort?e.sort():[e]),qs(i)}:aL().includes(n)?function(...e){return n.apply(mg(this),e),qs(Dw.get(this))}:function(...e){return qs(n.apply(mg(this),e))}}function dL(n){return typeof n=="function"?fL(n):(n instanceof IDBTransaction&&uL(n),sL(n,oL())?new Proxy(n,sy):n)}function qs(n){if(n instanceof IDBRequest)return lL(n);if(pg.has(n))return pg.get(n);const e=dL(n);return e!==n&&(pg.set(n,e),ev.set(e,n)),e}const mg=n=>ev.get(n);function hL(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,e),c=qs(l);return i&&l.addEventListener("upgradeneeded",h=>{i(qs(l.result),h.oldVersion,h.newVersion,qs(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const pL=["get","getKey","getAll","getAllKeys","count"],mL=["put","add","delete","clear"],gg=new Map;function px(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=mL.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||pL.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,r?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),r&&h.done]))[0]};return gg.set(e,o),o}cL(n=>({...n,get:(e,t,i)=>px(e,t)||n.get(e,t,i),has:(e,t)=>!!px(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yL(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function yL(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oy="@firebase/app",mx="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Jy("@firebase/app"),vL="@firebase/app-compat",_L="@firebase/analytics-compat",TL="@firebase/analytics",EL="@firebase/app-check-compat",xL="@firebase/app-check",CL="@firebase/auth",SL="@firebase/auth-compat",wL="@firebase/database",AL="@firebase/data-connect",bL="@firebase/database-compat",IL="@firebase/functions",RL="@firebase/functions-compat",kL="@firebase/installations",NL="@firebase/installations-compat",ML="@firebase/messaging",DL="@firebase/messaging-compat",PL="@firebase/performance",LL="@firebase/performance-compat",VL="@firebase/remote-config",OL="@firebase/remote-config-compat",UL="@firebase/storage",FL="@firebase/storage-compat",zL="@firebase/firestore",BL="@firebase/ai",HL="@firebase/firestore-compat",qL="firebase",GL="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="[DEFAULT]",$L={[oy]:"fire-core",[vL]:"fire-core-compat",[TL]:"fire-analytics",[_L]:"fire-analytics-compat",[xL]:"fire-app-check",[EL]:"fire-app-check-compat",[CL]:"fire-auth",[SL]:"fire-auth-compat",[wL]:"fire-rtdb",[AL]:"fire-data-connect",[bL]:"fire-rtdb-compat",[IL]:"fire-fn",[RL]:"fire-fn-compat",[kL]:"fire-iid",[NL]:"fire-iid-compat",[ML]:"fire-fcm",[DL]:"fire-fcm-compat",[PL]:"fire-perf",[LL]:"fire-perf-compat",[VL]:"fire-rc",[OL]:"fire-rc-compat",[UL]:"fire-gcs",[FL]:"fire-gcs-compat",[zL]:"fire-fst",[HL]:"fire-fst-compat",[BL]:"fire-vertex","fire-js":"fire-js",[qL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,YL=new Map,ly=new Map;function gx(n,e){try{n.container.addComponent(e)}catch(t){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _l(n){const e=n.name;if(ly.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;ly.set(e,n);for(const t of rh.values())gx(t,n);for(const t of YL.values())gx(t,n);return!0}function tv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ai(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new Oc("app","Firebase",KL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=GL;function Lw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ay,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Gs.create("bad-app-name",{appName:String(r)});if(t||(t=Rw()),!t)throw Gs.create("no-options");const o=rh.get(r);if(o){if(jo(t,o.options)&&jo(i,o.config))return o;throw Gs.create("duplicate-app",{appName:r})}const l=new eL(r);for(const h of ly.values())l.addComponent(h);const c=new jL(t,i,l);return rh.set(r,c),c}function Vw(n=ay){const e=rh.get(n);if(!e&&n===ay&&Rw())return Lw();if(!e)throw Gs.create("no-app",{appName:n});return e}function $s(n,e,t){var i;let r=(i=$L[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(c.join(" "));return}_l(new Qo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="firebase-heartbeat-database",WL=1,Ec="firebase-heartbeat-store";let yg=null;function Ow(){return yg||(yg=hL(QL,WL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ec)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gs.create("idb-open",{originalErrorMessage:n.message})})),yg}async function XL(n){try{const t=(await Ow()).transaction(Ec),i=await t.objectStore(Ec).get(Uw(n));return await t.done,i}catch(e){if(e instanceof ns)Wr.warn(e.message);else{const t=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(t.message)}}}async function yx(n,e){try{const i=(await Ow()).transaction(Ec,"readwrite");await i.objectStore(Ec).put(e,Uw(n)),await i.done}catch(t){if(t instanceof ns)Wr.warn(t.message);else{const i=Gs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wr.warn(i.message)}}}function Uw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=1024,JL=30;class eV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nV(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>JL){const l=iV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Wr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vx(),{heartbeatsToSend:i,unsentEntries:r}=tV(this._heartbeatsCache.heartbeats),o=ih(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wr.warn(t),""}}}function vx(){return new Date().toISOString().substring(0,10)}function tV(n,e=ZL){const t=[];let i=n.slice();for(const r of n){const o=t.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),_x(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),_x(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class nV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H9()?q9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await XL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return yx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return yx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _x(n){return ih(JSON.stringify({version:2,heartbeats:n})).length}function iV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(n){_l(new Qo("platform-logger",e=>new gL(e),"PRIVATE")),_l(new Qo("heartbeat",e=>new eV(e),"PRIVATE")),$s(oy,mx,n),$s(oy,mx,"esm2017"),$s("fire-js","")}rV("");var Tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,Fw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,D){function N(){}N.prototype=D.prototype,V.D=D.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(O,z,B){for(var L=Array(arguments.length-2),he=2;he<arguments.length;he++)L[he-2]=arguments[he];return D.prototype[z].apply(O,L)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(V,D,N){N||(N=0);var O=Array(16);if(typeof D=="string")for(var z=0;16>z;++z)O[z]=D.charCodeAt(N++)|D.charCodeAt(N++)<<8|D.charCodeAt(N++)<<16|D.charCodeAt(N++)<<24;else for(z=0;16>z;++z)O[z]=D[N++]|D[N++]<<8|D[N++]<<16|D[N++]<<24;D=V.g[0],N=V.g[1],z=V.g[2];var B=V.g[3],L=D+(B^N&(z^B))+O[0]+3614090360&4294967295;D=N+(L<<7&4294967295|L>>>25),L=B+(z^D&(N^z))+O[1]+3905402710&4294967295,B=D+(L<<12&4294967295|L>>>20),L=z+(N^B&(D^N))+O[2]+606105819&4294967295,z=B+(L<<17&4294967295|L>>>15),L=N+(D^z&(B^D))+O[3]+3250441966&4294967295,N=z+(L<<22&4294967295|L>>>10),L=D+(B^N&(z^B))+O[4]+4118548399&4294967295,D=N+(L<<7&4294967295|L>>>25),L=B+(z^D&(N^z))+O[5]+1200080426&4294967295,B=D+(L<<12&4294967295|L>>>20),L=z+(N^B&(D^N))+O[6]+2821735955&4294967295,z=B+(L<<17&4294967295|L>>>15),L=N+(D^z&(B^D))+O[7]+4249261313&4294967295,N=z+(L<<22&4294967295|L>>>10),L=D+(B^N&(z^B))+O[8]+1770035416&4294967295,D=N+(L<<7&4294967295|L>>>25),L=B+(z^D&(N^z))+O[9]+2336552879&4294967295,B=D+(L<<12&4294967295|L>>>20),L=z+(N^B&(D^N))+O[10]+4294925233&4294967295,z=B+(L<<17&4294967295|L>>>15),L=N+(D^z&(B^D))+O[11]+2304563134&4294967295,N=z+(L<<22&4294967295|L>>>10),L=D+(B^N&(z^B))+O[12]+1804603682&4294967295,D=N+(L<<7&4294967295|L>>>25),L=B+(z^D&(N^z))+O[13]+4254626195&4294967295,B=D+(L<<12&4294967295|L>>>20),L=z+(N^B&(D^N))+O[14]+2792965006&4294967295,z=B+(L<<17&4294967295|L>>>15),L=N+(D^z&(B^D))+O[15]+1236535329&4294967295,N=z+(L<<22&4294967295|L>>>10),L=D+(z^B&(N^z))+O[1]+4129170786&4294967295,D=N+(L<<5&4294967295|L>>>27),L=B+(N^z&(D^N))+O[6]+3225465664&4294967295,B=D+(L<<9&4294967295|L>>>23),L=z+(D^N&(B^D))+O[11]+643717713&4294967295,z=B+(L<<14&4294967295|L>>>18),L=N+(B^D&(z^B))+O[0]+3921069994&4294967295,N=z+(L<<20&4294967295|L>>>12),L=D+(z^B&(N^z))+O[5]+3593408605&4294967295,D=N+(L<<5&4294967295|L>>>27),L=B+(N^z&(D^N))+O[10]+38016083&4294967295,B=D+(L<<9&4294967295|L>>>23),L=z+(D^N&(B^D))+O[15]+3634488961&4294967295,z=B+(L<<14&4294967295|L>>>18),L=N+(B^D&(z^B))+O[4]+3889429448&4294967295,N=z+(L<<20&4294967295|L>>>12),L=D+(z^B&(N^z))+O[9]+568446438&4294967295,D=N+(L<<5&4294967295|L>>>27),L=B+(N^z&(D^N))+O[14]+3275163606&4294967295,B=D+(L<<9&4294967295|L>>>23),L=z+(D^N&(B^D))+O[3]+4107603335&4294967295,z=B+(L<<14&4294967295|L>>>18),L=N+(B^D&(z^B))+O[8]+1163531501&4294967295,N=z+(L<<20&4294967295|L>>>12),L=D+(z^B&(N^z))+O[13]+2850285829&4294967295,D=N+(L<<5&4294967295|L>>>27),L=B+(N^z&(D^N))+O[2]+4243563512&4294967295,B=D+(L<<9&4294967295|L>>>23),L=z+(D^N&(B^D))+O[7]+1735328473&4294967295,z=B+(L<<14&4294967295|L>>>18),L=N+(B^D&(z^B))+O[12]+2368359562&4294967295,N=z+(L<<20&4294967295|L>>>12),L=D+(N^z^B)+O[5]+4294588738&4294967295,D=N+(L<<4&4294967295|L>>>28),L=B+(D^N^z)+O[8]+2272392833&4294967295,B=D+(L<<11&4294967295|L>>>21),L=z+(B^D^N)+O[11]+1839030562&4294967295,z=B+(L<<16&4294967295|L>>>16),L=N+(z^B^D)+O[14]+4259657740&4294967295,N=z+(L<<23&4294967295|L>>>9),L=D+(N^z^B)+O[1]+2763975236&4294967295,D=N+(L<<4&4294967295|L>>>28),L=B+(D^N^z)+O[4]+1272893353&4294967295,B=D+(L<<11&4294967295|L>>>21),L=z+(B^D^N)+O[7]+4139469664&4294967295,z=B+(L<<16&4294967295|L>>>16),L=N+(z^B^D)+O[10]+3200236656&4294967295,N=z+(L<<23&4294967295|L>>>9),L=D+(N^z^B)+O[13]+681279174&4294967295,D=N+(L<<4&4294967295|L>>>28),L=B+(D^N^z)+O[0]+3936430074&4294967295,B=D+(L<<11&4294967295|L>>>21),L=z+(B^D^N)+O[3]+3572445317&4294967295,z=B+(L<<16&4294967295|L>>>16),L=N+(z^B^D)+O[6]+76029189&4294967295,N=z+(L<<23&4294967295|L>>>9),L=D+(N^z^B)+O[9]+3654602809&4294967295,D=N+(L<<4&4294967295|L>>>28),L=B+(D^N^z)+O[12]+3873151461&4294967295,B=D+(L<<11&4294967295|L>>>21),L=z+(B^D^N)+O[15]+530742520&4294967295,z=B+(L<<16&4294967295|L>>>16),L=N+(z^B^D)+O[2]+3299628645&4294967295,N=z+(L<<23&4294967295|L>>>9),L=D+(z^(N|~B))+O[0]+4096336452&4294967295,D=N+(L<<6&4294967295|L>>>26),L=B+(N^(D|~z))+O[7]+1126891415&4294967295,B=D+(L<<10&4294967295|L>>>22),L=z+(D^(B|~N))+O[14]+2878612391&4294967295,z=B+(L<<15&4294967295|L>>>17),L=N+(B^(z|~D))+O[5]+4237533241&4294967295,N=z+(L<<21&4294967295|L>>>11),L=D+(z^(N|~B))+O[12]+1700485571&4294967295,D=N+(L<<6&4294967295|L>>>26),L=B+(N^(D|~z))+O[3]+2399980690&4294967295,B=D+(L<<10&4294967295|L>>>22),L=z+(D^(B|~N))+O[10]+4293915773&4294967295,z=B+(L<<15&4294967295|L>>>17),L=N+(B^(z|~D))+O[1]+2240044497&4294967295,N=z+(L<<21&4294967295|L>>>11),L=D+(z^(N|~B))+O[8]+1873313359&4294967295,D=N+(L<<6&4294967295|L>>>26),L=B+(N^(D|~z))+O[15]+4264355552&4294967295,B=D+(L<<10&4294967295|L>>>22),L=z+(D^(B|~N))+O[6]+2734768916&4294967295,z=B+(L<<15&4294967295|L>>>17),L=N+(B^(z|~D))+O[13]+1309151649&4294967295,N=z+(L<<21&4294967295|L>>>11),L=D+(z^(N|~B))+O[4]+4149444226&4294967295,D=N+(L<<6&4294967295|L>>>26),L=B+(N^(D|~z))+O[11]+3174756917&4294967295,B=D+(L<<10&4294967295|L>>>22),L=z+(D^(B|~N))+O[2]+718787259&4294967295,z=B+(L<<15&4294967295|L>>>17),L=N+(B^(z|~D))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+D&4294967295,V.g[1]=V.g[1]+(z+(L<<21&4294967295|L>>>11))&4294967295,V.g[2]=V.g[2]+z&4294967295,V.g[3]=V.g[3]+B&4294967295}i.prototype.u=function(V,D){D===void 0&&(D=V.length);for(var N=D-this.blockSize,O=this.B,z=this.h,B=0;B<D;){if(z==0)for(;B<=N;)r(this,V,B),B+=this.blockSize;if(typeof V=="string"){for(;B<D;)if(O[z++]=V.charCodeAt(B++),z==this.blockSize){r(this,O),z=0;break}}else for(;B<D;)if(O[z++]=V[B++],z==this.blockSize){r(this,O),z=0;break}}this.h=z,this.o+=D},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var D=1;D<V.length-8;++D)V[D]=0;var N=8*this.o;for(D=V.length-8;D<V.length;++D)V[D]=N&255,N/=256;for(this.u(V),V=Array(16),D=N=0;4>D;++D)for(var O=0;32>O;O+=8)V[N++]=this.g[D]>>>O&255;return V};function o(V,D){var N=c;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=D(V)}function l(V,D){this.h=D;for(var N=[],O=!0,z=V.length-1;0<=z;z--){var B=V[z]|0;O&&B==D||(N[z]=B,O=!1)}this.g=N}var c={};function h(V){return-128<=V&&128>V?o(V,function(D){return new l([D|0],0>D?-1:0)}):new l([V|0],0>V?-1:0)}function d(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return F(d(-V));for(var D=[],N=1,O=0;V>=N;O++)D[O]=V/N|0,N*=4294967296;return new l(D,0)}function y(V,D){if(V.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(V.charAt(0)=="-")return F(y(V.substring(1),D));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(D,8)),O=T,z=0;z<V.length;z+=8){var B=Math.min(8,V.length-z),L=parseInt(V.substring(z,z+B),D);8>B?(B=d(Math.pow(D,B)),O=O.j(B).add(d(L))):(O=O.j(N),O=O.add(d(L)))}return O}var T=h(0),E=h(1),C=h(16777216);n=l.prototype,n.m=function(){if(k(this))return-F(this).m();for(var V=0,D=1,N=0;N<this.g.length;N++){var O=this.i(N);V+=(0<=O?O:4294967296+O)*D,D*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(I(this))return"0";if(k(this))return"-"+F(this).toString(V);for(var D=d(Math.pow(V,6)),N=this,O="";;){var z=re(N,D).g;N=U(N,z.j(D));var B=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=z,I(N))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function I(V){if(V.h!=0)return!1;for(var D=0;D<V.g.length;D++)if(V.g[D]!=0)return!1;return!0}function k(V){return V.h==-1}n.l=function(V){return V=U(this,V),k(V)?-1:I(V)?0:1};function F(V){for(var D=V.g.length,N=[],O=0;O<D;O++)N[O]=~V.g[O];return new l(N,~V.h).add(E)}n.abs=function(){return k(this)?F(this):this},n.add=function(V){for(var D=Math.max(this.g.length,V.g.length),N=[],O=0,z=0;z<=D;z++){var B=O+(this.i(z)&65535)+(V.i(z)&65535),L=(B>>>16)+(this.i(z)>>>16)+(V.i(z)>>>16);O=L>>>16,B&=65535,L&=65535,N[z]=L<<16|B}return new l(N,N[N.length-1]&-2147483648?-1:0)};function U(V,D){return V.add(F(D))}n.j=function(V){if(I(this)||I(V))return T;if(k(this))return k(V)?F(this).j(F(V)):F(F(this).j(V));if(k(V))return F(this.j(F(V)));if(0>this.l(C)&&0>V.l(C))return d(this.m()*V.m());for(var D=this.g.length+V.g.length,N=[],O=0;O<2*D;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(var z=0;z<V.g.length;z++){var B=this.i(O)>>>16,L=this.i(O)&65535,he=V.i(z)>>>16,me=V.i(z)&65535;N[2*O+2*z]+=L*me,q(N,2*O+2*z),N[2*O+2*z+1]+=B*me,q(N,2*O+2*z+1),N[2*O+2*z+1]+=L*he,q(N,2*O+2*z+1),N[2*O+2*z+2]+=B*he,q(N,2*O+2*z+2)}for(O=0;O<D;O++)N[O]=N[2*O+1]<<16|N[2*O];for(O=D;O<2*D;O++)N[O]=0;return new l(N,0)};function q(V,D){for(;(V[D]&65535)!=V[D];)V[D+1]+=V[D]>>>16,V[D]&=65535,D++}function G(V,D){this.g=V,this.h=D}function re(V,D){if(I(D))throw Error("division by zero");if(I(V))return new G(T,T);if(k(V))return D=re(F(V),D),new G(F(D.g),F(D.h));if(k(D))return D=re(V,F(D)),new G(F(D.g),D.h);if(30<V.g.length){if(k(V)||k(D))throw Error("slowDivide_ only works with positive integers.");for(var N=E,O=D;0>=O.l(V);)N=ie(N),O=ie(O);var z=Y(N,1),B=Y(O,1);for(O=Y(O,2),N=Y(N,2);!I(O);){var L=B.add(O);0>=L.l(V)&&(z=z.add(N),B=L),O=Y(O,1),N=Y(N,1)}return D=U(V,z.j(D)),new G(z,D)}for(z=T;0<=V.l(D);){for(N=Math.max(1,Math.floor(V.m()/D.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=d(N),L=B.j(D);k(L)||0<L.l(V);)N-=O,B=d(N),L=B.j(D);I(B)&&(B=E),z=z.add(B),V=U(V,L)}return new G(z,V)}n.A=function(V){return re(this,V).h},n.and=function(V){for(var D=Math.max(this.g.length,V.g.length),N=[],O=0;O<D;O++)N[O]=this.i(O)&V.i(O);return new l(N,this.h&V.h)},n.or=function(V){for(var D=Math.max(this.g.length,V.g.length),N=[],O=0;O<D;O++)N[O]=this.i(O)|V.i(O);return new l(N,this.h|V.h)},n.xor=function(V){for(var D=Math.max(this.g.length,V.g.length),N=[],O=0;O<D;O++)N[O]=this.i(O)^V.i(O);return new l(N,this.h^V.h)};function ie(V){for(var D=V.g.length+1,N=[],O=0;O<D;O++)N[O]=V.i(O)<<1|V.i(O-1)>>>31;return new l(N,V.h)}function Y(V,D){var N=D>>5;D%=32;for(var O=V.g.length-N,z=[],B=0;B<O;B++)z[B]=0<D?V.i(B+N)>>>D|V.i(B+N+1)<<32-D:V.i(B+N);return new l(z,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Fw=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=y,Ys=l}).apply(typeof Tx<"u"?Tx:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zw,sc,Bw,Ud,uy,Hw,qw,Gw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,x,S){return g==Array.prototype||g==Object.prototype||(g[x]=S.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var x=0;x<g.length;++x){var S=g[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=t(this);function r(g,x){if(x)e:{var S=i;g=g.split(".");for(var P=0;P<g.length-1;P++){var Q=g[P];if(!(Q in S))break e;S=S[Q]}g=g[g.length-1],P=S[g],x=x(P),x!=P&&x!=null&&e(S,g,{configurable:!0,writable:!0,value:x})}}function o(g,x){g instanceof String&&(g+="");var S=0,P=!1,Q={next:function(){if(!P&&S<g.length){var se=S++;return{value:x(se,g[se]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}r("Array.prototype.values",function(g){return g||function(){return o(this,function(x,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(g){var x=typeof g;return x=x!="object"?x:g?Array.isArray(g)?"array":x:"null",x=="array"||x=="object"&&typeof g.length=="number"}function d(g){var x=typeof g;return x=="object"&&g!=null||x=="function"}function y(g,x,S){return g.call.apply(g.bind,arguments)}function T(g,x,S){if(!g)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,P),g.apply(x,Q)}}return function(){return g.apply(x,arguments)}}function E(g,x,S){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,E.apply(null,arguments)}function C(g,x){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),g.apply(this,P)}}function I(g,x){function S(){}S.prototype=x.prototype,g.aa=x.prototype,g.prototype=new S,g.prototype.constructor=g,g.Qb=function(P,Q,se){for(var _e=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)_e[rt-2]=arguments[rt];return x.prototype[Q].apply(P,_e)}}function k(g){const x=g.length;if(0<x){const S=Array(x);for(let P=0;P<x;P++)S[P]=g[P];return S}return[]}function F(g,x){for(let S=1;S<arguments.length;S++){const P=arguments[S];if(h(P)){const Q=g.length||0,se=P.length||0;g.length=Q+se;for(let _e=0;_e<se;_e++)g[Q+_e]=P[_e]}else g.push(P)}}class U{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function q(g){return/^[\s\xa0]*$/.test(g)}function G(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function re(g){return re[" "](g),g}re[" "]=function(){};var ie=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function Y(g,x,S){for(const P in g)x.call(S,g[P],P,g)}function V(g,x){for(const S in g)x.call(void 0,g[S],S,g)}function D(g){const x={};for(const S in g)x[S]=g[S];return x}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(g,x){let S,P;for(let Q=1;Q<arguments.length;Q++){P=arguments[Q];for(S in P)g[S]=P[S];for(let se=0;se<N.length;se++)S=N[se],Object.prototype.hasOwnProperty.call(P,S)&&(g[S]=P[S])}}function z(g){var x=1;g=g.split(":");const S=[];for(;0<x&&g.length;)S.push(g.shift()),x--;return g.length&&S.push(g.join(":")),S}function B(g){c.setTimeout(()=>{throw g},0)}function L(){var g=ke;let x=null;return g.g&&(x=g.g,g.g=g.g.next,g.g||(g.h=null),x.next=null),x}class he{constructor(){this.h=this.g=null}add(x,S){const P=me.get();P.set(x,S),this.h?this.h.next=P:this.g=P,this.h=P}}var me=new U(()=>new J,g=>g.reset());class J{constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,Ee=!1,ke=new he,w=()=>{const g=c.Promise.resolve(void 0);fe=()=>{g.then(W)}};var W=()=>{for(var g;g=L();){try{g.h.call(g.g)}catch(S){B(S)}var x=me;x.j(g),100>x.h&&(x.h++,g.next=x.g,x.g=g)}Ee=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(g,x){this.type=g,this.g=this.target=x,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,x=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const S=()=>{};c.addEventListener("test",S,x),c.removeEventListener("test",S,x)}catch{}return g}();function xe(g,x){if(M.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var S=this.type=g.type,P=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=x,x=g.relatedTarget){if(ie){e:{try{re(x.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(x=null)}}else S=="mouseover"?x=g.fromElement:S=="mouseout"&&(x=g.toElement);this.relatedTarget=x,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Te[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&xe.aa.h.call(this)}}I(xe,M);var Te={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Ct(g,x,S,P,Q){this.listener=g,this.proxy=null,this.src=x,this.type=S,this.capture=!!P,this.ha=Q,this.key=++Ye,this.da=this.fa=!1}function qt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Mt(g){this.src=g,this.g={},this.h=0}Mt.prototype.add=function(g,x,S,P,Q){var se=g.toString();g=this.g[se],g||(g=this.g[se]=[],this.h++);var _e=qn(g,x,P,Q);return-1<_e?(x=g[_e],S||(x.fa=!1)):(x=new Ct(x,this.src,se,!!P,Q),x.fa=S,g.push(x)),x};function Nn(g,x){var S=x.type;if(S in g.g){var P=g.g[S],Q=Array.prototype.indexOf.call(P,x,void 0),se;(se=0<=Q)&&Array.prototype.splice.call(P,Q,1),se&&(qt(x),g.g[S].length==0&&(delete g.g[S],g.h--))}}function qn(g,x,S,P){for(var Q=0;Q<g.length;++Q){var se=g[Q];if(!se.da&&se.listener==x&&se.capture==!!S&&se.ha==P)return Q}return-1}var Mn="closure_lm_"+(1e6*Math.random()|0),is={};function uo(g,x,S,P,Q){if(Array.isArray(x)){for(var se=0;se<x.length;se++)uo(g,x[se],S,P,Q);return null}return S=sa(S),g&&g[lt]?g.K(x,S,d(P)?!!P.capture:!1,Q):Dn(g,x,S,!1,P,Q)}function Dn(g,x,S,P,Q,se){if(!x)throw Error("Invalid event type");var _e=d(Q)?!!Q.capture:!!Q,rt=ss(g);if(rt||(g[Mn]=rt=new Mt(g)),S=rt.add(x,S,P,_e,se),S.proxy)return S;if(P=zl(),S.proxy=P,P.src=g,P.listener=S,g.addEventListener)ge||(Q=_e),Q===void 0&&(Q=!1),g.addEventListener(x.toString(),P,Q);else if(g.attachEvent)g.attachEvent(vr(x.toString()),P);else if(g.addListener&&g.removeListener)g.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function zl(){function g(S){return x.call(g.src,g.listener,S)}const x=Bl;return g}function rs(g,x,S,P,Q){if(Array.isArray(x))for(var se=0;se<x.length;se++)rs(g,x[se],S,P,Q);else P=d(P)?!!P.capture:!!P,S=sa(S),g&&g[lt]?(g=g.i,x=String(x).toString(),x in g.g&&(se=g.g[x],S=qn(se,S,P,Q),-1<S&&(qt(se[S]),Array.prototype.splice.call(se,S,1),se.length==0&&(delete g.g[x],g.h--)))):g&&(g=ss(g))&&(x=g.g[x.toString()],g=-1,x&&(g=qn(x,S,P,Q)),(S=-1<g?x[g]:null)&&yr(S))}function yr(g){if(typeof g!="number"&&g&&!g.da){var x=g.src;if(x&&x[lt])Nn(x.i,g);else{var S=g.type,P=g.proxy;x.removeEventListener?x.removeEventListener(S,P,g.capture):x.detachEvent?x.detachEvent(vr(S),P):x.addListener&&x.removeListener&&x.removeListener(P),(S=ss(x))?(Nn(S,g),S.h==0&&(S.src=null,x[Mn]=null)):qt(g)}}}function vr(g){return g in is?is[g]:is[g]="on"+g}function Bl(g,x){if(g.da)g=!0;else{x=new xe(x,this);var S=g.listener,P=g.ha||g.src;g.fa&&yr(g),g=S.call(P,x)}return g}function ss(g){return g=g[Mn],g instanceof Mt?g:null}var co="__closure_events_fn_"+(1e9*Math.random()>>>0);function sa(g){return typeof g=="function"?g:(g[co]||(g[co]=function(x){return g.handleEvent(x)}),g[co])}function ne(){oe.call(this),this.i=new Mt(this),this.M=this,this.F=null}I(ne,oe),ne.prototype[lt]=!0,ne.prototype.removeEventListener=function(g,x,S,P){rs(this,g,x,S,P)};function de(g,x){var S,P=g.F;if(P)for(S=[];P;P=P.F)S.push(P);if(g=g.M,P=x.type||x,typeof x=="string")x=new M(x,g);else if(x instanceof M)x.target=x.target||g;else{var Q=x;x=new M(P,g),O(x,Q)}if(Q=!0,S)for(var se=S.length-1;0<=se;se--){var _e=x.g=S[se];Q=Ie(_e,P,!0,x)&&Q}if(_e=x.g=g,Q=Ie(_e,P,!0,x)&&Q,Q=Ie(_e,P,!1,x)&&Q,S)for(se=0;se<S.length;se++)_e=x.g=S[se],Q=Ie(_e,P,!1,x)&&Q}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var g=this.i,x;for(x in g.g){for(var S=g.g[x],P=0;P<S.length;P++)qt(S[P]);delete g.g[x],g.h--}}this.F=null},ne.prototype.K=function(g,x,S,P){return this.i.add(String(g),x,!1,S,P)},ne.prototype.L=function(g,x,S,P){return this.i.add(String(g),x,!0,S,P)};function Ie(g,x,S,P){if(x=g.i.g[String(x)],!x)return!0;x=x.concat();for(var Q=!0,se=0;se<x.length;++se){var _e=x[se];if(_e&&!_e.da&&_e.capture==S){var rt=_e.listener,Jt=_e.ha||_e.src;_e.fa&&Nn(g.i,_e),Q=rt.call(Jt,P)!==!1&&Q}}return Q&&!P.defaultPrevented}function Ne(g,x,S){if(typeof g=="function")S&&(g=E(g,S));else if(g&&typeof g.handleEvent=="function")g=E(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:c.setTimeout(g,x||0)}function ut(g){g.g=Ne(()=>{g.g=null,g.i&&(g.i=!1,ut(g))},g.l);const x=g.h;g.h=null,g.m.apply(null,x)}class Pn extends oe{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(g){oe.call(this),this.h=g,this.g={}}I(Ln,oe);var dn=[];function Jn(g){Y(g.g,function(x,S){this.g.hasOwnProperty(S)&&yr(x)},g),g.g={}}Ln.prototype.N=function(){Ln.aa.N.call(this),Jn(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hn=c.JSON.stringify,Gt=c.JSON.parse,Gn=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function Vn(){}Vn.prototype.h=null;function Hl(g){return g.h||(g.h=g.i())}function ql(){}var _r={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){M.call(this,"d")}I(Tr,M);function Gl(){M.call(this,"c")}I(Gl,M);var Oi={},$l=null;function os(){return $l=$l||new ne}Oi.La="serverreachability";function oa(g){M.call(this,Oi.La,g)}I(oa,M);function as(g){const x=os();de(x,new oa(x))}Oi.STAT_EVENT="statevent";function Xc(g,x){M.call(this,Oi.STAT_EVENT,g),this.stat=x}I(Xc,M);function Rt(g){const x=os();de(x,new Xc(x,g))}Oi.Ma="timingevent";function Zt(g,x){M.call(this,Oi.Ma,g),this.size=x}I(Zt,M);function $t(g,x){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},x)}function di(){this.g=!0}di.prototype.xa=function(){this.g=!1};function Yl(g,x,S,P,Q,se){g.info(function(){if(g.g)if(se)for(var _e="",rt=se.split("&"),Jt=0;Jt<rt.length;Jt++){var st=rt[Jt].split("=");if(1<st.length){var an=st[0];st=st[1];var en=an.split("_");_e=2<=en.length&&en[1]=="type"?_e+(an+"="+st+"&"):_e+(an+"=redacted&")}}else _e=null;else _e=se;return"XMLHTTP REQ ("+P+") [attempt "+Q+"]: "+x+`
`+S+`
`+_e})}function op(g,x,S,P,Q,se,_e){g.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Q+"]: "+x+`
`+S+`
`+se+" "+_e})}function ls(g,x,S,P){g.info(function(){return"XMLHTTP TEXT ("+x+"): "+fo(g,S)+(P?" "+P:"")})}function Zc(g,x){g.info(function(){return"TIMEOUT: "+x})}di.prototype.info=function(){};function fo(g,x){if(!g.g)return x;if(!x)return null;try{var S=JSON.parse(x);if(S){for(g=0;g<S.length;g++)if(Array.isArray(S[g])){var P=S[g];if(!(2>P.length)){var Q=P[1];if(Array.isArray(Q)&&!(1>Q.length)){var se=Q[0];if(se!="noop"&&se!="stop"&&se!="close")for(var _e=1;_e<Q.length;_e++)Q[_e]=""}}}}return hn(S)}catch{return x}}var us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Er={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ui;function Fi(){}I(Fi,Vn),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},Ui=new Fi;function On(g,x,S,P){this.j=g,this.i=x,this.l=S,this.R=P||1,this.U=new Ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ft}function Ft(){this.i=null,this.g="",this.h=!1}var Kl={},aa={};function Ii(g,x,S){g.L=1,g.v=yo(ei(x)),g.m=S,g.P=!0,xr(g,null)}function xr(g,x){g.F=Date.now(),ho(g),g.A=ei(g.v);var S=g.A,P=g.R;Array.isArray(P)||(P=[String(P)]),Jl(S.i,"t",P),g.C=0,S=g.j.J,g.h=new Ft,g.g=mf(g.j,S?x:null,!g.m),0<g.O&&(g.M=new Pn(E(g.Y,g,g.g),g.O)),x=g.U,S=g.g,P=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(dn[0]=Q.toString()),Q=dn);for(var se=0;se<Q.length;se++){var _e=uo(S,Q[se],P||x.handleEvent,!1,x.h||x);if(!_e)break;x.g[_e.key]=_e}x=g.H?D(g.H):{},g.m?(g.u||(g.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,x)):(g.u="GET",g.g.ea(g.A,g.u,null,x)),as(),Yl(g.i,g.u,g.A,g.l,g.R,g.m)}On.prototype.ca=function(g){g=g.target;const x=this.M;x&&gi(g)==3?x.j():this.Y(g)},On.prototype.Y=function(g){try{if(g==this.g)e:{const en=gi(this.g);var x=this.g.Ba();const kr=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||af(this.g)))){this.J||en!=4||x==7||(x==8||0>=kr?as(3):as(2)),cs(this);var S=this.g.Z();this.X=S;t:if(Jc(this)){var P=af(this.g);g="";var Q=P.length,se=gi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),zi(this);var _e="";break t}this.h.i=new c.TextDecoder}for(x=0;x<Q;x++)this.h.h=!0,g+=this.h.i.decode(P[x],{stream:!(se&&x==Q-1)});P.length=0,this.h.g+=g,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,op(this.i,this.u,this.A,this.l,this.R,en,S),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Jt=this.g;if((rt=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(rt)){var st=rt;break t}}st=null}if(S=st)ls(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,po(this,S);else{this.o=!1,this.s=3,Rt(12),pn(this),zi(this);break e}}if(this.P){S=!0;let mn;for(;!this.J&&this.C<_e.length;)if(mn=ef(this,_e),mn==aa){en==4&&(this.s=4,Rt(14),S=!1),ls(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Kl){this.s=4,Rt(15),ls(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else ls(this.i,this.l,mn,null),po(this,mn);if(Jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||_e.length!=0||this.h.h||(this.s=1,Rt(16),S=!1),this.o=this.o&&S,!S)ls(this.i,this.l,_e,"[Invalid Chunked Response]"),pn(this),zi(this);else if(0<_e.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),wo(an),an.M=!0,Rt(11))}}else ls(this.i,this.l,_e,null),po(this,_e);en==4&&pn(this),this.o&&!this.J&&(en==4?df(this.j,this):(this.o=!1,ho(this)))}else fp(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),pn(this),zi(this)}}}catch{}finally{}};function Jc(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function ef(g,x){var S=g.C,P=x.indexOf(`
`,S);return P==-1?aa:(S=Number(x.substring(S,P)),isNaN(S)?Kl:(P+=1,P+S>x.length?aa:(x=x.slice(P,P+S),g.C=P+S,x)))}On.prototype.cancel=function(){this.J=!0,pn(this)};function ho(g){g.S=Date.now()+g.I,tf(g,g.I)}function tf(g,x){if(g.B!=null)throw Error("WatchDog timer not null");g.B=$t(E(g.ba,g),x)}function cs(g){g.B&&(c.clearTimeout(g.B),g.B=null)}On.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Zc(this.i,this.A),this.L!=2&&(as(),Rt(17)),pn(this),this.s=2,zi(this)):tf(this,this.S-g)};function zi(g){g.j.G==0||g.J||df(g.j,g)}function pn(g){cs(g);var x=g.M;x&&typeof x.ma=="function"&&x.ma(),g.M=null,Jn(g.U),g.g&&(x=g.g,g.g=null,x.abort(),x.ma())}function po(g,x){try{var S=g.j;if(S.G!=0&&(S.g==g||jl(S.h,g))){if(!g.K&&jl(S.h,g)&&S.G==3){try{var P=S.Da.g.parse(x)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Q=P;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<g.F)_a(S),ya(S);else break e;ru(S),Rt(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=$t(E(S.Za,S),6e3));if(1>=ua(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Rr(S,11)}else if((g.K||S.g==g)&&_a(S),!q(x))for(Q=S.Da.g.parse(x),x=0;x<Q.length;x++){let st=Q[x];if(S.T=st[0],st=st[1],S.G==2)if(st[0]=="c"){S.K=st[1],S.ia=st[2];const an=st[3];an!=null&&(S.la=an,S.j.info("VER="+S.la));const en=st[4];en!=null&&(S.Aa=en,S.j.info("SVER="+S.Aa));const kr=st[5];kr!=null&&typeof kr=="number"&&0<kr&&(P=1.5*kr,S.L=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const mn=g.g;if(mn){const Ki=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ki){var se=P.h;se.g||Ki.indexOf("spdy")==-1&&Ki.indexOf("quic")==-1&&Ki.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(ca(se,se.h),se.h=null))}if(P.D){const ou=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;ou&&(P.ya=ou,vt(P.I,P.D,ou))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-g.F,S.j.info("Handshake RTT: "+S.R+"ms")),P=S;var _e=g;if(P.qa=pf(P,P.J?P.ia:null,P.W),_e.K){Un(P.h,_e);var rt=_e,Jt=P.L;Jt&&(rt.I=Jt),rt.B&&(cs(rt),ho(rt)),P.g=_e}else cf(P);0<S.i.length&&va(S)}else st[0]!="stop"&&st[0]!="close"||Rr(S,7);else S.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Rr(S,7):nu(S):st[0]!="noop"&&S.l&&S.l.ta(st),S.v=0)}}as(4)}catch{}}var nf=class{constructor(g,x){this.g=g,this.map=x}};function Cr(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function la(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ua(g){return g.h?1:g.g?g.g.size:0}function jl(g,x){return g.h?g.h==x:g.g?g.g.has(x):!1}function ca(g,x){g.g?g.g.add(x):g.h=x}function Un(g,x){g.h&&g.h==x?g.h=null:g.g&&g.g.has(x)&&g.g.delete(x)}Cr.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Ql(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let x=g.i;for(const S of g.g.values())x=x.concat(S.D);return x}return k(g.i)}function ap(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var x=[],S=g.length,P=0;P<S;P++)x.push(g[P]);return x}x=[],S=0;for(P in g)x[S++]=g[P];return x}function fa(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var x=[];g=g.length;for(var S=0;S<g;S++)x.push(S);return x}x=[],S=0;for(const P in g)x[S++]=P;return x}}}function Wl(g,x){if(g.forEach&&typeof g.forEach=="function")g.forEach(x,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,x,void 0);else for(var S=fa(g),P=ap(g),Q=P.length,se=0;se<Q;se++)x.call(void 0,P[se],S&&S[se],g)}var mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lp(g,x){if(g){g=g.split("&");for(var S=0;S<g.length;S++){var P=g[S].indexOf("="),Q=null;if(0<=P){var se=g[S].substring(0,P);Q=g[S].substring(P+1)}else se=g[S];x(se,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Yt(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Yt){this.h=g.h,go(this,g.j),this.o=g.o,this.g=g.g,fs(this,g.s),this.l=g.l;var x=g.i,S=new wr;S.i=x.i,x.g&&(S.g=new Map(x.g),S.h=x.h),Sr(this,S),this.m=g.m}else g&&(x=String(g).match(mo))?(this.h=!1,go(this,x[1]||"",!0),this.o=hi(x[2]||""),this.g=hi(x[3]||"",!0),fs(this,x[4]),this.l=hi(x[5]||"",!0),Sr(this,x[6]||"",!0),this.m=hi(x[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}Yt.prototype.toString=function(){var g=[],x=this.j;x&&g.push(vo(x,Xl,!0),":");var S=this.g;return(S||x=="file")&&(g.push("//"),(x=this.o)&&g.push(vo(x,Xl,!0),"@"),g.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&g.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&g.push("/"),g.push(vo(S,S.charAt(0)=="/"?up:Zl,!0))),(S=this.i.toString())&&g.push("?",S),(S=this.m)&&g.push("#",vo(S,da)),g.join("")};function ei(g){return new Yt(g)}function go(g,x,S){g.j=S?hi(x,!0):x,g.j&&(g.j=g.j.replace(/:$/,""))}function fs(g,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);g.s=x}else g.s=null}function Sr(g,x,S){x instanceof wr?(g.i=x,sf(g.i,g.h)):(S||(x=vo(x,cp)),g.i=new wr(x,g.h))}function vt(g,x,S){g.i.set(x,S)}function yo(g){return vt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function hi(g,x){return g?x?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function vo(g,x,S){return typeof g=="string"?(g=encodeURI(g).replace(x,rf),S&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function rf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Xl=/[#\/\?@]/g,Zl=/[#\?:]/g,up=/[#\?]/g,cp=/[#\?@]/g,da=/#/g;function wr(g,x){this.h=this.g=null,this.i=g||null,this.j=!!x}function pi(g){g.g||(g.g=new Map,g.h=0,g.i&&lp(g.i,function(x,S){g.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}n=wr.prototype,n.add=function(g,x){pi(this),this.i=null,g=Bi(this,g);var S=this.g.get(g);return S||this.g.set(g,S=[]),S.push(x),this.h+=1,this};function Ar(g,x){pi(g),x=Bi(g,x),g.g.has(x)&&(g.i=null,g.h-=g.g.get(x).length,g.g.delete(x))}function br(g,x){return pi(g),x=Bi(g,x),g.g.has(x)}n.forEach=function(g,x){pi(this),this.g.forEach(function(S,P){S.forEach(function(Q){g.call(x,Q,P,this)},this)},this)},n.na=function(){pi(this);const g=Array.from(this.g.values()),x=Array.from(this.g.keys()),S=[];for(let P=0;P<x.length;P++){const Q=g[P];for(let se=0;se<Q.length;se++)S.push(x[P])}return S},n.V=function(g){pi(this);let x=[];if(typeof g=="string")br(this,g)&&(x=x.concat(this.g.get(Bi(this,g))));else{g=Array.from(this.g.values());for(let S=0;S<g.length;S++)x=x.concat(g[S])}return x},n.set=function(g,x){return pi(this),this.i=null,g=Bi(this,g),br(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[x]),this.h+=1,this},n.get=function(g,x){return g?(g=this.V(g),0<g.length?String(g[0]):x):x};function Jl(g,x,S){Ar(g,x),0<S.length&&(g.i=null,g.g.set(Bi(g,x),k(S)),g.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],x=Array.from(this.g.keys());for(var S=0;S<x.length;S++){var P=x[S];const se=encodeURIComponent(String(P)),_e=this.V(P);for(P=0;P<_e.length;P++){var Q=se;_e[P]!==""&&(Q+="="+encodeURIComponent(String(_e[P]))),g.push(Q)}}return this.i=g.join("&")};function Bi(g,x){return x=String(x),g.j&&(x=x.toLowerCase()),x}function sf(g,x){x&&!g.j&&(pi(g),g.i=null,g.g.forEach(function(S,P){var Q=P.toLowerCase();P!=Q&&(Ar(this,P),Jl(this,Q,S))},g)),g.j=x}function _o(g,x){const S=new di;if(c.Image){const P=new Image;P.onload=C(mi,S,"TestLoadImage: loaded",!0,x,P),P.onerror=C(mi,S,"TestLoadImage: error",!1,x,P),P.onabort=C(mi,S,"TestLoadImage: abort",!1,x,P),P.ontimeout=C(mi,S,"TestLoadImage: timeout",!1,x,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=g}else x(!1)}function Ri(g,x){const S=new di,P=new AbortController,Q=setTimeout(()=>{P.abort(),mi(S,"TestPingServer: timeout",!1,x)},1e4);fetch(g,{signal:P.signal}).then(se=>{clearTimeout(Q),se.ok?mi(S,"TestPingServer: ok",!0,x):mi(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Q),mi(S,"TestPingServer: error",!1,x)})}function mi(g,x,S,P,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),P(S)}catch{}}function To(){this.g=new Gn}function Hi(g,x,S){const P=S||"";try{Wl(g,function(Q,se){let _e=Q;d(Q)&&(_e=hn(Q)),x.push(P+se+"="+encodeURIComponent(_e))})}catch(Q){throw x.push(P+"type="+encodeURIComponent("_badmap")),Q}}function ds(g){this.l=g.Ub||null,this.j=g.eb||!1}I(ds,Vn),ds.prototype.g=function(){return new Ir(this.l,this.j)},ds.prototype.i=function(g){return function(){return g}}({});function Ir(g,x){ne.call(this),this.D=g,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ir,ne),n=Ir.prototype,n.open=function(g,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=x,this.readyState=1,Gi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(x.body=g),(this.D||c).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function eu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var x=g.value?g.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!g.done}))&&(this.response=this.responseText+=x)}g.done?qi(this):Gi(this),this.readyState==3&&eu(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,qi(this))},n.Qa=function(g){this.g&&(this.response=g,qi(this))},n.ga=function(){this.g&&qi(this)};function qi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Gi(g)}n.setRequestHeader=function(g,x){this.u.append(g,x)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,g.push(S[0]+": "+S[1]),S=x.next();return g.join(`\r
`)};function Gi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function tu(g){let x="";return Y(g,function(S,P){x+=P,x+=":",x+=S,x+=`\r
`}),x}function on(g,x,S){e:{for(P in S){var P=!1;break e}P=!0}P||(S=tu(S),typeof g=="string"?S!=null&&encodeURIComponent(String(S)):vt(g,x,S))}function pt(g){ne.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(pt,ne);var ha=/^https?$/i,Eo=["POST","PUT"];n=pt.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,x,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);x=x?x.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ui.g(),this.v=this.o?Hl(this.o):Hl(Ui),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(x,String(g),!0),this.B=!1}catch(se){of(this,se);return}if(g=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Q in P)S.set(Q,P[Q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const se of P.keys())S.set(se,P.get(se));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(se=>se.toLowerCase()=="content-type"),Q=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Eo,x,void 0))||P||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of S)this.g.setRequestHeader(se,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xo(this),this.u=!0,this.g.send(g),this.u=!1}catch(se){of(this,se)}};function of(g,x){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=x,g.m=5,pa(g),$i(g)}function pa(g){g.A||(g.A=!0,de(g,"complete"),de(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,de(this,"complete"),de(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},n.bb=function(){ma(this)};function ma(g){if(g.h&&typeof l<"u"&&(!g.v[1]||gi(g)!=4||g.Z()!=2)){if(g.u&&gi(g)==4)Ne(g.Ea,0,g);else if(de(g,"readystatechange"),gi(g)==4){g.h=!1;try{const _e=g.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var S;if(!(S=x)){var P;if(P=_e===0){var Q=String(g.D).match(mo)[1]||null;!Q&&c.self&&c.self.location&&(Q=c.self.location.protocol.slice(0,-1)),P=!ha.test(Q?Q.toLowerCase():"")}S=P}if(S)de(g,"complete"),de(g,"success");else{g.m=6;try{var se=2<gi(g)?g.g.statusText:""}catch{se=""}g.l=se+" ["+g.Z()+"]",pa(g)}}finally{$i(g)}}}}function $i(g,x){if(g.g){xo(g);const S=g.g,P=g.v[0]?()=>{}:null;g.g=null,g.v=null,x||de(g,"ready");try{S.onreadystatechange=P}catch{}}}function xo(g){g.I&&(c.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function gi(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<gi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var x=this.g.responseText;return g&&x.indexOf(g)==0&&(x=x.substring(g.length)),Gt(x)}};function af(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function fp(g){const x={};g=(g.g&&2<=gi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<g.length;P++){if(q(g[P]))continue;var S=z(g[P]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const se=x[Q]||[];x[Q]=se,se.push(S)}V(x,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Co(g,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[g]||x}function ga(g){this.Aa=0,this.i=[],this.j=new di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Co("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Co("baseRetryDelayMs",5e3,g),this.cb=Co("retryDelaySeedMs",1e4,g),this.Wa=Co("forwardChannelMaxRetries",2,g),this.wa=Co("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Cr(g&&g.concurrentRequestLimit),this.Da=new To,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ga.prototype,n.la=8,n.G=1,n.connect=function(g,x,S,P){Rt(0),this.W=g,this.H=x||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.I=pf(this,null,this.W),va(this)};function nu(g){if(lf(g),g.G==3){var x=g.U++,S=ei(g.I);if(vt(S,"SID",g.K),vt(S,"RID",x),vt(S,"TYPE","terminate"),So(g,S),x=new On(g,g.j,x),x.L=2,x.v=yo(ei(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(x.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=x.v,S=!0),S||(x.g=mf(x.j,null),x.g.ea(x.v)),x.F=Date.now(),ho(x)}hf(g)}function ya(g){g.g&&(wo(g),g.g.cancel(),g.g=null)}function lf(g){ya(g),g.u&&(c.clearTimeout(g.u),g.u=null),_a(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function va(g){if(!la(g.h)&&!g.s){g.s=!0;var x=g.Ga;fe||w(),Ee||(fe(),Ee=!0),ke.add(x,g),g.B=0}}function dp(g,x){return ua(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=x.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=$t(E(g.Ga,g,x),su(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new On(this,this.j,g);let se=this.o;if(this.S&&(se?(se=D(se),O(se,this.S)):se=this.S),this.m!==null||this.O||(Q.H=se,se=null),this.P)e:{for(var x=0,S=0;S<this.i.length;S++){t:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(x+=P,4096<x){x=S;break e}if(x===4096||S===this.i.length-1){x=S+1;break e}}x=1e3}else x=1e3;x=uf(this,Q,x),S=ei(this.I),vt(S,"RID",g),vt(S,"CVER",22),this.D&&vt(S,"X-HTTP-Session-Id",this.D),So(this,S),se&&(this.O?x="headers="+encodeURIComponent(String(tu(se)))+"&"+x:this.m&&on(S,this.m,se)),ca(this.h,Q),this.Ua&&vt(S,"TYPE","init"),this.P?(vt(S,"$req",x),vt(S,"SID","null"),Q.T=!0,Ii(Q,S,null)):Ii(Q,S,x),this.G=2}}else this.G==3&&(g?iu(this,g):this.i.length==0||la(this.h)||iu(this))};function iu(g,x){var S;x?S=x.l:S=g.U++;const P=ei(g.I);vt(P,"SID",g.K),vt(P,"RID",S),vt(P,"AID",g.T),So(g,P),g.m&&g.o&&on(P,g.m,g.o),S=new On(g,g.j,S,g.B+1),g.m===null&&(S.H=g.o),x&&(g.i=x.D.concat(g.i)),x=uf(g,S,1e3),S.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),ca(g.h,S),Ii(S,P,x)}function So(g,x){g.H&&Y(g.H,function(S,P){vt(x,P,S)}),g.l&&Wl({},function(S,P){vt(x,P,S)})}function uf(g,x,S){S=Math.min(g.i.length,S);var P=g.l?E(g.l.Na,g.l,g):null;e:{var Q=g.i;let se=-1;for(;;){const _e=["count="+S];se==-1?0<S?(se=Q[0].g,_e.push("ofs="+se)):se=0:_e.push("ofs="+se);let rt=!0;for(let Jt=0;Jt<S;Jt++){let st=Q[Jt].g;const an=Q[Jt].map;if(st-=se,0>st)se=Math.max(0,Q[Jt].g-100),rt=!1;else try{Hi(an,_e,"req"+st+"_")}catch{P&&P(an)}}if(rt){P=_e.join("&");break e}}}return g=g.i.splice(0,S),x.D=g,P}function cf(g){if(!g.g&&!g.u){g.Y=1;var x=g.Fa;fe||w(),Ee||(fe(),Ee=!0),ke.add(x,g),g.v=0}}function ru(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=$t(E(g.Fa,g),su(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,ff(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=$t(E(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),ya(this),ff(this))};function wo(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function ff(g){g.g=new On(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var x=ei(g.qa);vt(x,"RID","rpc"),vt(x,"SID",g.K),vt(x,"AID",g.T),vt(x,"CI",g.F?"0":"1"),!g.F&&g.ja&&vt(x,"TO",g.ja),vt(x,"TYPE","xmlhttp"),So(g,x),g.m&&g.o&&on(x,g.m,g.o),g.L&&(g.g.I=g.L);var S=g.g;g=g.ia,S.L=1,S.v=yo(ei(x)),S.m=null,S.P=!0,xr(S,g)}n.Za=function(){this.C!=null&&(this.C=null,ya(this),ru(this),Rt(19))};function _a(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function df(g,x){var S=null;if(g.g==x){_a(g),wo(g),g.g=null;var P=2}else if(jl(g.h,x))S=x.D,Un(g.h,x),P=1;else return;if(g.G!=0){if(x.o)if(P==1){S=x.m?x.m.length:0,x=Date.now()-x.F;var Q=g.B;P=os(),de(P,new Zt(P,S)),va(g)}else cf(g);else if(Q=x.s,Q==3||Q==0&&0<x.X||!(P==1&&dp(g,x)||P==2&&ru(g)))switch(S&&0<S.length&&(x=g.h,x.i=x.i.concat(S)),Q){case 1:Rr(g,5);break;case 4:Rr(g,10);break;case 3:Rr(g,6);break;default:Rr(g,2)}}}function su(g,x){let S=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(S*=2),S*x}function Rr(g,x){if(g.j.info("Error code "+x),x==2){var S=E(g.fb,g),P=g.Xa;const Q=!P;P=new Yt(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||go(P,"https"),yo(P),Q?_o(P.toString(),S):Ri(P.toString(),S)}else Rt(2);g.G=0,g.l&&g.l.sa(x),hf(g),lf(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function hf(g){if(g.G=0,g.ka=[],g.l){const x=Ql(g.h);(x.length!=0||g.i.length!=0)&&(F(g.ka,x),F(g.ka,g.i),g.h.i.length=0,k(g.i),g.i.length=0),g.l.ra()}}function pf(g,x,S){var P=S instanceof Yt?ei(S):new Yt(S);if(P.g!="")x&&(P.g=x+"."+P.g),fs(P,P.s);else{var Q=c.location;P=Q.protocol,x=x?x+"."+Q.hostname:Q.hostname,Q=+Q.port;var se=new Yt(null);P&&go(se,P),x&&(se.g=x),Q&&fs(se,Q),S&&(se.l=S),P=se}return S=g.D,x=g.ya,S&&x&&vt(P,S,x),vt(P,"VER",g.la),So(g,P),P}function mf(g,x,S){if(x&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=g.Ca&&!g.pa?new pt(new ds({eb:S})):new pt(g.pa),x.Ha(g.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gf(){}n=gf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ta(){}Ta.prototype.g=function(g,x){return new Fn(g,x)};function Fn(g,x){ne.call(this),this.g=new ga(x),this.l=g,this.h=x&&x.messageUrlParams||null,g=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(g?g["X-WebChannel-Content-Type"]=x.messageContentType:g={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(g?g["X-WebChannel-Client-Profile"]=x.va:g={"X-WebChannel-Client-Profile":x.va}),this.g.S=g,(g=x&&x.Sb)&&!q(g)&&(this.g.m=g),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!q(x)&&(this.g.D=x,g=this.h,g!==null&&x in g&&(g=this.h,x in g&&delete g[x])),this.j=new Yi(this)}I(Fn,ne),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){nu(this.g)},Fn.prototype.o=function(g){var x=this.g;if(typeof g=="string"){var S={};S.__data__=g,g=S}else this.u&&(S={},S.__data__=hn(g),g=S);x.i.push(new nf(x.Ya++,g)),x.G==3&&va(x)},Fn.prototype.N=function(){this.g.l=null,delete this.j,nu(this.g),delete this.g,Fn.aa.N.call(this)};function yf(g){Tr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var x=g.__sm__;if(x){e:{for(const S in x){g=S;break e}g=void 0}(this.i=g)&&(g=this.i,x=x!==null&&g in x?x[g]:void 0),this.data=x}else this.data=g}I(yf,Tr);function vf(){Gl.call(this),this.status=1}I(vf,Gl);function Yi(g){this.g=g}I(Yi,gf),Yi.prototype.ua=function(){de(this.g,"a")},Yi.prototype.ta=function(g){de(this.g,new yf(g))},Yi.prototype.sa=function(g){de(this.g,new vf)},Yi.prototype.ra=function(){de(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,Gw=function(){return new Ta},qw=function(){return os()},Hw=Oi,uy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,Ud=us,Er.COMPLETE="complete",Bw=Er,ql.EventType=_r,_r.OPEN="a",_r.CLOSE="b",_r.ERROR="c",_r.MESSAGE="d",ne.prototype.listen=ne.prototype.K,sc=ql,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,zw=pt}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const Ex="@firebase/firestore",xx="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=new Jy("@firebase/firestore");function Ja(){return Wo.logLevel}function Se(n,...e){if(Wo.logLevel<=tt.DEBUG){const t=e.map(nv);Wo.debug(`Firestore (${Ml}): ${n}`,...t)}}function Xr(n,...e){if(Wo.logLevel<=tt.ERROR){const t=e.map(nv);Wo.error(`Firestore (${Ml}): ${n}`,...t)}}function Tl(n,...e){if(Wo.logLevel<=tt.WARN){const t=e.map(nv);Wo.warn(`Firestore (${Ml}): ${n}`,...t)}}function nv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,$w(n,i,t)}function $w(n,e,t){let i=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Xr(i),new Error(i)}function mt(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||$w(e,r,i)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends ns{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class oV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aV{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let i=this.i;const r=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ks,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},c=h=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ks)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt(typeof i.accessToken=="string",31837,{l:i}),new Yw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class lV{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uV{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new lV(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cV{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const i=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Cx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=fV(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%62))}return i}}function Xe(n,e){return n<e?-1:n>e?1:0}function cy(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Xe(i,r);{const o=Kw(),l=dV(o.encode(Sx(n,t)),o.encode(Sx(e,t)));return l!==0?l:Xe(i,r)}}t+=i>65535?2:1}return Xe(n.length,e.length)}function Sx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function dV(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Xe(n[t],e[t]);return Xe(n.length,e.length)}function El(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=-62135596800,Ax=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Ax);return new Ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wx)throw new Me(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ax}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Ut(0,0))}static max(){return new qe(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="__name__";class er{constructor(e,t,i){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Fe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=er.compareSegments(e.get(r),t.get(r));if(o!==0)return o}return Xe(e.length,t.length)}static compareSegments(e,t){const i=er.isNumericId(e),r=er.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?er.extractNumericId(e).compare(er.extractNumericId(t)):cy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class Ot extends er{construct(e,t,i){return new Ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Me(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Ot(t)}static emptyPath(){return new Ot([])}}const hV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends er{construct(e,t,i){return new Tn(e,t,i)}static isValidIdentifier(e){return hV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bx}static keyField(){return new Tn([bx])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(i.length===0)throw new Me(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new Me(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Me(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else c==="`"?(l=!l,r++):c!=="."||l?(i+=c,r++):(o(),r++)}if(o(),l)throw new Me(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(t)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Ot.fromString(e))}static fromName(e){return new Pe(Ot.fromString(e).popFirst(5))}static empty(){return new Pe(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=-1;function pV(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=qe.fromTimestamp(i===1e9?new Ut(t+1,0):new Ut(t,i));return new Qs(r,Pe.empty(),e)}function mV(n){return new Qs(n.readTime,n.key,xc)}class Qs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Qs(qe.min(),Pe.empty(),xc)}static max(){return new Qs(qe.max(),Pe.empty(),xc)}}function gV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==yV)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,i)=>{t(e)})}static reject(e){return new ce((t,i)=>{i(e)})}static waitFor(e){return new ce((t,i)=>{let r=0,o=0,l=!1;e.forEach(c=>{++r,c.next(()=>{++o,l&&o===r&&t()},h=>i(h))}),l=!0,o===r&&t()})}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next(r=>r?ce.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new ce((i,r)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const d=h;t(e[d]).next(y=>{l[d]=y,++c,c===o&&i(l)},y=>r(y))}})}static doWhile(e,t){return new ce((i,r)=>{const o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}}function _V(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Fh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=-1;function zh(n){return n==null}function sh(n){return n===0&&1/n==-1/0}function TV(n){return typeof n=="number"&&Number.isInteger(n)&&!sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="";function EV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ix(e)),e=xV(n.get(t),e);return Ix(e)}function xV(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="";break;case Qw:t+="";break;default:t+=o}}return t}function Ix(n){return n+Qw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ww(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new Pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cd(this.root,e,this.comparator,!0)}}class Cd{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??_n.RED,this.left=r??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new _n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return _n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,i,r,o){return this}insert(e,t,i){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kx(this.data.getIterator())}getIteratorFrom(e){return new kx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sn(this.comparator);return t.data=e,t}}class kx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new ui([])}unionWith(e){let t=new sn(Tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ui(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xw("Invalid base64 string: "+o):o}}(e);return new En(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new En(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const CV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(n){if(mt(!!n,39018),typeof n=="string"){let e=0;const t=CV.exec(n);if(mt(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xs(n){return typeof n=="string"?En.fromBase64String(n):En.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="server_timestamp",Jw="__type__",e2="__previous_value__",t2="__local_write_time__";function rv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Jw])===null||t===void 0?void 0:t.stringValue)===Zw}function Bh(n){const e=n.mapValue.fields[e2];return rv(e)?Bh(e):e}function Cc(n){const e=Ws(n.mapValue.fields[t2].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,t,i,r,o,l,c,h,d,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=y}}const oh="(default)";class Sc{constructor(e,t){this.projectId=e,this.database=t||oh}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="__type__",wV="__max__",Sd={mapValue:{}},i2="__vector__",ah="value";function Zs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rv(n)?4:bV(n)?9007199254740991:AV(n)?10:11:Fe(28295,{value:n})}function cr(n,e){if(n===e)return!0;const t=Zs(n);if(t!==Zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cc(n).isEqual(Cc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Ws(r.timestampValue),c=Ws(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Xs(r.bytesValue).isEqual(Xs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ht(r.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(r.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ht(r.integerValue)===Ht(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Ht(r.doubleValue),c=Ht(o.doubleValue);return l===c?sh(l)===sh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return El(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(r,o){const l=r.mapValue.fields||{},c=o.mapValue.fields||{};if(Rx(l)!==Rx(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!cr(l[h],c[h])))return!1;return!0}(n,e);default:return Fe(52216,{left:n})}}function wc(n,e){return(n.values||[]).find(t=>cr(t,e))!==void 0}function xl(n,e){if(n===e)return 0;const t=Zs(n),i=Zs(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Ht(o.integerValue||o.doubleValue),h=Ht(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return Nx(n.timestampValue,e.timestampValue);case 4:return Nx(Cc(n),Cc(e));case 5:return cy(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Xs(o),h=Xs(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const y=Xe(c[d],h[d]);if(y!==0)return y}return Xe(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Xe(Ht(o.latitude),Ht(l.latitude));return c!==0?c:Xe(Ht(o.longitude),Ht(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Mx(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,h,d,y;const T=o.fields||{},E=l.fields||{},C=(c=T[ah])===null||c===void 0?void 0:c.arrayValue,I=(h=E[ah])===null||h===void 0?void 0:h.arrayValue,k=Xe(((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0,((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0);return k!==0?k:Mx(C,I)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Sd.mapValue&&l===Sd.mapValue)return 0;if(o===Sd.mapValue)return 1;if(l===Sd.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),d=l.fields||{},y=Object.keys(d);h.sort(),y.sort();for(let T=0;T<h.length&&T<y.length;++T){const E=cy(h[T],y[T]);if(E!==0)return E;const C=xl(c[h[T]],d[y[T]]);if(C!==0)return C}return Xe(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Fe(23264,{Pe:t})}}function Nx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=Ws(n),i=Ws(e),r=Xe(t.seconds,i.seconds);return r!==0?r:Xe(t.nanos,i.nanos)}function Mx(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const o=xl(t[r],i[r]);if(o)return o}return Xe(t.length,i.length)}function Cl(n){return fy(n)}function fy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ws(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=fy(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${fy(t.fields[l])}`;return r+"}"}(n.mapValue):Fe(61005,{value:n})}function Fd(n){switch(Zs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(n);return e?16+Fd(e):16;case 5:return 2*n.stringValue.length;case 6:return Xs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Fd(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return ro(i.fields,(o,l)=>{r+=o.length+Fd(l)}),r}(n.mapValue);default:throw Fe(13486,{value:n})}}function dy(n){return!!n&&"integerValue"in n}function sv(n){return!!n&&"arrayValue"in n}function Dx(n){return!!n&&"nullValue"in n}function Px(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zd(n){return!!n&&"mapValue"in n}function AV(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[n2])===null||t===void 0?void 0:t.stringValue)===i2}function cc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ro(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=cc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!zd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cc(t)}setAll(e){let t=Tn.emptyPath(),i={},r=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=c.popLast()}l?i[c.lastSegment()]=cc(l):r.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];zd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ro(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Wn(cc(this.value))}}function r2(n){const e=[];return ro(n.fields,(t,i)=>{const r=new Tn([t]);if(zd(i)){const o=r2(i.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)}),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t,i,r,o,l,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new bn(e,0,qe.min(),qe.min(),qe.min(),Wn.empty(),0)}static newFoundDocument(e,t,i,r){return new bn(e,1,t,qe.min(),i,r,0)}static newNoDocument(e,t){return new bn(e,2,t,qe.min(),qe.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,qe.min(),qe.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t){this.position=e,this.inclusive=t}}function Lx(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],l=n.position[r];if(o.field.isKeyField()?i=Pe.comparator(Pe.fromName(l.referenceValue),t.key):i=xl(l,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Vx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function IV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{}class rn extends s2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new kV(e,t,i):t==="array-contains"?new DV(e,i):t==="in"?new PV(e,i):t==="not-in"?new LV(e,i):t==="array-contains-any"?new VV(e,i):new rn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new NV(e,i):new MV(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xl(t,this.value)):t!==null&&Zs(this.value)===Zs(t)&&this.matchesComparison(xl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends s2{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new fr(e,t)}matches(e){return o2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function o2(n){return n.op==="and"}function a2(n){return RV(n)&&o2(n)}function RV(n){for(const e of n.filters)if(e instanceof fr)return!1;return!0}function hy(n){if(n instanceof rn)return n.field.canonicalString()+n.op.toString()+Cl(n.value);if(a2(n))return n.filters.map(e=>hy(e)).join(",");{const e=n.filters.map(t=>hy(t)).join(",");return`${n.op}(${e})`}}function l2(n,e){return n instanceof rn?function(i,r){return r instanceof rn&&i.op===r.op&&i.field.isEqual(r.field)&&cr(i.value,r.value)}(n,e):n instanceof fr?function(i,r){return r instanceof fr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,l,c)=>o&&l2(l,r.filters[c]),!0):!1}(n,e):void Fe(19439)}function u2(n){return n instanceof rn?function(t){return`${t.field.canonicalString()} ${t.op} ${Cl(t.value)}`}(n):n instanceof fr?function(t){return t.op.toString()+" {"+t.getFilters().map(u2).join(" ,")+"}"}(n):"Filter"}class kV extends rn{constructor(e,t,i){super(e,t,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class NV extends rn{constructor(e,t){super(e,"in",t),this.keys=c2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class MV extends rn{constructor(e,t){super(e,"not-in",t),this.keys=c2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function c2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class DV extends rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sv(t)&&wc(t.arrayValue,this.value)}}class PV extends rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wc(this.value.arrayValue,t)}}class LV extends rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wc(this.value.arrayValue,t)}}class VV extends rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>wc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,t=null,i=[],r=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=c,this.Ie=null}}function Ox(n,e=null,t=[],i=[],r=null,o=null,l=null){return new OV(n,e,t,i,r,o,l)}function ov(n){const e=$e(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>hy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cl(i)).join(",")),e.Ie=t}return e.Ie}function av(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!l2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vx(n.startAt,e.startAt)&&Vx(n.endAt,e.endAt)}function py(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t=null,i=[],r=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function UV(n,e,t,i,r,o,l,c){return new Hh(n,e,t,i,r,o,l,c)}function lv(n){return new Hh(n)}function Ux(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FV(n){return n.collectionGroup!==null}function fc(n){const e=$e(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new sn(Tn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new uh(o,i))}),t.has(Tn.keyField().canonicalString())||e.Ee.push(new uh(Tn.keyField(),i))}return e.Ee}function rr(n){const e=$e(n);return e.de||(e.de=zV(e,fc(n))),e.de}function zV(n,e){if(n.limitType==="F")return Ox(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new uh(r.field,o)});const t=n.endAt?new lh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new lh(n.startAt.position,n.startAt.inclusive):null;return Ox(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function my(n,e,t){return new Hh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qh(n,e){return av(rr(n),rr(e))&&n.limitType===e.limitType}function f2(n){return`${ov(rr(n))}|lt:${n.limitType}`}function el(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>u2(r)).join(", ")}]`),zh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Cl(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Cl(r)).join(",")),`Target(${i})`}(rr(n))}; limitType=${n.limitType})`}function Gh(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Pe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of fc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(l,c,h){const d=Lx(l,c,h);return l.inclusive?d<=0:d<0}(i.startAt,fc(i),r)||i.endAt&&!function(l,c,h){const d=Lx(l,c,h);return l.inclusive?d>=0:d>0}(i.endAt,fc(i),r))}(n,e)}function BV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function d2(n){return(e,t)=>{let i=!1;for(const r of fc(n)){const o=HV(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function HV(n,e,t){const i=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(o,l,c){const h=l.data.field(o),d=c.data.field(o);return h!==null&&d!==null?xl(h,d):Fe(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return Ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new Pt(Pe.comparator);function Zr(){return qV}const h2=new Pt(Pe.comparator);function oc(...n){let e=h2;for(const t of n)e=e.insert(t.key,t);return e}function p2(n){let e=h2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function qo(){return dc()}function m2(){return dc()}function dc(){return new ta(n=>n.toString(),(n,e)=>n.isEqual(e))}const GV=new Pt(Pe.comparator),$V=new sn(Pe.comparator);function nt(...n){let e=$V;for(const t of n)e=e.add(t);return e}const YV=new sn(Xe);function KV(){return YV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function g2(n){return{integerValue:""+n}}function jV(n,e){return TV(e)?g2(e):uv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function QV(n,e,t){return n instanceof ch?function(r,o){const l={fields:{[Jw]:{stringValue:Zw},[t2]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&rv(o)&&(o=Bh(o)),o&&(l.fields[e2]=o),{mapValue:l}}(t,e):n instanceof Ac?v2(n,e):n instanceof bc?_2(n,e):function(r,o){const l=y2(r,o),c=Fx(l)+Fx(r.Re);return dy(l)&&dy(r.Re)?g2(c):uv(r.serializer,c)}(n,e)}function WV(n,e,t){return n instanceof Ac?v2(n,e):n instanceof bc?_2(n,e):t}function y2(n,e){return n instanceof fh?function(i){return dy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class ch extends $h{}class Ac extends $h{constructor(e){super(),this.elements=e}}function v2(n,e){const t=T2(e);for(const i of n.elements)t.some(r=>cr(r,i))||t.push(i);return{arrayValue:{values:t}}}class bc extends $h{constructor(e){super(),this.elements=e}}function _2(n,e){let t=T2(e);for(const i of n.elements)t=t.filter(r=>!cr(r,i));return{arrayValue:{values:t}}}class fh extends $h{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Fx(n){return Ht(n.integerValue||n.doubleValue)}function T2(n){return sv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function XV(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Ac&&r instanceof Ac||i instanceof bc&&r instanceof bc?El(i.elements,r.elements,cr):i instanceof fh&&r instanceof fh?cr(i.Re,r.Re):i instanceof ch&&r instanceof ch}(n.transform,e.transform)}class ZV{constructor(e,t){this.version=e,this.transformResults=t}}class sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yh{}function E2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new C2(n.key,sr.none()):new Fc(n.key,n.data,sr.none());{const t=n.data,i=Wn.empty();let r=new sn(Tn.comparator);for(let o of e.fields)if(!r.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new so(n.key,i,new ui(r.toArray()),sr.none())}}function JV(n,e,t){n instanceof Fc?function(r,o,l){const c=r.value.clone(),h=Bx(r.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof so?function(r,o,l){if(!Bd(r.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Bx(r.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(x2(r)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function hc(n,e,t,i){return n instanceof Fc?function(o,l,c,h){if(!Bd(o.precondition,l))return c;const d=o.value.clone(),y=Hx(o.fieldTransforms,h,l);return d.setAll(y),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof so?function(o,l,c,h){if(!Bd(o.precondition,l))return c;const d=Hx(o.fieldTransforms,h,l),y=l.data;return y.setAll(x2(o)),y.setAll(d),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(o,l,c){return Bd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function eO(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=y2(i.transform,r||null);o!=null&&(t===null&&(t=Wn.empty()),t.set(i.field,o))}return t||null}function zx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&El(i,r,(o,l)=>XV(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Fc extends Yh{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class so extends Yh{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function x2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Bx(n,e,t){const i=new Map;mt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let r=0;r<t.length;r++){const o=n[r],l=o.transform,c=e.data.field(o.field);i.set(o.field,WV(l,c,t[r]))}return i}function Hx(n,e,t){const i=new Map;for(const r of n){const o=r.transform,l=t.data.field(r.field);i.set(r.field,QV(o,l,e))}return i}class C2 extends Yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tO extends Yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&JV(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=hc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=hc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=m2();return this.mutations.forEach(r=>{const o=e.get(r.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(r.key)?null:c;const h=E2(l,c);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(qe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(t,i)=>zx(t,i))&&El(this.baseMutations,e.baseMutations,(t,i)=>zx(t,i))}}class cv{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){mt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return GV}();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new cv(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,at;function sO(n){switch(n){case pe.OK:return Fe(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function S2(n){if(n===void 0)return Xr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Qt.OK:return pe.OK;case Qt.CANCELLED:return pe.CANCELLED;case Qt.UNKNOWN:return pe.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return pe.INTERNAL;case Qt.UNAVAILABLE:return pe.UNAVAILABLE;case Qt.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Qt.NOT_FOUND:return pe.NOT_FOUND;case Qt.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Qt.ABORTED:return pe.ABORTED;case Qt.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Qt.DATA_LOSS:return pe.DATA_LOSS;default:return Fe(39323,{code:n})}}(at=Qt||(Qt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new Ys([4294967295,4294967295],0);function qx(n){const e=Kw().encode(n),t=new Fw;return t.update(e),new Uint8Array(t.digest())}function Gx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ys([t,i],0),new Ys([r,o],0)]}class fv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ac(`Invalid padding: ${t}`);if(i<0)throw new ac(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ac(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ys.fromNumber(this.pe)}we(e,t,i){let r=e.add(t.multiply(Ys.fromNumber(i)));return r.compare(oO)===1&&(r=new Ys([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=qx(e),[i,r]=Gx(t);for(let o=0;o<this.hashCount;o++){const l=this.we(i,r,o);if(!this.be(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new fv(o,r,t);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=qx(e),[i,r]=Gx(t);for(let o=0;o<this.hashCount;o++){const l=this.we(i,r,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Kh(qe.min(),r,new Pt(Xe),Zr(),nt())}}class zc{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new zc(i,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t,i,r){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=r}}class w2{constructor(e,t){this.targetId=e,this.Ce=t}}class A2{constructor(e,t,i=En.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class $x{constructor(){this.Fe=0,this.Me=Yx(),this.xe=En.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),t=nt(),i=nt();return this.Me.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Fe(38017,{changeType:o})}}),new zc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Yx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class aO{constructor(e){this.ze=e,this.je=new Map,this.He=Zr(),this.Je=wd(),this.Ye=wd(),this.Ze=new Pt(Xe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Fe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,r)=>{this.it(r)&&t(r)})}ot(e){const t=e.targetId,i=e.Ce.count,r=this._t(t);if(r){const o=r.target;if(py(o))if(i===0){const l=new Pe(o.path);this.tt(t,l,bn.newNoDocument(l,qe.min()))}else mt(i===1,20013,{expectedCount:i});else{const l=this.ut(t);if(l!==i){const c=this.ct(e),h=c?this.lt(c,e,l):1;if(h!==0){this.st(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let l,c;try{l=Xs(i).toUint8Array()}catch(h){if(h instanceof Xw)return Tl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new fv(l,r,o)}catch(h){return Tl(h instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,o,null),r++)}),r}It(e){const t=new Map;this.je.forEach((o,l)=>{const c=this._t(l);if(c){if(o.current&&py(c.target)){const h=new Pe(c.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,bn.newNoDocument(h,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let i=nt();this.Ye.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const r=new Kh(e,t,this.Ze,this.He,i);return this.He=Zr(),this.Je=wd(),this.Ye=wd(),this.Ze=new Pt(Xe),r}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new $x,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new sn(Xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new sn(Xe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $x),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function wd(){return new Pt(Pe.comparator)}function Yx(){return new Pt(Pe.comparator)}const lO={asc:"ASCENDING",desc:"DESCENDING"},uO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cO={and:"AND",or:"OR"};class fO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gy(n,e){return n.useProto3Json||zh(e)?e:{value:e}}function dh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dO(n,e){return dh(n,e.toTimestamp())}function or(n){return mt(!!n,49232),qe.fromTimestamp(function(t){const i=Ws(t);return new Ut(i.seconds,i.nanos)}(n))}function dv(n,e){return yy(n,e).canonicalString()}function yy(n,e){const t=function(r){return new Ot(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function I2(n){const e=Ot.fromString(n);return mt(D2(e),10190,{key:e.toString()}),e}function vy(n,e){return dv(n.databaseId,e.path)}function vg(n,e){const t=I2(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(k2(t))}function R2(n,e){return dv(n.databaseId,e)}function hO(n){const e=I2(n);return e.length===4?Ot.emptyPath():k2(e)}function _y(n){return new Ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function k2(n){return mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Kx(n,e,t){return{name:vy(n,e),fields:t.value.mapValue.fields}}function pO(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Fe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(d,y){return d.useProto3Json?(mt(y===void 0||typeof y=="string",58123),En.fromBase64String(y||"")):(mt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),En.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(d){const y=d.code===void 0?pe.UNKNOWN:S2(d.code);return new Me(y,d.message||"")}(l);t=new A2(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=vg(n,i.document.name),o=or(i.document.updateTime),l=i.document.createTime?or(i.document.createTime):qe.min(),c=new Wn({mapValue:{fields:i.document.fields}}),h=bn.newFoundDocument(r,o,l,c),d=i.targetIds||[],y=i.removedTargetIds||[];t=new Hd(d,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=vg(n,i.document),o=i.readTime?or(i.readTime):qe.min(),l=bn.newNoDocument(r,o),c=i.removedTargetIds||[];t=new Hd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=vg(n,i.document),o=i.removedTargetIds||[];t=new Hd([],o,r,null)}else{if(!("filter"in e))return Fe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new rO(r,o),c=i.targetId;t=new w2(c,l)}}return t}function mO(n,e){let t;if(e instanceof Fc)t={update:Kx(n,e.key,e.value)};else if(e instanceof C2)t={delete:vy(n,e.key)};else if(e instanceof so)t={update:Kx(n,e.key,e.data),updateMask:SO(e.fieldMask)};else{if(!(e instanceof tO))return Fe(16599,{ft:e.type});t={verify:vy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof ch)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ac)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof fh)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Fe(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:dO(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe(27497)}(n,e.precondition)),t}function gO(n,e){return n&&n.length>0?(mt(e!==void 0,14353),n.map(t=>function(r,o){let l=r.updateTime?or(r.updateTime):or(o);return l.isEqual(qe.min())&&(l=or(o)),new ZV(l,r.transformResults||[])}(t,e))):[]}function yO(n,e){return{documents:[R2(n,e.path)]}}function vO(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=R2(n,r);const o=function(d){if(d.length!==0)return M2(fr.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(y=>function(E){return{field:tl(E.field),direction:EO(E.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=gy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:r}}function _O(n){let e=hO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){mt(i===1,65062);const y=t.from[0];y.allDescendants?r=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(T){const E=N2(T);return E instanceof fr&&a2(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(T){return T.map(E=>function(I){return new uh(nl(I.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(T){let E;return E=typeof T=="object"?T.value:T,zh(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(T){const E=!!T.before,C=T.values||[];return new lh(C,E)}(t.startAt));let d=null;return t.endAt&&(d=function(T){const E=!T.before,C=T.values||[];return new lh(C,E)}(t.endAt)),UV(e,r,l,o,c,"F",h,d)}function TO(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function N2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=nl(t.unaryFilter.field);return rn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=nl(t.unaryFilter.field);return rn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=nl(t.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=nl(t.unaryFilter.field);return rn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}}(n):n.fieldFilter!==void 0?function(t){return rn.create(nl(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return fr.create(t.compositeFilter.filters.map(i=>N2(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}}(t.compositeFilter.op))}(n):Fe(30097,{filter:n})}function EO(n){return lO[n]}function xO(n){return uO[n]}function CO(n){return cO[n]}function tl(n){return{fieldPath:n.canonicalString()}}function nl(n){return Tn.fromServerFormat(n.fieldPath)}function M2(n){return n instanceof rn?function(t){if(t.op==="=="){if(Px(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NAN"}};if(Dx(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Px(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NAN"}};if(Dx(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(t.field),op:xO(t.op),value:t.value}}}(n):n instanceof fr?function(t){const i=t.getFilters().map(r=>M2(r));return i.length===1?i[0]:{compositeFilter:{op:CO(t.op),filters:i}}}(n):Fe(54877,{filter:n})}function SO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function D2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t,i,r,o=qe.min(),l=qe.min(),c=En.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.wt=e}}function AO(n){const e=_O({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?my(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.Cn=new IO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Qs.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class IO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new sn(Ot.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new sn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P2=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(P2,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Sl(0)}static lr(){return new Sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="LruGarbageCollector",RO=1048576;function Wx([n,e],[t,i]){const r=Xe(n,t);return r===0?Xe(e,i):r}class kO{constructor(e){this.Er=e,this.buffer=new sn(Wx),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Wx(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Se(Qx,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pl(t)?Se(Qx,"Ignoring IndexedDB error during garbage collection: ",t):await Dl(t)}await this.mr(3e5)})}}class MO{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Fh.le);const i=new kO(t);return this.gr.forEachTarget(e,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(jx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jx):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,r,o,l,c,h,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,l=Date.now(),this.nthSequenceNumber(e,r))).next(T=>(i=T,c=Date.now(),this.removeTargets(e,i,t))).next(T=>(o=T,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(d=Date.now(),Ja()<=tt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${r} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${T} documents in `+(d-h)+`ms
Total Duration: ${d-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:T})))}}function DO(n,e){return new MO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.changes=new ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&hc(i.mutation,r,ui.empty(),Ut.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nt()){const r=qo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let l=oc();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=qo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,i,r){let o=Zr();const l=dc(),c=function(){return dc()}();return t.forEach((h,d)=>{const y=i.get(d.key);r.has(d.key)&&(y===void 0||y.mutation instanceof so)?o=o.insert(d.key,d):y!==void 0?(l.set(d.key,y.mutation.getFieldMask()),hc(y.mutation,d,y.mutation.getFieldMask(),Ut.now())):l.set(d.key,ui.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((d,y)=>l.set(d,y)),t.forEach((d,y)=>{var T;return c.set(d,new LO(y,(T=l.get(d))!==null&&T!==void 0?T:null))}),c))}recalculateAndSaveOverlays(e,t){const i=dc();let r=new Pt((l,c)=>l-c),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let y=i.get(h)||ui.empty();y=c.applyToLocalView(d,y),i.set(h,y);const T=(r.get(c.batchId)||nt()).add(h);r=r.insert(c.batchId,T)})}).next(()=>{const l=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,y=h.value,T=m2();y.forEach(E=>{if(!o.has(E)){const C=E2(t.get(E),i.get(E));C!==null&&T.set(E,C),o=o.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,T))}return ce.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(l){return Pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):ce.resolve(qo());let c=xc,h=o;return l.next(d=>ce.forEach(d,(y,T)=>(c<T.largestBatchId&&(c=T.largestBatchId),o.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{h=h.insert(y,E)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,h,d,nt())).next(y=>({batchId:c,changes:p2(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(i=>{let r=oc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let l=oc();return this.indexManager.getCollectionParents(e,o).next(c=>ce.forEach(c,h=>{const d=function(T,E){return new Hh(E,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(y=>{y.forEach((T,E)=>{l=l.insert(T,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(l=>{o.forEach((h,d)=>{const y=d.getKey();l.get(y)===null&&(l=l.insert(y,bn.newInvalidDocument(y)))});let c=oc();return l.forEach((h,d)=>{const y=o.get(h);y!==void 0&&hc(y.mutation,d,ui.empty(),Ut.now()),Gh(t,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ce.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:or(r.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(r){return{name:r.name,query:AO(r.bundledQuery),readTime:or(r.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.overlays=new Pt(Pe.comparator),this.Qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=qo();return ce.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.St(e,t,o)}),ce.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const r=qo(),o=t.length+1,l=new Pe(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Pt((d,y)=>d-y);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let y=o.get(d.largestBatchId);y===null&&(y=qo(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const c=qo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,y)=>c.set(d,y)),!(c.size()>=r)););return ce.resolve(c)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new iO(t,i));let o=this.Qr.get(t);o===void 0&&(o=nt(),this.Qr.set(t,o)),this.Qr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.$r=new sn(fn.Ur),this.Kr=new sn(fn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new fn(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new fn(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Pe(new Ot([])),i=new fn(t,e),r=new fn(t,e+1),o=[];return this.Kr.forEachInRange([i,r],l=>{this.zr(l),o.push(l.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Pe(new Ot([])),i=new fn(t,e),r=new fn(t,e+1);let o=nt();return this.Kr.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new fn(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class fn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Pe.comparator(e.key,t.key)||Xe(e.Zr,t.Zr)}static Wr(e,t){return Xe(e.Zr,t.Zr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new sn(fn.Ur)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new nO(o,t,i,r);this.mutationQueue.push(l);for(const c of r)this.Xr=this.Xr.add(new fn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(e,t){return ce.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ti(i),o=r<0?0:r;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?iv:this.nr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new fn(t,0),r=new fn(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([i,r],l=>{const c=this.ei(l.Zr);o.push(c)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new sn(Xe);return t.forEach(r=>{const o=new fn(r,0),l=new fn(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],c=>{i=i.add(c.Zr)})}),ce.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;Pe.isDocumentKey(o)||(o=o.child(""));const l=new fn(new Pe(o),0);let c=new sn(Xe);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(c=c.add(h.Zr)),!0)},l),ce.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(i=>{const r=this.ei(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){mt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ce.forEach(t.mutations,r=>{const o=new fn(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new fn(t,0),r=this.Xr.firstAfterOrEqual(i);return ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.ii=e,this.docs=function(){return new Pt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,l=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let i=Zr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():bn.newInvalidDocument(r))}),ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Zr();const l=t.path,c=new Pe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:y}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||gV(mV(y),i)<=0||(r.has(y.key)||Gh(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Fe(9500)}si(e,t){return ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new HO(this)}getSize(e){return ce.resolve(this.size)}}class HO extends PO{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(i)}),ce.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.persistence=e,this.oi=new ta(t=>ov(t),av),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this._i=0,this.ai=new hv,this.targetCount=0,this.ui=Sl.cr()}forEachTarget(e,t){return this.oi.forEach((i,r)=>t(r)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),ce.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Sl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Tr(t),ce.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),ce.waitFor(o).next(()=>r)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(l=>{o.push(r.markPotentiallyOrphaned(e,l))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,t){this.ci={},this.overlays={},this.li=new Fh(0),this.hi=!1,this.hi=!0,this.Pi=new FO,this.referenceDelegate=e(this),this.Ti=new qO(this),this.indexManager=new bO,this.remoteDocumentCache=function(r){return new BO(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new wO(t),this.Ei=new OO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new zO(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){Se("MemoryPersistence","Starting transaction:",e);const r=new GO(this.li.next());return this.referenceDelegate.di(),i(r).next(o=>this.referenceDelegate.Ai(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ri(e,t){return ce.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class GO extends vV{constructor(e){super(),this.currentSequenceNumber=e}}class pv{constructor(e){this.persistence=e,this.Vi=new hv,this.mi=null}static fi(e){return new pv(e)}get gi(){if(this.mi)return this.mi;throw Fe(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.gi.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.gi,i=>{const r=Pe.fromPath(i);return this.pi(e,r).next(o=>{o||t.removeEntry(r,qe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ce.or([()=>ce.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class hh{constructor(e,t){this.persistence=e,this.yi=new ta(i=>EV(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=DO(this,t)}static fi(e,t){return new hh(e,t)}di(){}Ai(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return ce.forEach(this.yi,(i,r)=>this.Dr(e,i,r).next(o=>o?ce.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.si(e,l=>this.Dr(e,l,t).next(c=>{c||(i++,o.removeEntry(l,qe.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ce.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fd(e.data.value)),t}Dr(e,t,i){return ce.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.yi.get(t);return ce.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ds=i,this.As=r}static Rs(e,t){let i=nt(),r=nt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new mv(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return B9()?8:_V(In())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.ws(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.bs(e,t,r,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new $O;return this.Ss(e,t,l).next(c=>{if(o.result=c,this.fs)return this.Ds(e,t,l,c.size)})}).next(()=>o.result)}Ds(e,t,i,r){return i.documentReadCount<this.gs?(Ja()<=tt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",el(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ce.resolve()):(Ja()<=tt.DEBUG&&Se("QueryEngine","Query:",el(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Ja()<=tt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",el(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(t))):ce.resolve())}ws(e,t){if(Ux(t))return ce.resolve(null);let i=rr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=my(t,null,"F"),i=rr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=nt(...o);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const d=this.vs(t,c);return this.Cs(t,d,l,h.readTime)?this.ws(e,my(t,null,"F")):this.Fs(e,d,t,h)}))})))}bs(e,t,i,r){return Ux(t)||r.isEqual(qe.min())?ce.resolve(null):this.ys.getDocuments(e,i).next(o=>{const l=this.vs(t,o);return this.Cs(t,l,i,r)?ce.resolve(null):(Ja()<=tt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),el(t)),this.Fs(e,l,t,pV(r,xc)).next(c=>c))})}vs(e,t){let i=new sn(d2(e));return t.forEach((r,o)=>{Gh(e,o)&&(i=i.add(o))}),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,i){return Ja()<=tt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",el(t)),this.ys.getDocumentsMatchingQuery(e,t,Qs.min(),i)}Fs(e,t,i,r){return this.ys.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="LocalStore",KO=3e8;class jO{constructor(e,t,i,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new Pt(Xe),this.Os=new ta(o=>ov(o),av),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function QO(n,e,t,i){return new jO(n,e,t,i)}async function V2(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let h=nt();for(const d of r){l.push(d.batchId);for(const y of d.mutations)h=h.add(y.key)}for(const d of o){c.push(d.batchId);for(const y of d.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(i,h).next(d=>({ks:d,removedBatchIds:l,addedBatchIds:c}))})})}function WO(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,h,d,y){const T=d.batch,E=T.keys();let C=ce.resolve();return E.forEach(I=>{C=C.next(()=>y.getEntry(h,I)).next(k=>{const F=d.docVersions.get(I);mt(F!==null,48541),k.version.compareTo(F)<0&&(T.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),y.addEntry(k)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(h,T))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=nt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function O2(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function XO(n,e){const t=$e(n),i=e.snapshotVersion;let r=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});r=t.xs;const c=[];e.targetChanges.forEach((y,T)=>{const E=r.get(T);if(!E)return;c.push(t.Ti.removeMatchingKeys(o,y.removedDocuments,T).next(()=>t.Ti.addMatchingKeys(o,y.addedDocuments,T)));let C=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(En.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,i)),r=r.insert(T,C),function(k,F,U){return k.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=KO?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(E,C,y)&&c.push(t.Ti.updateTargetData(o,C))});let h=Zr(),d=nt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),c.push(ZO(o,l,e.documentUpdates).next(y=>{h=y.qs,d=y.Qs})),!i.isEqual(qe.min())){const y=t.Ti.getLastRemoteSnapshotVersion(o).next(T=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(y)}return ce.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,d)).next(()=>h)}).then(o=>(t.xs=r,o))}function ZO(n,e,t){let i=nt(),r=nt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let l=Zr();return t.forEach((c,h)=>{const d=o.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),h.isNoDocument()&&h.version.isEqual(qe.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Se(gv,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{qs:l,Qs:r}})}function JO(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=iv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function e8(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ti.getTargetData(i,e).next(o=>o?(r=o,ce.resolve(r)):t.Ti.allocateTargetId(i).next(l=>(r=new Bs(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Ty(n,e,t){const i=$e(n),r=i.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!Pl(l))throw l;Se(gv,`Failed to update sequence numbers for target ${e}: ${l}`)}i.xs=i.xs.remove(e),i.Os.delete(r.target)}function Xx(n,e,t){const i=$e(n);let r=qe.min(),o=nt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,y){const T=$e(h),E=T.Os.get(y);return E!==void 0?ce.resolve(T.xs.get(E)):T.Ti.getTargetData(d,y)}(i,l,rr(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>i.Ms.getDocumentsMatchingQuery(l,e,t?r:qe.min(),t?o:nt())).next(c=>(t8(i,BV(e),c),{documents:c,$s:o})))}function t8(n,e,t){let i=n.Ns.get(e)||qe.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ns.set(e,i)}class Zx{constructor(){this.activeTargetIds=KV()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n8{constructor(){this.xo=new Zx,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Zx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="ConnectivityMonitor";class eC{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Se(Jx,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Se(Jx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function Ey(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="RestConnection",r8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s8{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===oh?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(e,t,i,r,o){const l=Ey(),c=this.jo(e,t.toUriEncodedString());Se(_g,`Sending RPC '${e}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,r,o);const{host:d}=new URL(c),y=Vc(d);return this.Jo(e,c,h,i,y).then(T=>(Se(_g,`Received RPC '${e}' ${l}: `,T),T),T=>{throw Tl(_g,`RPC '${e}' ${l} failed with error: `,T,"url: ",c,"request:",i),T})}Yo(e,t,i,r,o,l){return this.zo(e,t,i,r,o)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}jo(e,t){const i=r8[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class a8 extends s8{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,o){const l=Ey();return new Promise((c,h)=>{const d=new zw;d.setWithCredentials(!0),d.listenOnce(Bw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ud.NO_ERROR:const T=d.getResponseJson();Se(wn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(T)),c(T);break;case Ud.TIMEOUT:Se(wn,`RPC '${e}' ${l} timed out`),h(new Me(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const E=d.getStatus();if(Se(wn,`RPC '${e}' ${l} failed with status:`,E,"response text:",d.getResponseText()),E>0){let C=d.getResponseJson();Array.isArray(C)&&(C=C[0]);const I=C==null?void 0:C.error;if(I&&I.status&&I.message){const k=function(U){const q=U.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(q)>=0?q:pe.UNKNOWN}(I.status);h(new Me(k,I.message))}else h(new Me(pe.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Me(pe.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{h_:e,streamId:l,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{Se(wn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(r);Se(wn,`RPC '${e}' ${l} sending request:`,r),d.send(t,"POST",y,i,15)})}I_(e,t,i){const r=Ey(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Gw(),c=qw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const y=o.join("");Se(wn,`Creating RPC '${e}' stream ${r}: ${y}`,h);const T=l.createWebChannel(y,h);this.E_(T);let E=!1,C=!1;const I=new o8({Zo:F=>{C?Se(wn,`Not sending because RPC '${e}' stream ${r} is closed:`,F):(E||(Se(wn,`Opening RPC '${e}' stream ${r} transport.`),T.open(),E=!0),Se(wn,`RPC '${e}' stream ${r} sending:`,F),T.send(F))},Xo:()=>T.close()}),k=(F,U,q)=>{F.listen(U,G=>{try{q(G)}catch(re){setTimeout(()=>{throw re},0)}})};return k(T,sc.EventType.OPEN,()=>{C||(Se(wn,`RPC '${e}' stream ${r} transport opened.`),I.__())}),k(T,sc.EventType.CLOSE,()=>{C||(C=!0,Se(wn,`RPC '${e}' stream ${r} transport closed`),I.u_(),this.d_(T))}),k(T,sc.EventType.ERROR,F=>{C||(C=!0,Tl(wn,`RPC '${e}' stream ${r} transport errored. Name:`,F.name,"Message:",F.message),I.u_(new Me(pe.UNAVAILABLE,"The operation could not be completed")))}),k(T,sc.EventType.MESSAGE,F=>{var U;if(!C){const q=F.data[0];mt(!!q,16349);const G=q,re=(G==null?void 0:G.error)||((U=G[0])===null||U===void 0?void 0:U.error);if(re){Se(wn,`RPC '${e}' stream ${r} received error:`,re);const ie=re.status;let Y=function(N){const O=Qt[N];if(O!==void 0)return S2(O)}(ie),V=re.message;Y===void 0&&(Y=pe.INTERNAL,V="Unknown error status: "+ie+" with message "+re.message),C=!0,I.u_(new Me(Y,V)),T.close()}else Se(wn,`RPC '${e}' stream ${r} received:`,q),I.c_(q)}}),k(c,Hw.STAT_EVENT,F=>{F.stat===uy.PROXY?Se(wn,`RPC '${e}' stream ${r} detected buffering proxy`):F.stat===uy.NOPROXY&&Se(wn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Tg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(n){return new fO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,t,i=1e3,r=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=r,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-i);r>0&&Se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="PersistentStream";class F2{constructor(e,t,i,r,o,l,c,h){this.xi=e,this.S_=i,this.D_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new U2(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===t&&this.z_(i,r)},i=>{e(()=>{const r=new Me(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Se(tC,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Se(tC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l8 extends F2{constructor(e,t,i,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=pO(this.serializer,e),i=function(o){if(!("targetChange"in o))return qe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?qe.min():l.readTime?or(l.readTime):qe.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=_y(this.serializer),t.addTarget=function(o,l){let c;const h=l.target;if(c=py(h)?{documents:yO(o,h)}:{query:vO(o,h).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=b2(o,l.resumeToken);const d=gy(o,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(qe.min())>0){c.readTime=dh(o,l.snapshotVersion.toTimestamp());const d=gy(o,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const i=TO(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=_y(this.serializer),t.removeTarget=e,this.Q_(t)}}class u8 extends F2{constructor(e,t,i,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=gO(e.writeResults,e.commitTime),i=or(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=_y(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>mO(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{}class f8 extends c8{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Me(pe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.zo(e,yy(t,i),r,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(pe.UNKNOWN,o.toString())})}Yo(e,t,i,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,yy(t,i),r,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Me(pe.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class d8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Xr(t),this.ua=!1):Se("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="RemoteStore";class h8{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(l=>{i.enqueueAndForget(async()=>{na(this)&&(Se(Xo,"Restarting streams for network reachability change."),await async function(h){const d=$e(h);d.da.add(4),await Hc(d),d.Va.set("Unknown"),d.da.delete(4),await Bc(d)}(this))})}),this.Va=new d8(i,r)}}async function Bc(n){if(na(n))for(const e of n.Aa)await e(!0)}async function Hc(n){for(const e of n.Aa)await e(!1)}function z2(n,e){const t=$e(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Tv(t)?_v(t):Ll(t).N_()&&vv(t,e))}function yv(n,e){const t=$e(n),i=Ll(t);t.Ea.delete(e),i.N_()&&B2(t,e),t.Ea.size===0&&(i.N_()?i.k_():na(t)&&t.Va.set("Unknown"))}function vv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ll(n).Z_(e)}function B2(n,e){n.ma.Ke(e),Ll(n).X_(e)}function _v(n){n.ma=new aO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ll(n).start(),n.Va.ca()}function Tv(n){return na(n)&&!Ll(n).O_()&&n.Ea.size>0}function na(n){return $e(n).da.size===0}function H2(n){n.ma=void 0}async function p8(n){n.Va.set("Online")}async function m8(n){n.Ea.forEach((e,t)=>{vv(n,e)})}async function g8(n,e){H2(n),Tv(n)?(n.Va.Pa(e),_v(n)):n.Va.set("Unknown")}async function y8(n,e,t){if(n.Va.set("Online"),e instanceof A2&&e.state===2&&e.cause)try{await async function(r,o){const l=o.cause;for(const c of o.targetIds)r.Ea.has(c)&&(await r.remoteSyncer.rejectListen(c,l),r.Ea.delete(c),r.ma.removeTarget(c))}(n,e)}catch(i){Se(Xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ph(n,i)}else if(e instanceof Hd?n.ma.Xe(e):e instanceof w2?n.ma.ot(e):n.ma.nt(e),!t.isEqual(qe.min()))try{const i=await O2(n.localStore);t.compareTo(i)>=0&&await function(o,l){const c=o.ma.It(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.Ea.get(d);y&&o.Ea.set(d,y.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const y=o.Ea.get(h);if(!y)return;o.Ea.set(h,y.withResumeToken(En.EMPTY_BYTE_STRING,y.snapshotVersion)),B2(o,h);const T=new Bs(y.target,h,d,y.sequenceNumber);vv(o,T)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){Se(Xo,"Failed to raise snapshot:",i),await ph(n,i)}}async function ph(n,e,t){if(!Pl(e))throw e;n.da.add(1),await Hc(n),n.Va.set("Offline"),t||(t=()=>O2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se(Xo,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Bc(n)})}function q2(n,e){return e().catch(t=>ph(n,t,e))}async function Qh(n){const e=$e(n),t=Js(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:iv;for(;v8(e);)try{const r=await JO(e.localStore,i);if(r===null){e.Ia.length===0&&t.k_();break}i=r.batchId,_8(e,r)}catch(r){await ph(e,r)}G2(e)&&$2(e)}function v8(n){return na(n)&&n.Ia.length<10}function _8(n,e){n.Ia.push(e);const t=Js(n);t.N_()&&t.ea&&t.ta(e.mutations)}function G2(n){return na(n)&&!Js(n).O_()&&n.Ia.length>0}function $2(n){Js(n).start()}async function T8(n){Js(n).ia()}async function E8(n){const e=Js(n);for(const t of n.Ia)e.ta(t.mutations)}async function x8(n,e,t){const i=n.Ia.shift(),r=cv.from(i,e,t);await q2(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Qh(n)}async function C8(n,e){e&&Js(n).ea&&await async function(i,r){if(function(l){return sO(l)&&l!==pe.ABORTED}(r.code)){const o=i.Ia.shift();Js(i).L_(),await q2(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Qh(i)}}(n,e),G2(n)&&$2(n)}async function nC(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Se(Xo,"RemoteStore received new credentials");const i=na(t);t.da.add(3),await Hc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Bc(t)}async function S8(n,e){const t=$e(n);e?(t.da.delete(2),await Bc(t)):e||(t.da.add(2),await Hc(t),t.Va.set("Unknown"))}function Ll(n){return n.fa||(n.fa=function(t,i,r){const o=$e(t);return o.oa(),new l8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{e_:p8.bind(null,n),n_:m8.bind(null,n),i_:g8.bind(null,n),Y_:y8.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Tv(n)?_v(n):n.Va.set("Unknown")):(await n.fa.stop(),H2(n))})),n.fa}function Js(n){return n.ga||(n.ga=function(t,i,r){const o=$e(t);return o.oa(),new u8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:T8.bind(null,n),i_:C8.bind(null,n),na:E8.bind(null,n),ra:x8.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Qh(n)):(await n.ga.stop(),n.Ia.length>0&&(Se(Xo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const l=Date.now()+i,c=new Ev(e,t,l,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xv(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),Pl(n))return new Me(pe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Pe.comparator(t.key,i.key):(t,i)=>Pe.comparator(t.key,i.key),this.keyedMap=oc(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new al;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.pa=new Pt(Pe.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Fe(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class wl{constructor(e,t,i,r,o,l,c,h,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new wl(e,t,al.emptySet(t),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class A8{constructor(){this.queries=rC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=$e(t),o=r.queries;r.queries=rC(),o.forEach((l,c)=>{for(const h of c.Sa)h.onError(i)})})(this,new Me(pe.ABORTED,"Firestore shutting down"))}}function rC(){return new ta(n=>f2(n),qh)}async function b8(n,e){const t=$e(n);let i=3;const r=e.query;let o=t.queries.get(r);o?!o.Da()&&e.va()&&(i=2):(o=new w8,i=e.va()?0:1);try{switch(i){case 0:o.ba=await t.onListen(r,!0);break;case 1:o.ba=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(l){const c=xv(l,`Initialization of query '${el(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&Cv(t)}async function I8(n,e){const t=$e(n),i=e.query;let r=3;const o=t.queries.get(i);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=e.va()?0:1:!o.Da()&&e.va()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function R8(n,e){const t=$e(n);let i=!1;for(const r of e){const o=r.query,l=t.queries.get(o);if(l){for(const c of l.Sa)c.Ma(r)&&(i=!0);l.ba=r}}i&&Cv(t)}function k8(n,e,t){const i=$e(n),r=i.queries.get(e);if(r)for(const o of r.Sa)o.onError(t);i.queries.delete(e)}function Cv(n){n.Ca.forEach(e=>{e.next()})}var xy,sC;(sC=xy||(xy={})).xa="default",sC.Cache="cache";class N8{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new wl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.key=e}}class K2{constructor(e){this.key=e}}class M8{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=nt(),this.mutatedKeys=nt(),this.Za=d2(e),this.Xa=new al(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new iC,r=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,l=r,c=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((y,T)=>{const E=r.get(y),C=Gh(this.query,T)?T:null,I=!!E&&this.mutatedKeys.has(E.key),k=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let F=!1;E&&C?E.data.isEqual(C.data)?I!==k&&(i.track({type:3,doc:C}),F=!0):this.ru(E,C)||(i.track({type:2,doc:C}),F=!0,(h&&this.Za(C,h)>0||d&&this.Za(C,d)<0)&&(c=!0)):!E&&C?(i.track({type:0,doc:C}),F=!0):E&&!C&&(i.track({type:1,doc:E}),F=!0,(h||d)&&(c=!0)),F&&(C?(l=l.add(C),o=k?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{Xa:l,nu:i,Cs:c,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((y,T)=>function(C,I){const k=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Vt:F})}};return k(C)-k(I)}(y.type,T.type)||this.Za(y.doc,T.doc)),this.iu(i),r=r!=null&&r;const c=t&&!r?this.su():[],h=this.Ya.size===0&&this.current&&!r?1:0,d=h!==this.Ja;return this.Ja=h,l.length!==0||d?{snapshot:new wl(this.query,e.Xa,o,l,e.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new iC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=nt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new K2(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new Y2(i))}),t}au(e){this.Ha=e.$s,this.Ya=nt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return wl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Sv="SyncEngine";class D8{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class P8{constructor(e){this.key=e,this.cu=!1}}class L8{constructor(e,t,i,r,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new ta(c=>f2(c),qh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pt(Pe.comparator),this.Eu=new Map,this.du=new hv,this.Au={},this.Ru=new Map,this.Vu=Sl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function V8(n,e,t=!0){const i=J2(n);let r;const o=i.hu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.uu()):r=await j2(i,e,t,!0),r}async function O8(n,e){const t=J2(n);await j2(t,e,!0,!1)}async function j2(n,e,t,i){const r=await e8(n.localStore,rr(e)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return i&&(c=await U8(n,e,o,l==="current",r.resumeToken)),n.isPrimaryClient&&t&&z2(n.remoteStore,r),c}async function U8(n,e,t,i,r){n.fu=(T,E,C)=>async function(k,F,U,q){let G=F.view.tu(U);G.Cs&&(G=await Xx(k.localStore,F.query,!1).then(({documents:V})=>F.view.tu(V,G)));const re=q&&q.targetChanges.get(F.targetId),ie=q&&q.targetMismatches.get(F.targetId)!=null,Y=F.view.applyChanges(G,k.isPrimaryClient,re,ie);return aC(k,F.targetId,Y.ou),Y.snapshot}(n,T,E,C);const o=await Xx(n.localStore,e,!0),l=new M8(e,o.$s),c=l.tu(o.documents),h=zc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=l.applyChanges(c,n.isPrimaryClient,h);aC(n,t,d.ou);const y=new D8(e,t,l);return n.hu.set(e,y),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),d.snapshot}async function F8(n,e,t){const i=$e(n),r=i.hu.get(e),o=i.Pu.get(r.targetId);if(o.length>1)return i.Pu.set(r.targetId,o.filter(l=>!qh(l,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ty(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&yv(i.remoteStore,r.targetId),Cy(i,r.targetId)}).catch(Dl)):(Cy(i,r.targetId),await Ty(i.localStore,r.targetId,!0))}async function z8(n,e){const t=$e(n),i=t.hu.get(e),r=t.Pu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),yv(t.remoteStore,i.targetId))}async function B8(n,e,t){const i=j8(n);try{const r=await function(l,c){const h=$e(l),d=Ut.now(),y=c.reduce((C,I)=>C.add(I.key),nt());let T,E;return h.persistence.runTransaction("Locally write mutations","readwrite",C=>{let I=Zr(),k=nt();return h.Bs.getEntries(C,y).next(F=>{I=F,I.forEach((U,q)=>{q.isValidDocument()||(k=k.add(U))})}).next(()=>h.localDocuments.getOverlayedDocuments(C,I)).next(F=>{T=F;const U=[];for(const q of c){const G=eO(q,T.get(q.key).overlayedDocument);G!=null&&U.push(new so(q.key,G,r2(G.value.mapValue),sr.exists(!0)))}return h.mutationQueue.addMutationBatch(C,d,U,c)}).next(F=>{E=F;const U=F.applyToLocalDocumentSet(T,k);return h.documentOverlayCache.saveOverlays(C,F.batchId,U)})}).then(()=>({batchId:E.batchId,changes:p2(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,c,h){let d=l.Au[l.currentUser.toKey()];d||(d=new Pt(Xe)),d=d.insert(c,h),l.Au[l.currentUser.toKey()]=d}(i,r.batchId,t),await qc(i,r.changes),await Qh(i.remoteStore)}catch(r){const o=xv(r,"Failed to persist write");t.reject(o)}}async function Q2(n,e){const t=$e(n);try{const i=await XO(t.localStore,e);e.targetChanges.forEach((r,o)=>{const l=t.Eu.get(o);l&&(mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.cu=!0:r.modifiedDocuments.size>0?mt(l.cu,14607):r.removedDocuments.size>0&&(mt(l.cu,42227),l.cu=!1))}),await qc(t,i,e)}catch(i){await Dl(i)}}function oC(n,e,t){const i=$e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.hu.forEach((o,l)=>{const c=l.view.Fa(e);c.snapshot&&r.push(c.snapshot)}),function(l,c){const h=$e(l);h.onlineState=c;let d=!1;h.queries.forEach((y,T)=>{for(const E of T.Sa)E.Fa(c)&&(d=!0)}),d&&Cv(h)}(i.eventManager,e),r.length&&i.lu.Y_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function H8(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Eu.get(e),o=r&&r.key;if(o){let l=new Pt(Pe.comparator);l=l.insert(o,bn.newNoDocument(o,qe.min()));const c=nt().add(o),h=new Kh(qe.min(),new Map,new Pt(Xe),l,c);await Q2(i,h),i.Iu=i.Iu.remove(o),i.Eu.delete(e),wv(i)}else await Ty(i.localStore,e,!1).then(()=>Cy(i,e,t)).catch(Dl)}async function q8(n,e){const t=$e(n),i=e.batch.batchId;try{const r=await WO(t.localStore,e);X2(t,i,null),W2(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await qc(t,r)}catch(r){await Dl(r)}}async function G8(n,e,t){const i=$e(n);try{const r=await function(l,c){const h=$e(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let y;return h.mutationQueue.lookupMutationBatch(d,c).next(T=>(mt(T!==null,37113),y=T.keys(),h.mutationQueue.removeMutationBatch(d,T))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y)).next(()=>h.localDocuments.getDocuments(d,y))})}(i.localStore,e);X2(i,e,t),W2(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await qc(i,r)}catch(r){await Dl(r)}}function W2(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function X2(n,e,t){const i=$e(n);let r=i.Au[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Au[i.currentUser.toKey()]=r}}function Cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||Z2(n,i)})}function Z2(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(yv(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),wv(n))}function aC(n,e,t){for(const i of t)i instanceof Y2?(n.du.addReference(i.key,e),$8(n,i)):i instanceof K2?(Se(Sv,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||Z2(n,i.key)):Fe(19791,{pu:i})}function $8(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(Se(Sv,"New document in limbo: "+t),n.Tu.add(i),wv(n))}function wv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Pe(Ot.fromString(e)),i=n.Vu.next();n.Eu.set(i,new P8(t)),n.Iu=n.Iu.insert(t,i),z2(n.remoteStore,new Bs(rr(lv(t.path)),i,"TargetPurposeLimboResolution",Fh.le))}}async function qc(n,e,t){const i=$e(n),r=[],o=[],l=[];i.hu.isEmpty()||(i.hu.forEach((c,h)=>{l.push(i.fu(h,e,t).then(d=>{var y;if((d||t)&&i.isPrimaryClient){const T=d?!d.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(h.targetId,T?"current":"not-current")}if(d){r.push(d);const T=mv.Rs(h.targetId,d);o.push(T)}}))}),await Promise.all(l),i.lu.Y_(r),await async function(h,d){const y=$e(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ce.forEach(d,E=>ce.forEach(E.ds,C=>y.persistence.referenceDelegate.addReference(T,E.targetId,C)).next(()=>ce.forEach(E.As,C=>y.persistence.referenceDelegate.removeReference(T,E.targetId,C)))))}catch(T){if(!Pl(T))throw T;Se(gv,"Failed to update sequence numbers: "+T)}for(const T of d){const E=T.targetId;if(!T.fromCache){const C=y.xs.get(E),I=C.snapshotVersion,k=C.withLastLimboFreeSnapshotVersion(I);y.xs=y.xs.insert(E,k)}}}(i.localStore,o))}async function Y8(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Se(Sv,"User change. New user:",e.toKey());const i=await V2(t.localStore,e);t.currentUser=e,function(o,l){o.Ru.forEach(c=>{c.forEach(h=>{h.reject(new Me(pe.CANCELLED,l))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await qc(t,i.ks)}}function K8(n,e){const t=$e(n),i=t.Eu.get(e);if(i&&i.cu)return nt().add(i.key);{let r=nt();const o=t.Pu.get(e);if(!o)return r;for(const l of o){const c=t.hu.get(l);r=r.unionWith(c.view.eu)}return r}}function J2(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H8.bind(null,e),e.lu.Y_=R8.bind(null,e.eventManager),e.lu.gu=k8.bind(null,e.eventManager),e}function j8(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G8.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return QO(this.persistence,new YO,e.initialUser,this.serializer)}Su(e){return new L2(pv.fi,this.serializer)}bu(e){return new n8}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class Q8 extends mh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){mt(this.persistence.referenceDelegate instanceof hh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new NO(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new L2(i=>hh.fi(i,t),this.serializer)}}class Sy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y8.bind(null,this.syncEngine),await S8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A8}()}createDatastore(e){const t=jh(e.databaseInfo.databaseId),i=function(o){return new a8(o)}(e.databaseInfo);return function(o,l,c,h){return new f8(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,o,l,c){return new h8(i,r,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>oC(this.syncEngine,t,0),function(){return eC.C()?new eC:new i8}())}createSyncEngine(e,t){return function(r,o,l,c,h,d,y){const T=new L8(r,o,l,c,h,d);return y&&(T.mu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const o=$e(r);Se(Xo,"RemoteStore shutting down."),o.da.add(5),await Hc(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Sy.provider={build:()=>new Sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="FirestoreClient";class X8{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=An.UNAUTHENTICATED,this.clientId=jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{Se(eo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Se(eo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=xv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Eg(n,e){n.asyncQueue.verifyOperationInProgress(),Se(eo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await V2(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function lC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eA(n);Se(eo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>nC(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>nC(e.remoteStore,r)),n._onlineComponents=e}async function eA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(eo,"Using user provided OfflineComponentProvider");try{await Eg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===pe.FAILED_PRECONDITION||r.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Tl("Error using user provided cache. Falling back to memory cache: "+t),await Eg(n,new mh)}}else Se(eo,"Using default OfflineComponentProvider"),await Eg(n,new Q8(void 0));return n._offlineComponents}async function Av(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(eo,"Using user provided OnlineComponentProvider"),await lC(n,n._uninitializedComponentsProvider._online)):(Se(eo,"Using default OnlineComponentProvider"),await lC(n,new Sy))),n._onlineComponents}function Z8(n){return eA(n).then(e=>e.persistence)}function J8(n){return Av(n).then(e=>e.remoteStore)}function eU(n){return Av(n).then(e=>e.syncEngine)}async function tU(n){const e=await Av(n),t=e.eventManager;return t.onListen=V8.bind(null,e.syncEngine),t.onUnlisten=F8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=O8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=z8.bind(null,e.syncEngine),t}function nU(n){return n.asyncQueue.enqueue(async()=>{const e=await Z8(n),t=await J8(n);return e.setNetworkEnabled(!0),function(r){const o=$e(r);return o.da.delete(0),Bc(o)}(t)})}function iU(n,e,t={}){const i=new Ks;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,d){const y=new W8({next:E=>{y.xu(),l.enqueueAndForget(()=>I8(o,T));const C=E.docs.has(c);!C&&E.fromCache?d.reject(new Me(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&h&&h.source==="server"?d.reject(new Me(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(E)},error:E=>d.reject(E)}),T=new N8(lv(c.path),y,{includeMetadataChanges:!0,Qa:!0});return b8(o,T)}(await tU(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(n,e,t){if(!t)throw new Me(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sU(n,e,t,i){if(e===!0&&i===!0)throw new Me(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cC(n){if(!Pe.isDocumentKey(n))throw new Me(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function to(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bv(n);throw new Me(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firestore.googleapis.com",fC=!0;class dC{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nA,this.ssl=fC}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:fC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RO)throw new Me(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Me(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Me(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Me(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Iv{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new sV;switch(i.type){case"firstParty":return new uV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Me(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=uC.get(t);i&&(Se("ComponentProvider","Removing Datastore"),uC.delete(t),i.terminate())}(this),Promise.resolve()}}function oU(n,e,t,i={}){var r;n=to(n,Iv);const o=Vc(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o&&(Nw(`https://${h}`),Mw("Firestore",!0)),l.host!==nA&&l.host!==h&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:i});if(!jo(d,c)&&(n._setSettings(d),i.mockUserToken)){let y,T;if(typeof i.mockUserToken=="string")y=i.mockUserToken,T=An.MOCK_USER;else{y=M9(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new Me(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new An(E)}n._authCredentials=new oV(new Yw(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Rv(this.firestore,e,this._query)}}class fi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fi(this.firestore,e,this._key)}}class Ic extends Rv{constructor(e,t,i){super(e,t,lv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fi(this.firestore,null,new Pe(e))}withConverter(e){return new Ic(this.firestore,e,this._path)}}function Jr(n,e,...t){if(n=Rn(n),arguments.length===1&&(e=jw.newId()),rU("doc","path",e),n instanceof Iv){const i=Ot.fromString(e,...t);return cC(i),new fi(n,null,new Pe(i))}{if(!(n instanceof fi||n instanceof Ic))throw new Me(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ot.fromString(e,...t));return cC(i),new fi(n.firestore,n instanceof Ic?n.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="AsyncQueue";class pC{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new U2(this,"async_queue_retry"),this.rc=()=>{const i=Tg();i&&Se(hC,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Tg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Tg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ks;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Pl(e))throw e;Se(hC,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Xr("INTERNAL UNHANDLED ERROR: ",mC(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=Ev.createAndSchedule(this,e,t,i,o=>this.uc(o));return this.Zu.push(r),r}oc(){this.Xu&&Fe(47125,{cc:mC(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function mC(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Gc extends Iv{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new pC,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pC(e),this._firestoreClient=void 0,await e}}}function aU(n,e){const t=typeof n=="object"?n:Vw(),i=typeof n=="string"?n:oh,r=tv(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=k9("firestore");o&&oU(r,...o)}return r}function kv(n){if(n._terminated)throw new Me(pe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lU(n),n._firestoreClient}function lU(n){var e,t,i;const r=n._freezeSettings(),o=function(c,h,d,y){return new SV(c,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,tA(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new X8(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}function uU(n){return nU(kv(n=to(n,Gc)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Al(En.fromBase64String(e))}catch(t){throw new Me(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Al(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Me(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=/^__.*__$/;class fU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fc(e,this.data,t,this.fieldTransforms)}}class iA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new so(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ic:n})}}class Pv{constructor(e,t,i,r,o,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Vc(e),r}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return gh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(rA(this.Ic)&&cU.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class dU{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||jh(e)}bc(e,t,i,r=!1){return new Pv({Ic:e,methodName:t,wc:i,path:Tn.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sA(n){const e=n._freezeSettings(),t=jh(n._databaseId);return new dU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hU(n,e,t,i,r,o={}){const l=n.bc(o.merge||o.mergeFields?2:0,e,t,r);Lv("Data must be an object, but it was:",l,i);const c=oA(i,l);let h,d;if(o.merge)h=new ui(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const T of o.mergeFields){const E=wy(e,T,t);if(!l.contains(E))throw new Me(pe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);lA(y,E)||y.push(E)}h=new ui(y),d=l.fieldTransforms.filter(T=>h.covers(T.field))}else h=null,d=l.fieldTransforms;return new fU(new Wn(c),h,d)}class Xh extends Nv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function pU(n,e,t,i){const r=n.bc(1,e,t);Lv("Data must be an object, but it was:",r,i);const o=[],l=Wn.empty();ro(i,(h,d)=>{const y=Vv(e,h,t);d=Rn(d);const T=r.mc(y);if(d instanceof Xh)o.push(y);else{const E=Zh(d,T);E!=null&&(o.push(y),l.set(y,E))}});const c=new ui(o);return new iA(l,c,r.fieldTransforms)}function mU(n,e,t,i,r,o){const l=n.bc(1,e,t),c=[wy(e,i,t)],h=[r];if(o.length%2!=0)throw new Me(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(wy(e,o[E])),h.push(o[E+1]);const d=[],y=Wn.empty();for(let E=c.length-1;E>=0;--E)if(!lA(d,c[E])){const C=c[E];let I=h[E];I=Rn(I);const k=l.mc(C);if(I instanceof Xh)d.push(C);else{const F=Zh(I,k);F!=null&&(d.push(C),y.set(C,F))}}const T=new ui(d);return new iA(y,T,l.fieldTransforms)}function Zh(n,e){if(aA(n=Rn(n)))return Lv("Unsupported field value:",e,n),oA(n,e);if(n instanceof Nv)return function(i,r){if(!rA(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,r){const o=[];let l=0;for(const c of i){let h=Zh(c,r.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=Rn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return jV(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ut.fromDate(i);return{timestampValue:dh(r.serializer,o)}}if(i instanceof Ut){const o=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dh(r.serializer,o)}}if(i instanceof Mv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Al)return{bytesValue:b2(r.serializer,i._byteString)};if(i instanceof fi){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Dv)return function(l,c){return{mapValue:{fields:{[n2]:{stringValue:i2},[ah]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return uv(c.serializer,d)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${bv(i)}`)}(n,e)}function oA(n,e){const t={};return Ww(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(n,(i,r)=>{const o=Zh(r,e.Ac(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function aA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof Mv||n instanceof Al||n instanceof fi||n instanceof Nv||n instanceof Dv)}function Lv(n,e,t){if(!aA(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=bv(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function wy(n,e,t){if((e=Rn(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return Vv(n,e);throw gh("Field path arguments must be of type string or ",n,!1,void 0,t)}const gU=new RegExp("[~\\*/\\[\\]]");function Vv(n,e,t){if(e.search(gU)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wh(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gh(n,e,t,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new Me(pe.INVALID_ARGUMENT,c+n+h)}function lA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yU extends uA{data(){return super.data()}}function cA(n,e){return typeof e=="string"?Vv(n,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}class vU{convertValue(e,t="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ro(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;const o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[ah].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(l=>Ht(l.doubleValue));return new Dv(o)}convertGeoPoint(e){return new Mv(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Bh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ot.fromString(e);mt(D2(i),9688,{name:e});const r=new Sc(i.get(1),i.get(3)),o=new Pe(i.popFirst(5));return r.isEqual(t)||Xr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fA extends uA{constructor(e,t,i,r,o,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new EU(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(cA("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class EU extends fA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(n){n=to(n,fi);const e=to(n.firestore,Gc);return iU(kv(e),n._key).then(t=>CU(e,n,t))}class xU extends vU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,t)}}function yh(n,e,t){n=to(n,fi);const i=to(n.firestore,Gc),r=_U(n.converter,e,t);return hA(i,[hU(sA(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,sr.none())])}function dA(n,e,t,...i){n=to(n,fi);const r=to(n.firestore,Gc),o=sA(r);let l;return l=typeof(e=Rn(e))=="string"||e instanceof Wh?mU(o,"updateDoc",n._key,e,t,i):pU(o,"updateDoc",n._key,e),hA(r,[l.toMutation(n._key,sr.exists(!0))])}function hA(n,e){return function(i,r){const o=new Ks;return i.asyncQueue.enqueueAndForget(async()=>B8(await eU(i),r,o)),o.promise}(kv(n),e)}function CU(n,e,t){const i=t.docs.get(e._key),r=new xU(n);return new fA(n,r,e._key,i,new TU(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){Ml=r})(Nl),_l(new Qo("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new Gc(new aV(i.getProvider("auth-internal")),new cV(l,i.getProvider("app-check-internal")),function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Me(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(d.options.projectId,y)}(l,r),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),$s(Ex,xx,e),$s(Ex,xx,"esm2017")})();var SU="firebase",wU="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s(SU,wU,"app");function Ov(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function pA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AU=pA,mA=new Oc("auth","Firebase",pA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Jy("@firebase/auth");function bU(n,...e){vh.logLevel<=tt.WARN&&vh.warn(`Auth (${Nl}): ${n}`,...e)}function qd(n,...e){vh.logLevel<=tt.ERROR&&vh.error(`Auth (${Nl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,...e){throw Uv(n,...e)}function ar(n,...e){return Uv(n,...e)}function gA(n,e,t){const i=Object.assign(Object.assign({},AU()),{[e]:t});return new Oc("auth","Firebase",i).create(e,{appName:n.name})}function Kr(n){return gA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return mA.create(n,...e)}function Ve(n,e,...t){if(!n)throw Uv(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw qd(e),new Error(e)}function es(n,e){n||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function IU(){return gC()==="http:"||gC()==="https:"}function gC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IU()||U9()||"connection"in navigator)?navigator.onLine:!0}function kU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.shortDelay=e,this.longDelay=t,es(t>e,"Short delay should be less than long delay!"),this.isMobile=L9()||F9()}get(){return RU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n,e){es(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DU=new $c(3e4,6e4);function oo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ao(n,e,t,i,r={}){return vA(n,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=Uc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:h},o);return O9()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Vc(n.emulatorConfig.host)&&(d.credentials="include"),yA.fetch()(await _A(n,n.config.apiHost,t,c),d)})}async function vA(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},NU),e);try{const r=new LU(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw bd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw bd(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw bd(n,"user-disabled",l);const y=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw gA(n,y,d);Vi(n,y)}}catch(r){if(r instanceof ns)throw r;Vi(n,"network-request-failed",{message:String(r)})}}async function Yc(n,e,t,i,r={}){const o=await ao(n,e,t,i,r);return"mfaPendingCredential"in o&&Vi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function _A(n,e,t,i){const r=`${e}${t}?${i}`,o=n,l=o.config.emulator?Fv(n.config,r):`${n.config.apiScheme}://${r}`;return MU.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function PU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ar(this.auth,"network-request-failed")),DU.get())})}}function bd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ar(n,e,i);return r.customData._tokenResponse=t,r}function yC(n){return n!==void 0&&n.enterprise!==void 0}class VU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return PU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OU(n,e){return ao(n,"GET","/v2/recaptchaConfig",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(n,e){return ao(n,"POST","/v1/accounts:delete",e)}async function _h(n,e){return ao(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FU(n,e=!1){const t=Rn(n),i=await t.getIdToken(e),r=zv(i);Ve(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:pc(xg(r.auth_time)),issuedAtTime:pc(xg(r.iat)),expirationTime:pc(xg(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function xg(n){return Number(n)*1e3}function zv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const r=bw(t);return r?JSON.parse(r):(qd("Failed to decode base64 JWT payload"),null)}catch(r){return qd("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function vC(n){const e=zv(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ns&&zU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function zU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Rc(n,_h(t,{idToken:i}));Ve(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?TA(o.providerUserInfo):[],c=qU(n.providerData,l),h=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),y=h?d:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new by(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,T)}async function HU(n){const e=Rn(n);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qU(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function TA(n){return n.map(e=>{var{providerId:t}=e,i=Ov(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(n,e){const t=await vA(n,{},async()=>{const i=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await _A(n,r,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",yA.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $U(n,e){return ao(n,"POST","/v2/accounts:revokeToken",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=vC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:o}=await GU(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,l=new ll;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(Ve(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(Ve(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Di{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new by(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Rc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FU(this,e)}reload(){return HU(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Th(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await Rc(this,UU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,l,c,h,d,y;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(r=t.email)!==null&&r!==void 0?r:void 0,C=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,k=(c=t.tenantId)!==null&&c!==void 0?c:void 0,F=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,U=(d=t.createdAt)!==null&&d!==void 0?d:void 0,q=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:G,emailVerified:re,isAnonymous:ie,providerData:Y,stsTokenManager:V}=t;Ve(G&&V,e,"internal-error");const D=ll.fromJSON(this.name,V);Ve(typeof G=="string",e,"internal-error"),Ps(T,e.name),Ps(E,e.name),Ve(typeof re=="boolean",e,"internal-error"),Ve(typeof ie=="boolean",e,"internal-error"),Ps(C,e.name),Ps(I,e.name),Ps(k,e.name),Ps(F,e.name),Ps(U,e.name),Ps(q,e.name);const N=new Di({uid:G,auth:e,email:E,emailVerified:re,displayName:T,isAnonymous:ie,photoURL:I,phoneNumber:C,tenantId:k,stsTokenManager:D,createdAt:U,lastLoginAt:q});return Y&&Array.isArray(Y)&&(N.providerData=Y.map(O=>Object.assign({},O))),F&&(N._redirectEventId=F),N}static async _fromIdTokenResponse(e,t,i=!1){const r=new ll;r.updateFromServerResponse(t);const o=new Di({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Th(o),o}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Ve(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?TA(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),c=new ll;c.updateFromIdToken(i);const h=new Di({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new by(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Map;function $r(n){es(n instanceof Function,"Expected a class definition");let e=_C.get(n);return e?(es(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_C.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}EA.type="NONE";const TC=EA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(n,e,t){return`firebase:${n}:${e}:${t}`}class ul{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Gd(this.userKey,r.apiKey,o),this.fullPersistenceKey=Gd("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _h(this.auth,{idToken:e}).catch(()=>{});return t?Di._fromGetAccountInfoResponse(this.auth,t,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ul($r(TC),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||$r(TC);const l=Gd(i,e.config.apiKey,e.name);let c=null;for(const d of t)try{const y=await d._get(l);if(y){let T;if(typeof y=="string"){const E=await _h(e,{idToken:y}).catch(()=>{});if(!E)break;T=await Di._fromGetAccountInfoResponse(e,E,y)}else T=Di._fromJSON(e,y);d!==o&&(c=T),o=d;break}}catch{}const h=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new ul(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new ul(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bA(e))return"Blackberry";if(IA(e))return"Webos";if(CA(e))return"Safari";if((e.includes("chrome/")||SA(e))&&!e.includes("edge/"))return"Chrome";if(AA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xA(n=In()){return/firefox\//i.test(n)}function CA(n=In()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SA(n=In()){return/crios\//i.test(n)}function wA(n=In()){return/iemobile/i.test(n)}function AA(n=In()){return/android/i.test(n)}function bA(n=In()){return/blackberry/i.test(n)}function IA(n=In()){return/webos/i.test(n)}function Bv(n=In()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YU(n=In()){var e;return Bv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KU(){return z9()&&document.documentMode===10}function RA(n=In()){return Bv(n)||AA(n)||IA(n)||bA(n)||/windows phone/i.test(n)||wA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n,e=[]){let t;switch(n){case"Browser":t=EC(In());break;case"Worker":t=`${EC(In())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Nl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(n,e={}){return ao(n,"GET","/v2/passwordPolicy",oo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=6;class XU{constructor(e){var t,i,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:WU,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xC(this),this.idTokenSubscription=new xC(this),this.beforeStateQueue=new jU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _h(this,{idToken:e}),i=await Di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ai(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ai(this.app))return Promise.reject(Kr(this));const t=e?Rn(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ai(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QU(this),t=new XU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await $U(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bU(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ia(n){return Rn(n)}class xC{constructor(e){this.auth=e,this.observer=null,this.addObserver=j9(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JU(n){Jh=n}function NA(n){return Jh.loadJS(n)}function e7(){return Jh.recaptchaEnterpriseScript}function t7(){return Jh.gapiScript}function n7(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class i7{constructor(){this.enterprise=new r7}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class r7{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const s7="recaptcha-enterprise",MA="NO_RECAPTCHA";class o7{constructor(e){this.type=s7,this.auth=ia(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{OU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new VU(h);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function r(o,l,c){const h=window.grecaptcha;yC(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(d=>{l(d)}).catch(()=>{l(MA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i7().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(c=>{if(!t&&yC(window.grecaptcha))r(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=e7();h.length!==0&&(h+=c),NA(h).then(()=>{r(c,o,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function CC(n,e,t,i=!1,r=!1){const o=new o7(n);let l;if(r)l=MA;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Iy(n,e,t,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await CC(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await CC(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(n,e){const t=tv(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(jo(o,e??{}))return r;Vi(r,"already-initialized")}return t.initialize({options:e})}function l7(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map($r);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function u7(n,e,t){const i=ia(n);Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=DA(e),{host:l,port:c}=c7(e),h=c===null?"":`:${c}`,d={url:`${o}//${l}${h}/`},y=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ve(jo(d,i.config.emulator)&&jo(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Vc(l)?(Nw(`${o}//${l}${h}`),Mw("Auth",!0)):f7()}function DA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function c7(n){const e=DA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:SC(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:SC(l)}}}function SC(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function f7(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function d7(n,e){return ao(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(n,e){return Yc(n,"POST","/v1/accounts:signInWithPassword",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(n,e){return Yc(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))}async function m7(n,e){return Yc(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Hv{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new kc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new kc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iy(e,t,"signInWithPassword",h7);case"emailLink":return p7(e,{email:this._email,oobCode:this._password});default:Vi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iy(e,i,"signUpPassword",d7);case"emailLink":return m7(e,{idToken:t,email:this._email,oobCode:this._password});default:Vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n,e){return Yc(n,"POST","/v1/accounts:signInWithIdp",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="http://localhost";class Zo extends Hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=Ov(t,["providerId","signInMethod"]);if(!i||!r)return null;const l=new Zo(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return cl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,cl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cl(e,t)}buildRequest(){const e={requestUri:g7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Uc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v7(n){const e=ic(rc(n)).link,t=e?ic(rc(e)).deep_link_id:null,i=ic(rc(n)).deep_link_id;return(i?ic(rc(i)).link:null)||i||t||e||n}class qv{constructor(e){var t,i,r,o,l,c;const h=ic(rc(e)),d=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(i=h.oobCode)!==null&&i!==void 0?i:null,T=y7((r=h.mode)!==null&&r!==void 0?r:null);Ve(d&&y&&T,"argument-error"),this.apiKey=d,this.operation=T,this.code=y,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=v7(e);try{return new qv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.providerId=Ol.PROVIDER_ID}static credential(e,t){return kc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=qv.parseLink(t);return Ve(i,"argument-error"),kc._fromEmailAndCode(e,i.code,i.tenantId)}}Ol.PROVIDER_ID="password";Ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends PA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Kc{constructor(){super("facebook.com")}static credential(e){return Zo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zo._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Us.credential(t,i)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Kc{constructor(){super("github.com")}static credential(e){return Zo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Kc{constructor(){super("twitter.com")}static credential(e,t){return Zo._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return zs.credential(t,i)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(n,e){return Yc(n,"POST","/v1/accounts:signUp",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const o=await Di._fromIdTokenResponse(e,i,r),l=wC(i);return new Jo({user:o,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=wC(i);return new Jo({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function wC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends ns{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Eh(e,t,i,r)}}function LA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(n,o,e,i):o})}async function T7(n,e,t=!1){const i=await Rc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Jo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(n,e,t=!1){const{auth:i}=n;if(Ai(i.app))return Promise.reject(Kr(i));const r="reauthenticate";try{const o=await Rc(n,LA(i,r,e,n),t);Ve(o.idToken,i,"internal-error");const l=zv(o.idToken);Ve(l,i,"internal-error");const{sub:c}=l;return Ve(n.uid===c,i,"user-mismatch"),Jo._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Vi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(n,e,t=!1){if(Ai(n.app))return Promise.reject(Kr(n));const i="signIn",r=await LA(n,i,e),o=await Jo._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}async function x7(n,e){return VA(ia(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(n){const e=ia(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C7(n,e,t){if(Ai(n.app))return Promise.reject(Kr(n));const i=ia(n),l=await Iy(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_7).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&OA(n),h}),c=await Jo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function S7(n,e,t){return Ai(n.app)?Promise.reject(Kr(n)):x7(Rn(n),Ol.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&OA(n),i})}function w7(n,e,t,i){return Rn(n).onIdTokenChanged(e,t,i)}function A7(n,e,t){return Rn(n).beforeAuthStateChanged(e,t)}function b7(n,e,t,i){return Rn(n).onAuthStateChanged(e,t,i)}function I7(n){return Rn(n).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=1e3,k7=10;class FA extends UA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);KU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,k7):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},R7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}FA.type="LOCAL";const N7=FA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA extends UA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zA.type="SESSION";const BA=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new ep(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:o}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(l).map(async d=>d(t.origin,o)),h=await M7(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ep.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const d=Gv("",20);r.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(T){const E=T;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function P7(n){lr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function L7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V7(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function O7(){return HA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebaseLocalStorageDb",U7=1,Ch="firebaseLocalStorage",GA="fbase_key";class jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tp(n,e){return n.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function F7(){const n=indexedDB.deleteDatabase(qA);return new jc(n).toPromise()}function Ry(){const n=indexedDB.open(qA,U7);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ch,{keyPath:GA})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ch)?e(i):(i.close(),await F7(),e(await Ry()))})})}async function AC(n,e,t){const i=tp(n,!0).put({[GA]:e,value:t});return new jc(i).toPromise()}async function z7(n,e){const t=tp(n,!1).get(e),i=await new jc(t).toPromise();return i===void 0?null:i.value}function bC(n,e){const t=tp(n,!0).delete(e);return new jc(t).toPromise()}const B7=800,H7=3;class $A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ry(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>H7)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ep._getInstance(O7()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await L7(),!this.activeServiceWorker)return;this.sender=new D7(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ry();return await AC(e,xh,"1"),await bC(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>AC(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>z7(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bC(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=tp(r,!1).getAll();return new jc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$A.type="LOCAL";const q7=$A;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(n,e){return e?$r(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends Hv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $7(n){return VA(n.auth,new $v(n),n.bypassAuthState)}function Y7(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),E7(t,new $v(n),n.bypassAuthState)}async function K7(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),T7(t,new $v(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $7;case"linkViaPopup":case"linkViaRedirect":return K7;case"reauthViaPopup":case"reauthViaRedirect":return Y7;default:Vi(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=new $c(2e3,1e4);class rl extends YA{constructor(e,t,i,r,o){super(e,t,r,o),this.provider=i,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Gv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j7.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7="pendingRedirect",$d=new Map;class W7 extends YA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=$d.get(this.auth._key());if(!e){try{const i=await X7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}$d.set(this.auth._key(),e)}return this.bypassAuthState||$d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X7(n,e){const t=eF(e),i=J7(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function Z7(n,e){$d.set(n._key(),e)}function J7(n){return $r(n._redirectPersistence)}function eF(n){return Gd(Q7,n.config.apiKey,n.name)}async function tF(n,e,t=!1){if(Ai(n.app))return Promise.reject(Kr(n));const i=ia(n),r=G7(i,e),l=await new W7(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=10*60*1e3;class iF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!KA(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ar(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nF&&this.cachedEventUids.clear(),this.cachedEventUids.has(IC(e))}saveEventToCache(e){this.cachedEventUids.add(IC(e)),this.lastProcessedEventTime=Date.now()}}function IC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(n,e={}){return ao(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aF=/^https?/;async function lF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await sF(n);for(const t of e)try{if(uF(t))return}catch{}Vi(n,"unauthorized-domain")}function uF(n){const e=Ay(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!aF.test(t))return!1;if(oF.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=new $c(3e4,6e4);function RC(){const n=lr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fF(n){return new Promise((e,t)=>{var i,r,o;function l(){RC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RC(),t(ar(n,"network-request-failed"))},timeout:cF.get()})}if(!((r=(i=lr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=lr().gapi)===null||o===void 0)&&o.load)l();else{const c=n7("iframefcb");return lr()[c]=()=>{gapi.load?l():t(ar(n,"network-request-failed"))},NA(`${t7()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Yd=null,e})}let Yd=null;function dF(n){return Yd=Yd||fF(n),Yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=new $c(5e3,15e3),pF="__/auth/iframe",mF="emulator/auth/iframe",gF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vF(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fv(e,mF):`https://${n.config.authDomain}/${pF}`,i={apiKey:e.apiKey,appName:n.name,v:Nl},r=yF.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Uc(i).slice(1)}`}async function _F(n){const e=await dF(n),t=lr().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:vF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gF,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=ar(n,"network-request-failed"),c=lr().setTimeout(()=>{o(l)},hF.get());function h(){lr().clearTimeout(c),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EF=500,xF=600,CF="_blank",SF="http://localhost";class kC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wF(n,e,t,i=EF,r=xF){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},TF),{width:i.toString(),height:r.toString(),top:o,left:l}),d=In().toLowerCase();t&&(c=SA(d)?CF:t),xA(d)&&(e=e||SF,h.scrollbars="yes");const y=Object.entries(h).reduce((E,[C,I])=>`${E}${C}=${I},`,"");if(YU(d)&&c!=="_self")return AF(e||"",c),new kC(null);const T=window.open(e||"",c,y);Ve(T,n,"popup-blocked");try{T.focus()}catch{}return new kC(T)}function AF(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="__/auth/handler",IF="emulator/auth/handler",RF=encodeURIComponent("fac");async function NC(n,e,t,i,r,o){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Nl,eventId:r};if(e instanceof PA){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",K9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))l[y]=T}if(e instanceof Kc){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const h=await n._getAppCheckToken(),d=h?`#${RF}=${encodeURIComponent(h)}`:"";return`${kF(n)}?${Uc(c).slice(1)}${d}`}function kF({config:n}){return n.emulator?Fv(n,IF):`https://${n.authDomain}/${bF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class NF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BA,this._completeRedirectFn=tF,this._overrideRedirectResult=Z7}async _openPopup(e,t,i,r){var o;es((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await NC(e,t,i,Ay(),r);return wF(e,l,Gv())}async _openRedirect(e,t,i,r){await this._originValidation(e);const o=await NC(e,t,i,Ay(),r);return P7(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(es(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await _F(e),i=new iF(e);return t.register("authEvent",r=>(Ve(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cg,{type:Cg},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Cg];l!==void 0&&t(!!l),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return RA()||CA()||Bv()}}const MF=NF;var MC="@firebase/auth",DC="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LF(n){_l(new Qo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kA(n)},d=new ZU(i,r,o,h);return l7(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),_l(new Qo("auth-internal",e=>{const t=ia(e.getProvider("auth").getImmediate());return(i=>new DF(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(MC,DC,PF(n)),$s(MC,DC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=5*60,OF=kw("authIdTokenMaxAge")||VF;let PC=null;const UF=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>OF)return;const r=t==null?void 0:t.token;PC!==r&&(PC=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function jA(n=Vw()){const e=tv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=a7(n,{popupRedirectResolver:MF,persistence:[q7,N7,BA]}),i=kw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=UF(o.toString());A7(t,l,()=>l(t.currentUser)),w7(t,c=>l(c))}}const r=Iw("auth");return r&&u7(t,`http://${r}`),t}function FF(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}JU({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=ar("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",FF().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LF("Browser");const zF={apiKey:"AIzaSyDwzexecC1EFTP9Qjq7_6_T2F0Yom6TqKE",authDomain:"century-ai-e4d47.firebaseapp.com",projectId:"century-ai-e4d47",storageBucket:"century-ai-e4d47.appspot.com",messagingSenderId:"759047094542",appId:"1:759047094542:web:0782ee061474580422175f",measurementId:"G-1HZ3YTK88M"},QA=Lw(zF),ts=jA(QA),dr=aU(QA);uU(dr);const np=()=>{const{setGlobalFeedback:n}=K.useContext(xn);return{handleFeedback:(t,i)=>{n({msg:t,visible:!0,errorIcon:i}),setTimeout(()=>{n(r=>({...r,visible:!1}))},3e3)}}},xn=K.createContext(),BF=({children:n})=>{const[e,t]=K.useState(null),[i,r]=K.useState(!1),[o,l]=K.useState(!1),[c,h]=K.useState(!1),[d,y]=K.useState(""),[T,E]=K.useState(!1),[C,I]=K.useState(!1),[k,F]=K.useState([]),[U,q]=K.useState({msg:"",visible:!1,errorIcon:!1}),[G,re]=K.useState(!0),[ie,Y]=K.useState(!1),[V,D]=K.useState({show:!1,title:""}),[N,O]=K.useState(!1),[z,B]=K.useState(""),L=Dh(),he=gr(),[me,J]=K.useState(),fe=(M,ge)=>{q({msg:M,visible:!0,errorIcon:ge}),setTimeout(()=>{q(xe=>({...xe,visible:!1}))},3e3)},Ee=()=>{const M=crypto.randomUUID();return t(M),M},ke=async()=>{try{await I7(ts),L("/"),fe("Log out successfully",!1)}catch(M){console.log(M),fe("Error occurred during logout",!0)}};async function w(M,ge){try{y("");const xe=he.pathname,Te=`/chat/${ge}`;xe!==Te&&L(Te);const lt={id:ge,role:"user",text:M};F(Mt=>[...Mt,lt]),E(!0);const Ye=await iy(M),Ct={id:ge,role:"ai",text:Ye};F(Mt=>[...Mt,Ct]),W([lt,Ct],M,ge),E(!1)}catch(xe){E(!1),I(!0),console.log(xe),y("")}}const W=async(M,ge,xe)=>{const Te=ts.currentUser;if(!Te)return;const lt=Jr(dr,"users",Te.uid);try{const Ye=await Vl(lt);let Ct=[];const qt=M.map(Mt=>({id:Mt.id,role:Mt.role,text:Mt.text}));if(Ye.exists()){const Nn=Ye.data().conversations||[],qn=Nn.findIndex(Mn=>Mn.id===xe);if(qn!==-1){const Mn=Nn[qn];Mn.messages=[...Mn.messages,...qt],Ct=[...Nn.slice(0,qn),Mn,...Nn.slice(qn+1)]}else Ct=[...Nn,{id:xe,createdAt:Ut.now(),title:ge.split(" ").slice(0,6).join(" "),messages:qt}]}else Ct=[{id:xe,createdAt:Ut.now(),title:ge.split(" ").slice(0,6).join(" "),messages:qt}];await yh(lt,{conversations:Ct,dark:G},{merge:!0}),J(Ct),console.log("Conversation saved ")}catch(Ye){console.error("Error saving conversation ",Ye)}};function oe(M,ge,xe){M.key==="Enter"&&ge.trim().length!==0&&(w(ge,xe),y(""))}return K.useEffect(()=>{const M=ge=>{ge.ctrlKey&&ge.key==="b"&&(ge.preventDefault(),l(xe=>!xe))};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[]),K.useEffect(()=>{G?document.body.style.backgroundColor="#282a2c":document.body.style.backgroundColor="#fff"},[G]),K.useEffect(()=>{const M=()=>{window.innerWidth<768?l(!0):l(!1)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),b.jsx(xn.Provider,{value:{isSignedIn:i,setIsSignedIn:r,hideSidebar:o,setHideSidebar:l,showModal:c,setShowModal:h,handleSubmit:w,promptInput:d,setPromptInput:y,fetchPrompt:oe,loading:T,setLoading:E,errorMsg:C,setErrorMsg:I,messages:k,setMessages:F,generatedId:e,setGeneratedId:t,getOrCreateId:Ee,showMoreOptions:ie,setShowMoreOptions:Y,dark:G,setDark:re,toggleSidebarOptions:N,setToggleSidebarOptions:O,username:z,setUsername:B,recentChat:me,setRecentChat:J,handleLogout:ke,globalFeedback:U,setGlobalFeedback:q,showOptions:V,setShowOptions:D},children:n})};var WA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},LC=Go.createContext&&Go.createContext(WA),HF=["attr","size","title"];function qF(n,e){if(n==null)return{};var t=GF(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function GF(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Sh(){return Sh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Sh.apply(this,arguments)}function VC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function wh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(t),!0).forEach(function(i){$F(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $F(n,e,t){return e=YF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YF(n){var e=KF(n,"string");return typeof e=="symbol"?e:e+""}function KF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function XA(n){return n&&n.map((e,t)=>Go.createElement(e.tag,wh({key:t},e.attr),XA(e.child)))}function ze(n){return e=>Go.createElement(jF,Sh({attr:wh({},n.attr)},e),XA(n.child))}function jF(n){var e=t=>{var{attr:i,size:r,title:o}=n,l=qF(n,HF),c=r||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Go.createElement("svg",Sh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:wh(wh({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Go.createElement("title",null,o),n.children)};return LC!==void 0?Go.createElement(LC.Consumer,null,t=>e(t)):e(WA)}function QF(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M413.66 246.1H386a2 2 0 0 1-2-2v-77.24A38.86 38.86 0 0 0 345.14 128H267.9a2 2 0 0 1-2-2V98.34c0-27.14-21.5-49.86-48.64-50.33a49.53 49.53 0 0 0-50.4 49.51V126a2 2 0 0 1-2 2H87.62A39.74 39.74 0 0 0 48 167.62V238a2 2 0 0 0 2 2h26.91c29.37 0 53.68 25.48 54.09 54.85.42 29.87-23.51 57.15-53.29 57.15H50a2 2 0 0 0-2 2v70.38A39.74 39.74 0 0 0 87.62 464H158a2 2 0 0 0 2-2v-20.93c0-30.28 24.75-56.35 55-57.06 30.1-.7 57 20.31 57 50.28V462a2 2 0 0 0 2 2h71.14A38.86 38.86 0 0 0 384 425.14v-78a2 2 0 0 1 2-2h28.48c27.63 0 49.52-22.67 49.52-50.4s-23.2-48.64-50.34-48.64z"},child:[]}]})(n)}function Yv(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(n)}function WF(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m256 58 80 80-80 80"},child:[]}]})(n)}function XF(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(n)}function Ah(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(n)}const ZF=({hideSidebar:n,setHideSidebar:e})=>b.jsxs("div",{className:"flex justify-between text-4xl",children:[b.jsxs("button",{"aria-label":"Collapse menu",onClick:()=>e(t=>!t),className:"group relative",children:[b.jsx(Yv,{className:"menu-btns"}),b.jsx("p",{className:"bottom-tooltip",children:"Collapse menu"})]}),!n&&b.jsxs("button",{"aria-label":"Search",className:"group relative",children:[b.jsx(XF,{className:"menu-btns"}),b.jsx("p",{className:"bottom-tooltip",children:"Search"})]})]});function OC(n){return ze({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},child:[]}]})(n)}function JF(n){return ze({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"},child:[]}]})(n)}function ZA(n){return ze({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(n)}function ez(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function tz(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(n)}function UC(n){return ze({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function nz(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(n)}function iz(n){return ze({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634 471L36 3.51A16 16 0 0 0 13.51 6l-10 12.49A16 16 0 0 0 6 41l598 467.49a16 16 0 0 0 22.49-2.49l10-12.49A16 16 0 0 0 634 471zM296.79 146.47l134.79 105.38C429.36 191.91 380.48 144 320 144a112.26 112.26 0 0 0-23.21 2.47zm46.42 219.07L208.42 260.16C210.65 320.09 259.53 368 320 368a113 113 0 0 0 23.21-2.46zM320 112c98.65 0 189.09 55 237.93 144a285.53 285.53 0 0 1-44 60.2l37.74 29.5a333.7 333.7 0 0 0 52.9-75.11 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64c-36.7 0-71.71 7-104.63 18.81l46.41 36.29c18.94-4.3 38.34-7.1 58.22-7.1zm0 288c-98.65 0-189.08-55-237.93-144a285.47 285.47 0 0 1 44.05-60.19l-37.74-29.5a333.6 333.6 0 0 0-52.89 75.1 32.35 32.35 0 0 0 0 29.19C89.72 376.41 197.08 448 320 448c36.7 0 71.71-7.05 104.63-18.81l-46.41-36.28C359.28 397.2 339.89 400 320 400z"},child:[]}]})(n)}function rz(n){return ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"},child:[]}]})(n)}function sz(n){return ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M464 0H112c-4 0-7.8 2-10 5.4L2 152.6c-2.9 4.4-2.6 10.2.7 14.2l276 340.8c4.8 5.9 13.8 5.9 18.6 0l276-340.8c3.3-4.1 3.6-9.8.7-14.2L474.1 5.4C471.8 2 468.1 0 464 0zm-19.3 48l63.3 96h-68.4l-51.7-96h56.8zm-202.1 0h90.7l51.7 96H191l51.6-96zm-111.3 0h56.8l-51.7 96H68l63.3-96zm-43 144h51.4L208 352 88.3 192zm102.9 0h193.6L288 435.3 191.2 192zM368 352l68.2-160h51.4L368 352z"},child:[]}]})(n)}const oz=({hideSidebar:n,isSignedIn:e,newChat:t,location:i})=>b.jsxs("div",{className:"mt-10 flex flex-col gap-2",children:[n?b.jsxs("button",{disabled:i.pathname==="/","aria-label":"New chat",onClick:t,className:"group relative w-fit cursor-pointer rounded-full p-2 text-xl disabled:cursor-default disabled:text-[#757a7c] dark:text-white dark:hover:bg-[#3d3f41] dark:active:bg-[#484a4d] dark:disabled:hover:bg-[#282a2c] dark:disabled:active:bg-[#282a2c]",children:[b.jsx(OC,{}),b.jsx("p",{className:"side-tooltip",children:"New Chat"})]}):b.jsxs("button",{disabled:i.pathname==="/","aria-label":"New chat",onClick:t,className:"group relative flex w-full cursor-pointer items-center gap-4 rounded-full px-3 py-2 pl-5 disabled:cursor-default disabled:text-[#757a7c] dark:text-white dark:hover:bg-[#3d3f41] dark:active:bg-[#484a4d] dark:disabled:hover:bg-[#282a2c] dark:disabled:active:bg-[#282a2c]",children:[b.jsx(OC,{className:"text-lg xl:text-xl"}),b.jsx("h3",{className:"xl:text-base text-sm overflow-hidden",children:"New Chat"}),b.jsx("p",{className:"side-tooltip",children:"New Chat"})]}),e&&!n&&b.jsxs("button",{"aria-label":"Explore Gems",className:"group relative flex w-full cursor-pointer items-center gap-3 rounded-full px-3 py-2 pl-5 text-[#5a5f5f] hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:text-[#878e8f] dark:hover:bg-[#3d3f41] dark:active:bg-[#484a4d]",children:[b.jsx(sz,{className:"xl:text-lg"}),b.jsx("h3",{className:"overflow-hidden text-sm xl:text-base",children:"Explore Gems"}),b.jsx("p",{className:"side-tooltip -right-32",children:"Explore Gems"})]})]});function FC(n){return ze({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"},child:[]}]})(n)}function zC(n){return ze({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},child:[]},{tag:"path",attr:{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},child:[]}]})(n)}function az(n){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 15.0006L7.75732 10.758L9.17154 9.34375L12 12.1722L14.8284 9.34375L16.2426 10.758L12 15.0006Z"},child:[]}]})(n)}function lz(n){return ze({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 11.8284L9.17154 14.6569L7.75732 13.2426L12 9L16.2426 13.2426L14.8284 14.6569L12 11.8284Z"},child:[]}]})(n)}function BC(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.263 2.177a1.75 1.75 0 0 1 2.474 0l2.586 2.586a1.75 1.75 0 0 1 0 2.474L19.53 10.03l-.012.013L8.69 20.378a1.753 1.753 0 0 1-.699.409l-5.523 1.68a.748.748 0 0 1-.747-.188.748.748 0 0 1-.188-.747l1.673-5.5a1.75 1.75 0 0 1 .466-.756L14.476 4.963ZM4.708 16.361a.26.26 0 0 0-.067.108l-1.264 4.154 4.177-1.271a.253.253 0 0 0 .1-.059l10.273-9.806-2.94-2.939-10.279 9.813ZM19 8.44l2.263-2.262a.25.25 0 0 0 0-.354l-2.586-2.586a.25.25 0 0 0-.354 0L16.061 5.5Z"},child:[]}]})(n)}function bh(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.75 4.5a.75.75 0 0 1 .75.75V11h5.75a.75.75 0 0 1 0 1.5H12.5v5.75a.75.75 0 0 1-1.5 0V12.5H5.25a.75.75 0 0 1 0-1.5H11V5.25a.75.75 0 0 1 .75-.75Z"},child:[]}]})(n)}const uz=({chatId:n,currentTitle:e,setShowRenameModal:t,showRenameModal:i,updateTitleInUI:r})=>{const[o,l]=K.useState(e),{handleFeedback:c}=np(),h=async()=>{if(!(!n||o.trim()===""))try{const d=jA().currentUser;if(!d)return;const y=Jr(dr,"users",d.uid),T=await Vl(y);if(T.exists()){const I=(T.data().conversations||[]).map(k=>k.id===n?{...k,title:o.trim()}:k);await dA(y,{conversations:I}),r(n,o.trim()),t(!1),c("Updated Successfully",!1)}else c("User doc doesn't exist",!0)}catch(d){c("Failed to rename chat",!0),console.log(d)}};return K.useEffect(()=>{l(e)},[e]),!n||!i?null:b.jsxs("div",{className:"fixed top-0 left-0 z-[99] flex h-screen w-screen items-center justify-center",children:[b.jsx("div",{onClick:()=>t(!1),className:"animate-opacity fixed z-[98] h-screen w-screen bg-black/50"}),b.jsxs("div",{className:"z-[100] flex h-[15rem] w-[90%] xl:w-[30rem] flex-col items-end gap-2 rounded-2xl bg-[#f0f4f9] px-6 py-6 dark:bg-[#1f1f1f]",children:[b.jsx("h1",{className:"mb-5 self-start text-lg xl:text-2xl text-black dark:text-white",children:"Rename this chat"}),b.jsx("textarea",{rows:1,name:"rename-field",id:"rename-field",className:"w-full resize-none overflow-hidden rounded-lg border-2 border-blue-600 p-4 xl:text-lg text-black outline-none dark:border-blue-300 dark:bg-[#1f1f1f] dark:text-white",value:o,onChange:d=>l(d.target.value)}),b.jsxs("div",{className:"mt-2 flex flex-row-reverse gap-2",children:[b.jsx("button",{"aria-label":"Update title",disabled:o.trim()===e.trim(),onClick:h,className:"cursor-pointer rounded-full bg-blue-600 px-5 py-2 text-white hover:bg-blue-500 disabled:cursor-default dark:bg-blue-300 dark:text-blue-800 dark:hover:bg-blue-400 dark:disabled:bg-[#27292b] text-sm xl:text-base dark:disabled:text-[#7e848b]",children:"Update"}),b.jsx("button",{"aria-label":"Cancel editing",onClick:()=>t(!1),className:"cursor-pointer rounded-full px-5 py-2 text-sm xl:text-base text-blue-600 hover:bg-blue-100 dark:text-blue-200 dark:hover:bg-gray-800",children:"Cancel"})]})]})]})},HC=({timestamp:n})=>{if(!n)return;const e=n.seconds,t=n.nanoseconds,i=new Date(e*1e3+t/1e6),r=h=>{const d=h.getDate(),y=h.toLocaleString("default",{month:"short"}),T=h.getFullYear();return`${d} ${y} ${T}`},o=h=>{let d=h.getHours();const y=h.getMinutes(),T=d>=12?"PM":"AM";d=d%12,d=d||12;const E=y<10?"0"+y:y;return`${d}:${E} ${T}`},l=r(i),c=o(i);return b.jsxs("span",{className:"text-xs xl:text-sm text-gray-600 dark:text-gray-400",children:[l," ",b.jsx("br",{})," ",c]})},cz=({messages:n,generatedId:e,setGeneratedId:t,getOrCreateId:i})=>{var ke;const{hideSidebar:r,isSignedIn:o,setShowModal:l,recentChat:c,setRecentChat:h,dark:d}=K.useContext(xn),[y,T]=K.useState(null),[E,C]=K.useState(!1),[I,k]=K.useState(null),[F,U]=K.useState(""),[q,G]=K.useState(null),[re,ie]=K.useState(!1),[Y,V]=K.useState(!1),D=Dh(),N=KR("/chat/:id"),O=(ke=N==null?void 0:N.params)==null?void 0:ke.id,z=[...c||[]].reverse(),B=z.slice(0,5),L=z.slice(5),he=L.length>0,{handleFeedback:me}=np(),J=(w,W)=>{k(w),U(W),C(!0),T(null)},fe=async w=>{const W=ts.currentUser;if(!(!W||!w))try{const oe=Jr(dr,"users",W.uid),M=await Vl(oe);if(M.exists()){const xe=(M.data().conversations||[]).filter(Te=>Te.id!==w);await dA(oe,{conversations:xe}),h(xe),V(!0),setTimeout(()=>{V(!1)},3e3),O===w&&D("/")}}catch(oe){me("Failed to delete conversation",!0),console.log(oe)}};K.useEffect(()=>{o||(C(!1),k(null),U(""))},[o]);const Ee=w=>`group relative flex w-full cursor-pointer text-sm xl:text-base items-center justify-between rounded-full mb-2 px-3  pl-5 ${w===O?"bg-blue-200 text-blue-800 dark:bg-[#1f3760] dark:text-white":"text-[#5a5f5f] hover:bg-[#dde3ea] dark:text-[#878e8f] dark:hover:bg-[#3d3f41]"}`;return b.jsx(b.Fragment,{children:!r&&b.jsxs("div",{className:`${d?"custom-scrollbar":"light-scrollbar"} mt-8 -mr-2 xl:-mr-0 overflow-x-hidden overflow-y-scroll ${o?"h-[calc(100%_-_16rem)]":"h-[calc(100%_-_13rem)]"}`,children:[b.jsx("h3",{className:`${o?"text-[#5a5f5f] dark:text-[#7d8283]":"text-[#5a5f5f] dark:text-white"} text-sm xl:text-base  ml-5`,children:"Recent"}),o?b.jsxs("div",{className:"mt-2 flex flex-col",children:[B.map(w=>b.jsxs("div",{className:`${Ee(w.id)} group relative`,children:[b.jsx("h3",{onClick:()=>D(`/chat/${w.id}`),className:"w-[11rem] truncate overflow-hidden py-2",children:w.title}),b.jsxs("div",{className:"group relative",children:[b.jsx(FC,{className:"menu-btns cursor-pointer text-3xl text-black dark:text-white",onClick:()=>{T(W=>W===w.id?null:w.id),G({seconds:w.createdAt.seconds,nanoseconds:w.createdAt.nanoseconds})}}),b.jsxs("ul",{className:`${y===w.id?"opacity-100":"pointer-events-none opacity-0"} absolute -left-30 z-10 rounded-lg bg-[#f0f4f9] whitespace-nowrap text-black shadow shadow-black/50 transition-opacity duration-150 ease-in dark:bg-[#1b1c1d] dark:text-white`,children:[b.jsx("li",{className:"flex items-center gap-5 px-6 py-2 text-xs xl:text-sm",children:b.jsxs("p",{children:["Created on : ",b.jsx("br",{})," ",b.jsx(HC,{timestamp:q})]})}),b.jsx("hr",{className:"text-gray-400"}),b.jsxs("li",{onClick:()=>J(w.id,w.title),className:"mt-2 mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234]",children:[b.jsx(BC,{className:"xl:text-lg"})," Rename"]}),b.jsxs("li",{onClick:()=>fe(w.id),className:"mt-2 mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234]",children:[b.jsx(zC,{className:"xl:text-lg"})," Delete"]})]})]})]},w.id)),E&&I&&b.jsx(uz,{chatId:I,currentTitle:F,showRenameModal:E,setShowRenameModal:C,updateTitleInUI:(w,W)=>{h(oe=>oe.map(M=>M.id===w?{...M,title:W}:M))}}),he&&b.jsxs("button",{onClick:()=>ie(w=>!w),"aria-label":"Show more",className:"group relative text-sm xl:text-base flex w-full cursor-pointer items-center gap-2 rounded-full px-3 py-2 pl-5 text-[#444848] hover:bg-blue-200 active:bg-blue-300 dark:text-[#a3abac] dark:hover:bg-gray-700 dark:active:bg-[#484a4d]",children:[b.jsx("h3",{children:re?"Show less":"Show more"}),re?b.jsx(lz,{className:"text-2xl"}):b.jsx(az,{className:"text-2xl"})]}),re&&L.map(w=>b.jsxs("div",{className:`${Ee(w.id)} group relative`,children:[b.jsx("h3",{onClick:()=>D(`/chat/${w.id}`),className:"w-[11rem] truncate overflow-hidden py-2",children:w.title}),b.jsxs("div",{className:"group relative",children:[b.jsx(FC,{className:"menu-btns cursor-pointer text-3xl text-black dark:text-white",onClick:()=>{T(W=>W===w.id?null:w.id),G({seconds:w.createdAt.seconds,nanoseconds:w.createdAt.nanoseconds})}}),b.jsxs("ul",{className:`${y===w.id?"opacity-100":"pointer-events-none opacity-0"} absolute -left-30 z-10 rounded-lg bg-[#f0f4f9] whitespace-nowrap text-black shadow shadow-black/50 transition-opacity duration-150 ease-in dark:bg-[#1b1c1d] dark:text-white`,children:[b.jsx("li",{className:"flex items-center gap-5 px-6 py-2 text-xs xl:text-sm",children:b.jsxs("p",{children:["Created on : ",b.jsx("br",{})," ",b.jsx(HC,{timestamp:q})]})}),b.jsx("hr",{className:"text-gray-400"}),b.jsxs("li",{onClick:()=>J(w.id,w.title),className:"mt-2 mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234]",children:[b.jsx(BC,{className:"xl:text-lg"})," Rename"]}),b.jsxs("li",{onClick:()=>fe(w.id),className:"mt-2 mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234]",children:[b.jsx(zC,{className:"xl:text-lg"})," Delete"]})]})]})]},w.id))]}):b.jsxs("div",{className:"mt-2 overflow-hidden rounded-lg bg-[#dde3ea] px-2 xl:px-4 py-3 pb-6 text-xs xl:text-sm dark:bg-[#454849] dark:text-white",children:[b.jsxs("p",{children:["Sign in to start saving your ",b.jsx("br",{})," chats ",b.jsx("br",{})," ",b.jsxs("span",{className:"text-gray-600 dark:text-white",children:["Once you're signed in, you can ",b.jsx("br",{})," access your recent chats here."]})]}),b.jsx("button",{"aria-label":"Sign in",onClick:()=>l(!0),className:"mt-10 cursor-pointer text-sm text-blue-600 dark:text-blue-400",children:"Sign in"})]}),b.jsx("div",{className:` ${Y?"opacity-100":"opacity-0"} ${r?"xl:left-0":"xl:left-5"} pointer-events-none absolute bottom-7 z-[105] text-sm xl:text-base rounded-lg bg-black px-4 py-2 text-white transition-opacity duration-300 ease-in`,children:"Deleted Successfully"})]})})};function fz(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"},child:[]}]})(n)}function qC(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"},child:[]}]})(n)}function GC(n){return ze({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z"},child:[]}]})(n)}function dz(n){return ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M301.1 34.8C312.6 40 320 51.4 320 64l0 384c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352 64 352c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l67.8 0L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM412.6 181.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5z"},child:[]}]})(n)}function hz(n){return ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M384 336l-192 0c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l140.1 0L400 115.9 400 320c0 8.8-7.2 16-16 16zM192 384l192 0c35.3 0 64-28.7 64-64l0-204.1c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1L192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-32-48 0 0 32c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l32 0 0-48-32 0z"},child:[]}]})(n)}function $C(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]},{tag:"path",attr:{d:"M256.7 160c37.5 0 63.3 20.8 63.3 50.7 0 19.8-9.6 33.5-28.1 44.4-17.4 10.1-23.3 17.5-23.3 30.3v7.9h-34.7l-.3-8.6c-1.7-20.6 5.5-33.4 23.6-44 16.9-10.1 24-16.5 24-28.9s-12-21.5-26.9-21.5c-15.1 0-26 9.8-26.8 24.6H192c.7-32.2 24.5-54.9 64.7-54.9zm-26.3 171.4c0-11.5 9.6-20.6 21.4-20.6 11.9 0 21.5 9 21.5 20.6s-9.6 20.6-21.5 20.6-21.4-9-21.4-20.6z"},child:[]}]})(n)}function pz(n){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M74.6 256c0-38.3 31.1-69.4 69.4-69.4h88V144h-88c-61.8 0-112 50.2-112 112s50.2 112 112 112h88v-42.6h-88c-38.3 0-69.4-31.1-69.4-69.4zm85.4 22h192v-44H160v44zm208-134h-88v42.6h88c38.3 0 69.4 31.1 69.4 69.4s-31.1 69.4-69.4 69.4h-88V368h88c61.8 0 112-50.2 112-112s-50.2-112-112-112z"},child:[]}]})(n)}function YC(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.173 14.83a4 4 0 1 1 5.657 -5.657"},child:[]},{tag:"path",attr:{d:"M11.294 12.707l.174 .247a7.5 7.5 0 0 0 8.845 2.492a9 9 0 0 1 -14.671 2.914"},child:[]},{tag:"path",attr:{d:"M3 12h1"},child:[]},{tag:"path",attr:{d:"M12 3v1"},child:[]},{tag:"path",attr:{d:"M5.6 5.6l.7 .7"},child:[]},{tag:"path",attr:{d:"M3 21l18 -18"},child:[]}]})(n)}function Ih(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(n)}function mz(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(n)}function Id(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m10 17 5-5-5-5v10z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 24V0h24v24H0z"},child:[]}]})(n)}function gz(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59-.58.58V4h16v12zm-9-4h2v2h-2zm0-6h2v4h-2z"},child:[]}]})(n)}function KC(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13.25 16.74c0 .69-.53 1.26-1.25 1.26-.7 0-1.26-.56-1.26-1.26 0-.71.56-1.25 1.26-1.25.71 0 1.25.55 1.25 1.25zM11.99 6c-1.77 0-2.98 1.15-3.43 2.49l1.64.69c.22-.67.74-1.48 1.8-1.48 1.62 0 1.94 1.52 1.37 2.33-.54.77-1.47 1.29-1.96 2.16-.39.69-.31 1.49-.31 1.98h1.82c0-.93.07-1.12.22-1.41.39-.72 1.11-1.06 1.87-2.17.68-1 .42-2.36-.02-3.08-.51-.84-1.52-1.51-3-1.51zM19 5H5v14h14V5m0-2c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h14z"},child:[]}]})(n)}function jC(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 3.19 7 3.11V11c0 4.52-2.98 8.69-7 9.93-4.02-1.24-7-5.41-7-9.93V6.3l7-3.11M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-1 6h2v2h-2V7zm0 4h2v6h-2v-6z"},child:[]}]})(n)}function JA(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m18.85 10.39 1.06-1.06c.78-.78.78-2.05 0-2.83L18.5 5.09c-.78-.78-2.05-.78-2.83 0l-1.06 1.06 4.24 4.24zm-4.24 1.42L7.41 19H6v-1.41l7.19-7.19 1.42 1.41zm-1.42-4.25L4 16.76V21h4.24l9.19-9.19-4.24-4.25zM19 17.5c0 2.19-2.54 3.5-5 3.5-.55 0-1-.45-1-1s.45-1 1-1c1.54 0 3-.73 3-1.5 0-.47-.48-.87-1.23-1.2l1.48-1.48c1.07.63 1.75 1.47 1.75 2.68zM4.58 13.35C3.61 12.79 3 12.06 3 11c0-1.8 1.89-2.63 3.56-3.36C7.59 7.18 9 6.56 9 6c0-.41-.78-1-2-1-1.26 0-1.8.61-1.83.64-.35.41-.98.46-1.4.12a.992.992 0 0 1-.15-1.38C3.73 4.24 4.76 3 7 3s4 1.32 4 3c0 1.87-1.93 2.72-3.64 3.47C6.42 9.88 5 10.5 5 11c0 .31.43.6 1.07.86l-1.49 1.49z"},child:[]}]})(n)}function Rd(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.801 10A10 10 0 1 1 17 3.335"},child:[]},{tag:"path",attr:{d:"m9 11 3 3L22 4"},child:[]}]})(n)}function yz(n){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",x2:"4",y1:"22",y2:"15"},child:[]}]})(n)}const QC=({toggleSidebarOptions:n,setToggleSidebarOptions:e,collapsed:t})=>{const{dark:i,setDark:r,showOptions:o,setShowOptions:l}=K.useContext(xn);async function c(){document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"),r(!1);const d=ts.currentUser;if(d){const y=Jr(dr,"users",d.uid);await yh(y,{dark:!1},{merge:!0})}}async function h(){document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true"),r(!0);const d=ts.currentUser;if(d){const y=Jr(dr,"users",d.uid);await yh(y,{dark:!0},{merge:!0})}}return b.jsxs("ul",{className:`${n?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"} ${t?"-right-40":"right-0"} absolute -top-75 xl:-top-80 cursor-pointer rounded-lg bg-[#f0f4f9] whitespace-nowrap shadow shadow-black/50 transition-opacity duration-100 ease-in dark:bg-[#1b1c1d] dark:text-white`,children:[b.jsxs("li",{className:"mt-2 mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsx(tz,{className:"text-[1rem] xl:text-lg"})," Activity"]}),b.jsxs("li",{className:"mt-2 mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsx(JF,{className:"text-lg xl:text-xl"})," Saved info"]}),b.jsxs("li",{className:"mt-2 mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsx(QF,{className:"text-lg xl:text-xl"})," Apps"]}),b.jsxs("li",{className:"mt-2 mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsx(pz,{className:"text-lg xl:text-xl"})," Your public links"]}),b.jsxs("li",{onClick:()=>l({show:!o.show,title:"Theme"}),className:"relative block xl:hidden  mt-2 mb-2 px-6 py-1 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsxs("div",{className:"flex items-center gap-5",children:[b.jsx(YC,{className:"text-2xl xl:text-3xl"})," ",b.jsxs("p",{className:"flex w-full items-center justify-between",children:["Theme ",b.jsx(Id,{className:"text-lg"})]})]}),b.jsx("div",{className:`${o.title==="Theme"&&o.show?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"} z-[50]  absolute -top-0 -right-30 xl:-right-45  transition-opacity duration-100 ease-in `,children:b.jsxs("ul",{className:"w-40 xl:w-50 bg-[#f0f4f9] py-2 whitespace-nowrap shadow shadow-black/50 transition-opacity duration-100 ease-in dark:bg-[#1b1c1d] dark:text-white",children:[b.jsx("li",{className:"mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:"System"}),b.jsxs("li",{onClick:c,className:"mb-2 flex w-full items-center justify-between gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:["Light ",i?null:b.jsx(Rd,{className:"text-lg"})]}),b.jsxs("li",{onClick:h,className:"flex w-full items-center justify-between gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:["Dark ",i?b.jsx(Rd,{className:"text-lg"}):null]})]})})]}),b.jsxs("li",{className:"group hidden xl:block relative mt-2 mb-2 px-6 py-1 text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsxs("div",{className:"flex items-center gap-5",children:[b.jsx(YC,{className:"text-3xl"})," ",b.jsxs("p",{className:"flex w-full items-center justify-between",children:["Theme ",b.jsx(Id,{className:"text-lg"})]})]}),b.jsx("div",{className:"opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto absolute -top-0 -right-45  transition-opacity duration-100 ease-in ",children:b.jsxs("ul",{className:"w-50 bg-[#f0f4f9] py-2 whitespace-nowrap shadow shadow-black/50 transition-opacity duration-100 ease-in dark:bg-[#1b1c1d] dark:text-white",children:[b.jsx("li",{className:"mb-2 flex items-center gap-5 px-6 py-2 text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:"System"}),b.jsxs("li",{onClick:c,className:"mb-2 flex w-full items-center justify-between gap-5 px-6 py-2 text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:["Light ",i?null:b.jsx(Rd,{className:"text-lg"})]}),b.jsxs("li",{onClick:h,className:"flex w-full items-center justify-between gap-5 px-6 py-2 text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:["Dark ",i?b.jsx(Rd,{className:"text-lg"}):null]})]})})]}),b.jsxs("li",{className:"mt-2 mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsx(gz,{className:"text-lg xl:text-xl"})," Send feedback"]}),b.jsxs("li",{onClick:()=>l({show:!o.show,title:"Help"}),className:"group relative block xl:hidden mt-2 mb-2 px-6 py-1 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsxs("div",{className:"flex items-center gap-5",children:[b.jsx(KC,{className:"text-2xl xl:text-3xl"})," ",b.jsxs("p",{className:"flex w-full items-center justify-between",children:["Help ",b.jsx(Id,{className:"text-lg"})]})]}),b.jsx("div",{className:`${o.title==="Help"&&o.show?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"} absolute -top-5 -right-30 xl:-right-45  transition-opacity duration-100 ease-in `,children:b.jsxs("ul",{className:"w-40 xl:w-50 bg-[#f0f4f9] py-2 whitespace-nowrap shadow shadow-black/50 transition-opacity duration-100 ease-in dark:bg-[#1b1c1d] dark:text-white",children:[b.jsxs("li",{className:"mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsx($C,{className:"text-lg xl:text-xl"})," Help center"]}),b.jsxs("li",{className:"flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsx(jC,{className:"text-lg xl:text-xl"}),"Privacy"]})]})})]}),b.jsxs("li",{className:"group relative hidden xl:block mt-2 mb-2 px-6 py-1 text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsxs("div",{className:"flex items-center gap-5",children:[b.jsx(KC,{className:"text-3xl"})," ",b.jsxs("p",{className:"flex w-full items-center justify-between",children:["Help ",b.jsx(Id,{className:"text-lg"})]})]}),b.jsx("div",{className:"group-hover:opacity-100 group-hover:pointer-events-auto opacity-0 pointer-events-none absolute -top-5 -right-45  transition-opacity duration-100 ease-in ",children:b.jsxs("ul",{className:"w-50 bg-[#f0f4f9] py-2 whitespace-nowrap shadow shadow-black/50 transition-opacity duration-100 ease-in dark:bg-[#1b1c1d] dark:text-white",children:[b.jsxs("li",{className:"mb-2 flex items-center gap-5 px-6 py-2 text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsx($C,{className:"text-xl"})," Help center"]}),b.jsxs("li",{className:"flex items-center gap-5 px-6 py-2 text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234] dark:active:bg-[#313234]",children:[b.jsx(jC,{className:"text-xl"}),"Privacy"]})]})})]})]})},vz=({showMoreOptions:n,setShowMoreOptions:e,collapsed:t})=>{const{hideSidebar:i,toggleSidebarOptions:r,setToggleSidebarOptions:o}=K.useContext(xn);return b.jsx(b.Fragment,{children:i?b.jsx("div",{className:"absolute bottom-8",children:b.jsxs("div",{className:"relative",children:[b.jsxs("button",{onClick:()=>o(l=>!l),"aria-label":"Settings & help",className:"group relative",children:[b.jsx(qC,{className:`${r?"bg-blue-200 text-blue-800 dark:bg-[#1f3760] dark:text-white":"hover:bg-[#dde3ea] dark:hover:bg-[#3d3f41]"} rounded-full p-2 text-4xl text-[#525657] active:bg-[#b5bac0] dark:active:bg-[#484a4d]`}),b.jsx("p",{className:"side-tooltip -right-32",children:"Settings & help"})]}),b.jsx(QC,{collapsed:!0,toggleSidebarOptions:r,setToggleSidebarOptions:o})]})}):b.jsxs("div",{className:"relative",children:[b.jsxs("button",{onClick:()=>o(l=>!l),"aria-label":"Settings & help",className:`${r?"bg-blue-200 text-blue-800 dark:bg-[#1f3760] dark:text-white":"hover:bg-[#dde3ea] dark:hover:bg-[#3d3f41]"} group relative flex w-full cursor-pointer items-center gap-3 rounded-full px-3 py-2 pl-5 text-[#525657] active:bg-[#b5bac0] dark:text-[#878e8f] dark:active:bg-[#484a4d]`,children:[b.jsx(qC,{className:"xl:text-lg"}),b.jsx("h3",{className:"overflow-hidden text-sm xl:text-base",children:"Settings & help"}),b.jsx("p",{className:"side-tooltip -right-32",children:"Settings & help"})]}),b.jsx(QC,{toggleSidebarOptions:r,setToggleSidebarOptions:o})]})})},eb=K.createContext(),_z=({children:n})=>{const[e,t]=K.useState(null),[i,r]=K.useState(null),[o,l]=K.useState(!0),{setIsSignedIn:c,setUsername:h,recentChat:d,setRecentChat:y,setDark:T}=K.useContext(xn);return K.useEffect(()=>{const E=b7(ts,async C=>{if(t(C),C){c(!0);const I=Jr(dr,"users",C.uid),k=await Vl(I);if(k.exists()){const F=k.data();r(F);const U=F.name.split(" ");h(U[0]),y(F.conversations||[]),T(F.dark??!0),localStorage.setItem("darkMode",String(F.dark??!0)),F.dark?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}else r(null),y([]),T(!0),document.documentElement.classList.add("dark")}else{c(!1),h(""),r(null),y([]);const I=localStorage.getItem("darkMode"),k=I===null?!0:I==="true";T(k),k?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}l(!1)});return()=>E()},[]),b.jsx(eb.Provider,{value:{user:e,userData:i,setUserData:r,loading:o,recentChat:d,setRecentChat:y},children:n})},Kv=()=>K.useContext(eb),Tz=()=>{const{isSignedIn:n,hideSidebar:e,setHideSidebar:t,messages:i,setMessages:r,generatedId:o,setGeneratedId:l,getOrCreateId:c,showMoreOptions:h,setShowMoreOptions:d,toggleSidebarOptions:y,setToggleSidebarOptions:T}=K.useContext(xn),{loading:E}=Kv(),C=gr(),I=Dh();function k(){r([]),I("/"),t(!0)}if(!E)return b.jsxs(b.Fragment,{children:[!e&&b.jsx("div",{onClick:()=>t(!0),className:"animate-opacity fixed xl:hidden block z-[94] h-screen w-screen bg-black/50"}),b.jsxs("section",{className:`xl:relative z-[95] h-screen w-full bg-[#f0f4f9] p-2 xl:p-4 whitespace-nowrap transition-all fixed duration-300 ease-in-out dark:bg-[#282a2c] ${e?"-left-full xl:-left-0 max-w-[4rem]":"-left-0 max-w-[12rem] xl:max-w-[18rem]"}`,children:[b.jsx(ZF,{hideSidebar:e,setHideSidebar:t}),b.jsx(oz,{hideSidebar:e,isSignedIn:n,newChat:k,location:C}),b.jsx(cz,{messages:i,generatedId:o,setGeneratedId:l,getOrCreateId:c,hideSidebar:e}),b.jsx(vz,{showMoreOptions:h,setShowMoreOptions:d,toggleSidebarOptions:y,setToggleSidebarOptions:T,collapsed:e})]})]})},Ez=({signUpForm:n,name:e,setName:t,nameError:i,validateName:r,email:o,setEmail:l,emailError:c,validateEmail:h,password:d,setPassword:y,passwordError:T,validatePassword:E,passwordStrengthMsg:C,passwordStrength:I,showPassword:k,setShowPassword:F,allErrorsMsg:U,validateForm:q})=>b.jsxs("form",{onSubmit:G=>q(G),className:"px-3 xl:px-8",children:[n&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"mb-1 block text-xs font-medium text-black xl:text-sm dark:text-white",children:"Name"}),b.jsx("input",{autoComplete:"on",type:"text",id:"name",value:e,onChange:G=>t(G.target.value),onKeyUp:r,className:`form-input ${i.touched?i.error?"border-red-500":"border-green-500":"border-gray-500"}`,placeholder:"Your name"}),b.jsx("span",{className:`text-xs ${i.touched?i.error?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400":"opacity-0"}`,children:i.touched?i.msg:"Error"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"mb-1 block text-xs font-medium text-black xl:text-sm dark:text-white",children:"Email"}),b.jsx("input",{autoComplete:"on",type:"email",id:"email",value:o,onChange:G=>l(G.target.value),onKeyUp:h,className:`form-input ${c.touched?c.error?"border-red-500":"border-green-500":"border-gray-500"}`,placeholder:"your@email.com"}),b.jsx("span",{className:`text-xs ${c.touched?c.error?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400":"opacity-0"}`,children:c.touched?c.msg:"Error"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"mb-1 block text-xs font-medium text-black xl:text-sm dark:text-white",children:"Password"}),b.jsxs("div",{className:"relative flex items-center",children:[b.jsx("input",{autoComplete:"on",type:k?"text":"password",id:"password",value:d,onChange:G=>y(G.target.value),onKeyUp:n?I:E,className:`form-input ${n?C.touched?C.border:"border-gray-500":T.touched?T.error?"border-red-500":"border-green-500":"border-gray-500"}`,placeholder:""}),k?b.jsx(iz,{onClick:()=>F(G=>!G),className:"absolute right-1 h-[90%] w-12 cursor-pointer rounded-r-sm p-2.5 text-lg dark:bg-[#282a2c]"}):b.jsx(rz,{onClick:()=>F(G=>!G),className:"absolute right-1 h-[90%] w-12 cursor-pointer rounded-r-sm p-2.5 text-lg dark:bg-[#282a2c]"})]}),n?b.jsx("span",{className:`text-xs ${C.touched?C.color:"opacity-0"}`,children:C.touched?C.msg:"Error"}):b.jsx("span",{className:`text-xs ${T.touched?T.error?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400":"opacity-0"}`,children:T.touched?T.msg:"Error"})]}),!n&&b.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[b.jsxs("label",{htmlFor:"checkbox",className:"flex cursor-pointer items-center",children:[b.jsx("input",{autoComplete:"on",type:"checkbox",id:"checkbox",className:"rounded border-gray-500 text-indigo-600 accent-indigo-600 focus:ring-indigo-500"}),b.jsx("span",{className:"ml-2 text-xs xl:text-sm dark:text-white",children:"Remember me"})]}),b.jsx("a",{className:"cursor-pointer text-xs xl:text-sm text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Forgot password?"})]}),b.jsx("button",{"aria-label":"Submit form",type:"submit",className:"mt-4 w-full xl:text-base text-sm cursor-pointer rounded-lg bg-indigo-600 py-2.5 font-medium text-white transition-colors hover:bg-indigo-700",children:n?"Sign Up":"Log In"}),b.jsx("span",{className:`text-sm text-red-400 ${U.error?U.opacity:"opacity-0"}`,children:U.error?U.msg:"Error"})]}),jv="/react-century/assets/logo-MdYtDqr9.png";function xz(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3H6.693A2.01 2.01 0 0 0 4.82 4.298l-2.757 7.351A1 1 0 0 0 2 12v2c0 1.103.897 2 2 2h5.612L8.49 19.367a2.004 2.004 0 0 0 .274 1.802c.376.52.982.831 1.624.831H12c.297 0 .578-.132.769-.36l4.7-5.64H20c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zm-8.469 17h-1.145l1.562-4.684A1 1 0 0 0 11 14H4v-1.819L6.693 5H16v9.638L11.531 20zM18 14V5h2l.001 9H18z"},child:[]}]})(n)}function Cz(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 8h-5.612l1.123-3.367c.202-.608.1-1.282-.275-1.802S14.253 2 13.612 2H12c-.297 0-.578.132-.769.36L6.531 8H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h13.307a2.01 2.01 0 0 0 1.873-1.298l2.757-7.351A1 1 0 0 0 22 12v-2c0-1.103-.897-2-2-2zM4 10h2v9H4v-9zm16 1.819L17.307 19H8V9.362L12.468 4h1.146l-1.562 4.683A.998.998 0 0 0 13 10h7v1.819z"},child:[]}]})(n)}function Sz(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3h-1v13h1a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM4 16h7l-1.122 3.368A2 2 0 0 0 11.775 22H12l5-5.438V3H6l-3.937 8.649-.063.293V14a2 2 0 0 0 2 2z"},child:[]}]})(n)}function wz(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 21h1V8H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2zM20 8h-7l1.122-3.368A2 2 0 0 0 12.225 2H12L7 7.438V21h11l3.912-8.596L22 12v-2a2 2 0 0 0-2-2z"},child:[]}]})(n)}function Az(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm4.207 12.793-1.414 1.414L12 13.414l-2.793 2.793-1.414-1.414L10.586 12 7.793 9.207l1.414-1.414L12 10.586l2.793-2.793 1.414 1.414L13.414 12l2.793 2.793z"},child:[]}]})(n)}const bz=({signUpForm:n})=>{const{setShowModal:e}=K.useContext(xn);return b.jsxs("div",{className:"relative mb-6 flex items-center justify-start xl:justify-center gap-2 xl:gap-5 rounded-t-xl bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 px-2 py-3 text-lg xl:text-2xl font-bold text-white",children:[b.jsx("img",{src:jv,alt:"Century logo",className:"w-15 xl:w-25"}),b.jsxs("h2",{children:[n?"Sign Up":"Log In"," To Century"]}),b.jsx(Az,{onClick:()=>e(!1),className:"absolute top-3 right-3 text-xl cursor-pointer"})]})},Iz=({signUpForm:n,setSignUpForm:e})=>b.jsx(b.Fragment,{children:n?b.jsxs("div",{className:"mt-4 px-8 pb-8 text-center text-xs xl:text-sm dark:text-white",children:["Already have an account?",b.jsx("a",{onClick:()=>e(!1),className:"ml-2 cursor-pointer font-medium text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Log in"})]}):b.jsxs("div",{className:"mt-6 px-8 pb-8 text-center text-xs xl:text-sm dark:text-white",children:["Don't have an account?",b.jsx("a",{onClick:()=>e(!0),className:"ml-2 cursor-pointer font-medium text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Sign up"})]})}),tb=()=>{const{setShowModal:n,setUsername:e}=K.useContext(xn),{handleFeedback:t}=np(),[i,r]=K.useState(!1),[o,l]=K.useState(!1),[c,h]=K.useState(""),[d,y]=K.useState({msg:"",error:!1,touched:!1}),[T,E]=K.useState(""),[C,I]=K.useState({msg:"",error:!1,touched:!1}),[k,F]=K.useState(""),[U,q]=K.useState({msg:"",border:"",color:"",touched:!1}),[G,re]=K.useState({msg:"",error:!1,touched:!1}),[ie,Y]=K.useState({opacity:"",msg:"",error:!1});function V(){return y(he=>({...he,touched:!0})),c.trim().length===0?(y({msg:"Name is required",error:!0,touched:!0}),!1):c.match(/^[A-Za-z]{2,}(?:\s[A-Za-z]+)?$/)?(y({msg:"Name Looks Good",error:!1,touched:!0}),!0):(y({msg:"Write a valid name",error:!0,touched:!0}),!1)}function D(){return I(he=>({...he,touched:!0})),T.trim().length===0?(I({msg:"Email is required",error:!0,touched:!0}),!1):T.match(/^[A-Za-z0-9._%+-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?$/)?(I({msg:"Email Looks Good",error:!1,touched:!0}),!0):(I({msg:"Use a valid email",error:!0,touched:!0}),!1)}function N(){return re(he=>({...he,touched:!0})),k.trim().length===0?(re({msg:"Password is required",error:!0,touched:!0}),!1):k.length<6?(re({msg:"Password can only be 6 or more characters long",error:!0,touched:!0}),!1):(re({msg:"Password Looks Good",error:!1,touched:!0}),!0)}function O(){return q(he=>({...he,touched:!0})),k.trim().length===0?(q({msg:"Password cannot be empty",border:"border-red-500",color:"text-red-600 dark:text-red-400",touched:!0}),!1):k.trim().length<6?(q({msg:"Password strength is weak",border:"border-red-500",color:"text-red-600 dark:text-red-400",touched:!0}),!1):k.trim().length>=6&&k.trim().length<8?(q({msg:"Password strength is medium",border:"border-orange-500",color:"text-orange-600 dark:text-orange-400",touched:!0}),!0):(q({msg:"Password strength is strong",border:"border-green-500",color:"text-green-600 dark:text-green-400",touched:!0}),!0)}async function z(he){if(he.preventDefault(),o){if(c.trim().length===0||T.trim().length===0||k.trim().length===0){Y({opacity:"opacity-100",msg:"All input fields are empty",error:!0}),setTimeout(()=>{Y(me=>({...me,opacity:"opacity-0",error:!1}))},3e3);return}if(!V()||!D()||!N()||!O()){Y({opacity:"opacity-100",msg:"Please fix all errors",error:!0}),setTimeout(()=>{Y(me=>({...me,opacity:"opacity-0",error:!1}))},3e3);return}try{await B(c,T,k),setIsSignedIn(!0)}catch{Y({opacity:"opacity-100",msg:"Signup failed. Try again.",error:!0})}}else{if(T.trim().length===0||k.trim().length===0){Y({opacity:"opacity-100",msg:"Email and password are required",error:!0}),setTimeout(()=>{Y(me=>({...me,opacity:"opacity-0",error:!1}))},3e3);return}if(!D()||!N()){Y({opacity:"opacity-100",msg:"Please fix all errors",error:!0}),setTimeout(()=>{Y(me=>({...me,opacity:"opacity-0",error:!1}))},3e3);return}try{await L(T,k),setIsSignedIn(!0)}catch{Y({opacity:"opacity-100",msg:"Login failed. Try again.",error:!0})}}}const B=async(he,me,J)=>{try{const Ee=(await C7(ts,me,J)).user;await yh(Jr(dr,"users",Ee.uid),{name:he,email:me,dark:!0,conversations:[],createdAt:Ut.now()});const ke=he.split(" ");e(ke[0]),n(!1),t("Signup successful",!1)}catch(fe){console.log(fe),t(fe.message,!0)}},L=async(he,me)=>{try{const fe=(await S7(ts,he,me)).user,Ee=Jr(dr,"users",fe.uid),ke=await Vl(Ee);if(ke.exists()){const W=ke.data().name.split(" ");e(W[0]),n(!1),t("Login Successful",!1)}else t("No such user exists",!0)}catch(J){console.log(J),t(J.message,!0)}};return b.jsxs("div",{className:"fixed top-0 left-0 z-[99] flex h-screen w-screen items-center justify-center",children:[b.jsx("div",{onClick:()=>n(!1),className:"animate-opacity fixed z-[98] h-screen w-screen bg-black/50"}),b.jsxs("div",{className:"pop-down z-[100] w-full max-w-[80%] xl:max-w-md rounded-xl bg-[#f0f4f9] text-black shadow-lg dark:bg-[#282a2c] dark:text-white",children:[b.jsx(bz,{signUpForm:o}),b.jsx(Ez,{signUpForm:o,name:c,setName:h,nameError:d,validateName:V,email:T,setEmail:E,emailError:C,validateEmail:D,password:k,setPassword:F,passwordError:G,validatePassword:N,passwordStrengthMsg:U,passwordStrength:O,showPassword:i,setShowPassword:r,allErrorsMsg:ie,validateForm:z}),b.jsx(Iz,{signUpForm:o,setSignUpForm:l})]})]})};function Rz(n){return ze({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M112,60a16,16,0,1,1,16,16A16,16,0,0,1,112,60Zm16,52a16,16,0,1,0,16,16A16,16,0,0,0,128,112Zm0,68a16,16,0,1,0,16,16A16,16,0,0,0,128,180Z"},child:[]}]})(n)}function nb(n){return ze({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M239.35,70.08a13.41,13.41,0,0,0-11.77-9.28l-36.94-2.92L176.43,24.22a13.51,13.51,0,0,0-24.86,0L137.36,57.88,100.42,60.8a13.39,13.39,0,0,0-7.66,23.58l28.06,23.68-8.56,35.39a13.32,13.32,0,0,0,5.1,13.91,13.51,13.51,0,0,0,15,.69L164,139l31.65,19.06a13.54,13.54,0,0,0,15-.69,13.34,13.34,0,0,0,5.09-13.91l-8.56-35.39,28.06-23.68A13.32,13.32,0,0,0,239.35,70.08ZM193.08,99a8,8,0,0,0-2.61,8l8.28,34.21L168.13,122.8a8,8,0,0,0-8.25,0l-30.62,18.43L137.54,107a8,8,0,0,0-2.62-8L108,76.26l35.52-2.81a8,8,0,0,0,6.74-4.87L164,35.91l13.79,32.67a8,8,0,0,0,6.74,4.87l35.53,2.81Zm-105,24.18L29.66,181.66a8,8,0,0,1-11.32-11.32l58.45-58.45a8,8,0,0,1,11.32,11.32Zm10.81,49.87a8,8,0,0,1,0,11.31L45.66,237.66a8,8,0,0,1-11.32-11.32l53.27-53.26A8,8,0,0,1,98.92,173.08Zm73-1a8,8,0,0,1,0,11.32l-54.28,54.28a8,8,0,0,1-11.32-11.32l54.29-54.28A8,8,0,0,1,171.94,172.06Z"},child:[]}]})(n)}const Rh="/react-century/assets/user-DuEYzllE.png",kz=({isSignedIn:n,setIsSignedIn:e})=>{const{handleLogout:t,setHideSidebar:i,username:r,setShowModal:o,showOptions:l,setShowOptions:c}=K.useContext(xn);return b.jsxs("div",{className:"flex w-full items-center justify-between px-3 py-2",children:[b.jsxs("div",{className:"text-[#4a4a4a] dark:text-white",children:[b.jsx(Yv,{onClick:()=>i(h=>!h),className:"menu-btns xl:hidden block mb-2 mt-2 text-4xl"}),b.jsx("h2",{className:"text-lg xl:text-xl",children:"Century"}),b.jsxs("h3",{className:"flex w-fit cursor-pointer items-center gap-2 rounded-full bg-[#f0f4f9] px-2 py-1 text-xs text-[#4a4a4a] hover:bg-[#dde3ea] active:bg-[#c0c5cb] dark:bg-[#282a2c] dark:text-[#9a9fa5] dark:hover:bg-[#383b3e] dark:active:bg-[#323537]",children:["2.5 Flash ",b.jsx(ZA,{})]})]}),n?b.jsxs("div",{className:"mr-5 self-start mt-2 xl:mt-0 flex items-center gap-5 text-xs xl:text-sm",children:[b.jsxs("button",{"aria-label":"Upgrade",className:"flex cursor-pointer items-center gap-2 rounded-sm bg-[#dde3ea] px-4 py-2 hover:bg-[#cbd0d6] active:bg-[#bec3c8] dark:bg-[#282a2c] dark:text-white dark:hover:bg-[#3d3f41] dark:active:bg-[#3a3c3e]",children:[b.jsx(nb,{className:"text-lg text-rose-600 dark:text-rose-400"}),"Upgrade"]}),b.jsxs("div",{onClick:()=>c({show:!l.show,title:"User"}),className:"relative block xl:hidden",children:[b.jsx("button",{"aria-label":"User",className:"w-10 cursor-pointer",children:b.jsx("img",{src:Rh,className:"w-10 rounded-full object-cover",alt:"User"})}),b.jsxs("ul",{className:`${l.title==="User"&&l.show?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"} absolute -right-5 z-[10] w-32 cursor-pointer bg-[#f0f4f9] whitespace-nowrap text-black opacity-0 shadow shadow-black/50 transition-opacity duration-100 ease-in dark:bg-[#1b1c1d] dark:text-white`,children:[b.jsx("li",{className:"mt-2 mb-2 px-6 py-2 text-center text-sm xl:text-base text-black dark:text-white",children:r}),b.jsxs("li",{onClick:()=>{t(),e(!1)},className:"mt-2 mb-2 flex items-center gap-3 px-6 py-2 text-sm xl:text-base text-red-600 hover:bg-[#dde3ea] dark:text-red-400 dark:hover:bg-[#272729]",children:[b.jsx(Ih,{className:"xl:text-lg"})," Logout"]})]})]}),b.jsxs("div",{className:"group relative hidden xl:block",children:[b.jsx("button",{"aria-label":"User",className:"w-10 cursor-pointer",children:b.jsx("img",{src:Rh,className:"w-10 rounded-full object-cover",alt:"User"})}),b.jsxs("ul",{className:"pointer-events-none absolute -right-5 z-[10] w-32 cursor-pointer bg-[#f0f4f9] whitespace-nowrap text-black opacity-0 shadow shadow-black/50 transition-opacity duration-100 ease-in group-hover:pointer-events-auto group-hover:opacity-100 dark:bg-[#1b1c1d] dark:text-white",children:[b.jsx("li",{className:"mt-2 mb-2 px-6 py-2 text-center text-base text-black dark:text-white",children:r}),b.jsxs("li",{onClick:()=>{t(),e(!1)},className:"mt-2 mb-2 flex items-center gap-3 px-6 py-2 text-base text-red-600 hover:bg-[#dde3ea] dark:text-red-400 dark:hover:bg-[#272729]",children:[b.jsx(Ih,{className:"text-lg"})," Logout"]})]})]})]}):b.jsxs("div",{className:"xl:mr-5 flex items-center mt-2 xl:mt-0 self-start xl:self-auto gap-5 text-xs xl:text-sm",children:[b.jsx("a",{target:"_blank",href:"https://github.com/JatinManhotra/react-century",className:"cursor-pointer text-gray-700 dark:text-blue-200",children:"About Century"}),b.jsx("button",{onClick:()=>o(!0),"aria-label":"Sign in",className:"cursor-pointer rounded-sm bg-blue-600 px-4 py-1.5 text-white dark:bg-blue-300 dark:text-black",children:"Sign in"})]})]})},Nz=({isSignedIn:n})=>{const{username:e}=K.useContext(xn);return b.jsx("div",{className:`flex ${n?"h-[calc(100%_-_16rem)] xl:h-[calc(100%_-_14.5rem)]":"h-[calc(100%_-_15rem)] xl:h-[calc(100%_-_13rem)]"} w-full items-center justify-center`,children:n?b.jsxs("h1",{className:"bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 bg-clip-text text-center text-3xl xl:text-4xl text-transparent",children:["Hello, ",e]}):b.jsxs("h1",{className:"text-center text-3xl xl:text-5xl text-[#424242] dark:text-white",children:["Meet"," ",b.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Century"}),", ",b.jsx("br",{})," your personal AI Assistant"]})})};function ib(n){return ze({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 3 C 8.832 3 3 8.832 3 16 C 3 23.168 8.832 29 16 29 C 23.168 29 29 23.168 29 16 C 29 8.832 23.168 3 16 3 z M 16 5 C 16.338 5 16.67 5.0207813 17 5.0507812 L 17 6 L 19 6 L 19 5.4257812 C 21.458 6.1247812 23.566 7.6543125 25 9.6953125 L 25 13 L 26 15 L 26 16 L 27 16 C 27 16.366 26.980312 16.728938 26.945312 17.085938 C 26.936312 17.181938 26.916297 17.274141 26.904297 17.369141 C 26.871297 17.632141 26.837156 17.893391 26.785156 18.150391 C 26.766156 18.246391 26.74075 18.340547 26.71875 18.435547 C 26.66075 18.689547 26.598437 18.942453 26.523438 19.189453 C 26.497438 19.274453 26.467453 19.357406 26.439453 19.441406 C 26.355453 19.695406 26.266063 19.947359 26.164062 20.193359 C 26.134062 20.265359 26.101312 20.33525 26.070312 20.40625 C 25.958313 20.66125 25.840938 20.91225 25.710938 21.15625 C 25.679938 21.21525 25.646281 21.273078 25.613281 21.330078 C 25.473281 21.582078 25.325016 21.826406 25.166016 22.066406 C 25.135016 22.113406 25.102312 22.161984 25.070312 22.208984 C 24.902313 22.453984 24.724109 22.691875 24.537109 22.921875 C 24.506109 22.959875 24.478266 22.996203 24.447266 23.033203 C 24.253266 23.266203 24.047937 23.489078 23.835938 23.705078 C 23.804938 23.736078 23.775141 23.769781 23.744141 23.800781 C 23.527141 24.015781 23.300406 24.221969 23.066406 24.417969 C 23.033406 24.445969 23.004703 24.474953 22.970703 24.501953 C 22.736703 24.693953 22.491187 24.872922 22.242188 25.044922 C 22.203187 25.071922 22.167906 25.102906 22.128906 25.128906 C 21.889906 25.289906 21.640672 25.436125 21.388672 25.578125 C 20.214672 26.237125 18.909578 26.690859 17.517578 26.880859 L 21.529297 23.857422 L 22.628906 22.757812 L 24 20 L 24 19 L 22 18 L 21 18 L 19 16 L 17 16 L 16 17 L 16 18 L 15 19 L 15 21 L 17 22.599609 L 15.023438 26.951172 C 9.4144375 26.453172 5 21.735 5 16 C 5 12.592 6.559 9.5414844 9 7.5214844 L 9 8 L 8 9 L 8 11.199219 L 9 15 L 14 17 L 15 17 L 15 16 L 12 15 L 12 13 L 15 13 L 16 10.5 L 18 9 L 18 8 L 15 6 L 13.5625 5.28125 C 14.3475 5.10325 15.161 5 16 5 z M 15 14 L 15 15 L 17 15 L 17 14 L 15 14 z"},child:[]}]})(n)}function Mz(n){return ze({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 3 C 8.832031 3 3 8.832031 3 16 C 3 23.167969 8.832031 29 16 29 C 23.167969 29 29 23.167969 29 16 C 29 8.832031 23.167969 3 16 3 Z M 16 5 C 22.085938 5 27 9.914063 27 16 C 27 22.085938 22.085938 27 16 27 C 9.914063 27 5 22.085938 5 16 C 5 9.914063 9.914063 5 16 5 Z M 12.21875 10.78125 L 10.78125 12.21875 L 14.5625 16 L 10.78125 19.78125 L 12.21875 21.21875 L 16 17.4375 L 19.78125 21.21875 L 21.21875 19.78125 L 17.4375 16 L 21.21875 12.21875 L 19.78125 10.78125 L 16 14.5625 Z"},child:[]}]})(n)}const Dz=({isSignedIn:n,promptInput:e,setPromptInput:t,fetchPrompt:i,getOrCreateId:r,handleSubmit:o})=>b.jsx(b.Fragment,{children:n?b.jsxs("div",{className:"m-auto flex w-[95%] overflow-hidden xl:w-[45rem] flex-col rounded-3xl border border-[#595c5f]/50 px-4 py-3 text-[#595c5f] dark:border-[#9a9fa5]/50 dark:text-[#868a8f]",children:[b.jsx("input",{placeholder:"Ask Century",value:e,onChange:l=>t(l.target.value),onKeyDown:l=>i(l,e,r()),className:"flex-1 text-sm border-none px-3 xl:text-base text-[#505050] outline-none placeholder:text-[#595c5f] dark:text-white dark:placeholder:text-[#9a9fa5]",type:"text",name:"chat-field",id:"chat-field"}),b.jsxs("div",{className:"mt-4 xl:mt-6 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"group relative",children:[b.jsx(bh,{className:"menu-btns text-3xl xl:text-4xl text-[#595c5f] dark:text-[#868a8f]"}),b.jsx("p",{className:"bottom-tooltip",children:"Add files"})]}),b.jsxs("div",{className:"group relative",children:[b.jsxs("button",{"aria-label":"Deep research",className:"menu-btns flex items-center gap-2 text-sm text-[#595c5f] dark:text-[#868a8f]",children:[b.jsx(ib,{className:"text-lg xl:text-xl"}),b.jsx("span",{className:"hidden xl:block",children:"Deep Research"})]}),b.jsx("p",{className:"bottom-tooltip",children:"Get in depth answers"})]}),b.jsxs("div",{className:"group relative",children:[b.jsxs("button",{"aria-label":"Canvas",className:"menu-btns flex items-center gap-2 text-sm text-[#595c5f] dark:text-[#868a8f]",children:[b.jsx(JA,{className:"text-lg xl:text-xl"}),b.jsx("span",{className:"hidden xl:block",children:"Canvas"})]}),b.jsx("p",{className:"bottom-tooltip",children:"Create docs and apps"})]})]}),e.trim().length>=1?b.jsxs("div",{className:"group relative",children:[b.jsx("span",{onClick:()=>o(e,r()),className:"menu-btns flex xl:h-9 xl:w-9 w-7 h-7 items-center justify-center rounded-full p-2 text-[#595c5f] dark:text-white",children:b.jsx(Ah,{className:"text-3xl xl:text-4xl"})}),b.jsx("p",{className:"bottom-tooltip",children:"Submit"})]}):b.jsxs("div",{className:"group relative",children:[b.jsx(GC,{className:"menu-btns text-3xl xl:text-4xl text-[#595c5f] dark:text-[#868a8f]"}),b.jsx("p",{className:"bottom-tooltip",children:"Use microphone"})]})]})]}):b.jsxs("div",{className:"m-auto mt-5 w-[95%] overflow-hidden flex xl:w-[45rem] items-center rounded-full border border-[#595c5f]/50 px-2 xl:px-4 py-1 xl:py-2 text-[#595c5f] dark:border-[#9a9fa5]/50 dark:text-[#868a8f]",children:[b.jsxs("div",{className:"group relative",children:[b.jsx(bh,{className:"menu-btns text-3xl xl:text-4xl text-[#595c5f] dark:text-[#868a8f]"}),b.jsx("p",{className:"bottom-tooltip",children:"Add files"})]}),b.jsx("input",{placeholder:"Ask Century",className:"flex-1 border-none px-1 xl:px-3 text-sm placeholder:text-sm xl:placeholder:text-base  xl:text-base text-[#505050] outline-none placeholder:text-[#595c5f] dark:text-white dark:placeholder:text-[#9a9fa5]",type:"text",name:"chat-field",id:"chat-field",value:e,onChange:l=>t(l.target.value),onKeyDown:l=>i(l,e,r())}),e.trim().length>=1?b.jsxs("div",{className:"group relative",children:[b.jsx("span",{onClick:()=>o(e,r()),className:"menu-btns flex xl:h-9 xl:w-9 w-7 h-7 items-center justify-center rounded-full p-2 text-[#595c5f] dark:text-white",children:b.jsx(Ah,{className:"text-3xl xl:text-4xl"})}),b.jsx("p",{className:"bottom-tooltip",children:"Submit"})]}):b.jsxs("div",{className:"group relative",children:[b.jsx(GC,{className:"menu-btns text-3xl xl:text-4xl text-[#595c5f] dark:text-[#868a8f]"}),b.jsx("p",{className:"bottom-tooltip",children:"Use microphone"})]})]})}),Pz=({isSignedIn:n})=>b.jsx(b.Fragment,{children:!n&&b.jsxs("h3",{className:"m-auto mt-2 xl:mt-4 w-fit text-center text-xs xl:text-sm text-[#595c5f] dark:text-[#9a9fa5]",children:[b.jsx("span",{className:"underline",children:"Terms"})," and the"," ",b.jsx("span",{className:"underline",children:"Privacy Policy"})," apply, Century can make mistakes, so double-check it"]})}),Lz=()=>{const{isSignedIn:n,setIsSignedIn:e,showModal:t,handleSubmit:i,promptInput:r,setPromptInput:o,fetchPrompt:l,getOrCreateId:c}=K.useContext(xn),{loading:h}=Kv();return h?b.jsxs("div",{className:"relative flex h-screen w-screen bg-[#fff] dark:bg-[#1b1c1d] items-center justify-center ",children:[b.jsx("div",{className:"div-spinner flex w-60 h-60 xl:h-75 xl:w-75 items-center justify-center rounded-full"}),b.jsx("img",{className:"scale-img absolute top-[50%] left-[50%] w-55 xl:w-70 translate-x-[-50%] translate-y-[-50%] rounded-full",src:jv,alt:"Century logo"})]}):b.jsxs("section",{className:"h-screen w-screen bg-[#fff] dark:bg-[#1b1c1d]",children:[b.jsx(kz,{isSignedIn:n,setIsSignedIn:e}),t&&b.jsx(tb,{}),b.jsx(Nz,{isSignedIn:n}),b.jsx(Dz,{isSignedIn:n,promptInput:r,setPromptInput:o,fetchPrompt:l,getOrCreateId:c,handleSubmit:i}),b.jsx(Pz,{isSignedIn:n})]})},Vz=({isSignedIn:n,setIsSignedIn:e})=>{const{handleLogout:t,setShowModal:i,setHideSidebar:r,username:o,showOptions:l,setShowOptions:c}=K.useContext(xn);return b.jsxs("div",{className:"flex w-full items-center justify-between px-3 py-2",children:[b.jsxs("div",{className:"text-[#4a4a4a] dark:text-white",children:[b.jsx(Yv,{onClick:()=>r(h=>!h),className:"menu-btns mt-2 mb-2 block text-4xl xl:hidden"}),b.jsx("h2",{className:"text-lg xl:text-xl",children:"Century"}),b.jsxs("h3",{className:"flex w-fit cursor-pointer items-center gap-2 rounded-full bg-[#f0f4f9] px-2 py-1 text-xs text-[#4a4a4a] hover:bg-[#dde3ea] active:bg-[#c0c5cb] dark:bg-[#282a2c] dark:text-[#9a9fa5] dark:hover:bg-[#383b3e] dark:active:bg-[#323537]",children:["2.5 Flash ",b.jsx(ZA,{})]})]}),n?b.jsxs("div",{className:"mr-5 self-start mt-2 xl:mt-0 flex items-center gap-5 text-xs xl:text-sm",children:[b.jsxs("button",{"aria-label":"Upgrade",className:"flex cursor-pointer items-center gap-2 rounded-sm bg-[#dde3ea] px-4 py-2 hover:bg-[#cbd0d6] active:bg-[#bec3c8] dark:bg-[#282a2c] dark:text-white dark:hover:bg-[#3d3f41] dark:active:bg-[#3a3c3e]",children:[b.jsx(nb,{className:"text-lg text-rose-600 dark:text-rose-400"}),"Upgrade"]}),b.jsxs("div",{onClick:()=>c({show:!l.show,title:"User"}),className:"relative block xl:hidden",children:[b.jsx("button",{"aria-label":"User",className:"w-10 cursor-pointer",children:b.jsx("img",{src:Rh,className:"w-10 rounded-full object-cover",alt:"User"})}),b.jsxs("ul",{className:`${l.title==="User"&&l.show?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"} absolute -right-5 z-[10] w-32 cursor-pointer bg-[#f0f4f9] whitespace-nowrap text-black opacity-0 shadow shadow-black/50 transition-opacity duration-100 ease-in dark:bg-[#1b1c1d] dark:text-white`,children:[b.jsx("li",{className:"mt-2 mb-2 px-6 py-2 text-center text-sm xl:text-base text-black dark:text-white",children:o}),b.jsxs("li",{onClick:()=>{t(),e(!1)},className:"mt-2 mb-2 flex items-center gap-3 px-6 py-2 text-sm xl:text-base text-red-600 hover:bg-[#dde3ea] dark:text-red-400 dark:hover:bg-[#272729]",children:[b.jsx(Ih,{className:"xl:text-lg"})," Logout"]})]})]}),b.jsxs("div",{className:"group relative hidden xl:block",children:[b.jsx("button",{"aria-label":"User",className:"w-10 cursor-pointer",children:b.jsx("img",{src:Rh,className:"w-10 rounded-full object-cover",alt:"User"})}),b.jsxs("ul",{className:"pointer-events-none absolute -right-5 z-[10] w-32 cursor-pointer bg-[#f0f4f9] whitespace-nowrap text-black opacity-0 shadow shadow-black/50 transition-opacity duration-100 ease-in group-hover:pointer-events-auto group-hover:opacity-100 dark:bg-[#1b1c1d] dark:text-white",children:[b.jsx("li",{className:"mt-2 mb-2 px-6 py-2 text-center text-base text-black dark:text-white",children:o}),b.jsxs("li",{onClick:()=>{t(),e(!1)},className:"mt-2 mb-2 flex items-center gap-3 px-6 py-2 text-base text-red-600 hover:bg-[#dde3ea] dark:text-red-400 dark:hover:bg-[#272729]",children:[b.jsx(Ih,{className:"text-lg"})," Logout"]})]})]})]}):b.jsxs("div",{className:"xl:mr-5 flex items-center mt-2 xl:mt-0 self-start xl:self-auto gap-5 text-xs xl:text-sm",children:[b.jsx("a",{target:"_blank",href:"https://github.com/JatinManhotra/react-century",className:"cursor-pointer text-gray-700 dark:text-blue-200",children:"About Century"}),b.jsx("button",{onClick:()=>i(!0),"aria-label":"Sign in",className:"cursor-pointer rounded-sm bg-blue-600 px-4 py-1.5 text-white dark:bg-blue-300 dark:text-black",children:"Sign in"})]})]})};function Oz(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Uz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Fz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zz={};function WC(n,e){return(zz.jsx?Fz:Uz).test(n)}const Bz=/[ \t\n\f\r]/g;function Hz(n){return typeof n=="object"?n.type==="text"?XC(n.value):!1:XC(n)}function XC(n){return n.replace(Bz,"")===""}class Qc{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}Qc.prototype.normal={};Qc.prototype.property={};Qc.prototype.space=void 0;function rb(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new Qc(t,i,e)}function ky(n){return n.toLowerCase()}class Zn{constructor(e,t){this.attribute=t,this.property=e}}Zn.prototype.attribute="";Zn.prototype.booleanish=!1;Zn.prototype.boolean=!1;Zn.prototype.commaOrSpaceSeparated=!1;Zn.prototype.commaSeparated=!1;Zn.prototype.defined=!1;Zn.prototype.mustUseProperty=!1;Zn.prototype.number=!1;Zn.prototype.overloadedBoolean=!1;Zn.prototype.property="";Zn.prototype.spaceSeparated=!1;Zn.prototype.space=void 0;let qz=0;const je=ra(),Wt=ra(),Ny=ra(),ye=ra(),wt=ra(),fl=ra(),li=ra();function ra(){return 2**++qz}const My=Object.freeze(Object.defineProperty({__proto__:null,boolean:je,booleanish:Wt,commaOrSpaceSeparated:li,commaSeparated:fl,number:ye,overloadedBoolean:Ny,spaceSeparated:wt},Symbol.toStringTag,{value:"Module"})),Sg=Object.keys(My);class Qv extends Zn{constructor(e,t,i,r){let o=-1;if(super(e,t),ZC(this,"space",r),typeof i=="number")for(;++o<Sg.length;){const l=Sg[o];ZC(this,Sg[o],(i&My[l])===My[l])}}}Qv.prototype.defined=!0;function ZC(n,e,t){t&&(n[e]=t)}function Ul(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const o=new Qv(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,t[ky(i)]=i,t[ky(o.attribute)]=i}return new Qc(e,t,n.space)}const sb=Ul({properties:{ariaActiveDescendant:null,ariaAtomic:Wt,ariaAutoComplete:null,ariaBusy:Wt,ariaChecked:Wt,ariaColCount:ye,ariaColIndex:ye,ariaColSpan:ye,ariaControls:wt,ariaCurrent:null,ariaDescribedBy:wt,ariaDetails:null,ariaDisabled:Wt,ariaDropEffect:wt,ariaErrorMessage:null,ariaExpanded:Wt,ariaFlowTo:wt,ariaGrabbed:Wt,ariaHasPopup:null,ariaHidden:Wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:wt,ariaLevel:ye,ariaLive:null,ariaModal:Wt,ariaMultiLine:Wt,ariaMultiSelectable:Wt,ariaOrientation:null,ariaOwns:wt,ariaPlaceholder:null,ariaPosInSet:ye,ariaPressed:Wt,ariaReadOnly:Wt,ariaRelevant:null,ariaRequired:Wt,ariaRoleDescription:wt,ariaRowCount:ye,ariaRowIndex:ye,ariaRowSpan:ye,ariaSelected:Wt,ariaSetSize:ye,ariaSort:null,ariaValueMax:ye,ariaValueMin:ye,ariaValueNow:ye,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function ob(n,e){return e in n?n[e]:e}function ab(n,e){return ob(n,e.toLowerCase())}const Gz=Ul({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fl,acceptCharset:wt,accessKey:wt,action:null,allow:null,allowFullScreen:je,allowPaymentRequest:je,allowUserMedia:je,alt:null,as:null,async:je,autoCapitalize:null,autoComplete:wt,autoFocus:je,autoPlay:je,blocking:wt,capture:null,charSet:null,checked:je,cite:null,className:wt,cols:ye,colSpan:null,content:null,contentEditable:Wt,controls:je,controlsList:wt,coords:ye|fl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:je,defer:je,dir:null,dirName:null,disabled:je,download:Ny,draggable:Wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:je,formTarget:null,headers:wt,height:ye,hidden:Ny,high:ye,href:null,hrefLang:null,htmlFor:wt,httpEquiv:wt,id:null,imageSizes:null,imageSrcSet:null,inert:je,inputMode:null,integrity:null,is:null,isMap:je,itemId:null,itemProp:wt,itemRef:wt,itemScope:je,itemType:wt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:je,low:ye,manifest:null,max:null,maxLength:ye,media:null,method:null,min:null,minLength:ye,multiple:je,muted:je,name:null,nonce:null,noModule:je,noValidate:je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:je,optimum:ye,pattern:null,ping:wt,placeholder:null,playsInline:je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:je,referrerPolicy:null,rel:wt,required:je,reversed:je,rows:ye,rowSpan:ye,sandbox:wt,scope:null,scoped:je,seamless:je,selected:je,shadowRootClonable:je,shadowRootDelegatesFocus:je,shadowRootMode:null,shape:null,size:ye,sizes:null,slot:null,span:ye,spellCheck:Wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ye,step:null,style:null,tabIndex:ye,target:null,title:null,translate:null,type:null,typeMustMatch:je,useMap:null,value:Wt,width:ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:wt,axis:null,background:null,bgColor:null,border:ye,borderColor:null,bottomMargin:ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:je,declare:je,event:null,face:null,frame:null,frameBorder:null,hSpace:ye,leftMargin:ye,link:null,longDesc:null,lowSrc:null,marginHeight:ye,marginWidth:ye,noResize:je,noHref:je,noShade:je,noWrap:je,object:null,profile:null,prompt:null,rev:null,rightMargin:ye,rules:null,scheme:null,scrolling:Wt,standby:null,summary:null,text:null,topMargin:ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:je,disableRemotePlayback:je,prefix:null,property:null,results:ye,security:null,unselectable:null},space:"html",transform:ab}),$z=Ul({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:li,accentHeight:ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ye,amplitude:ye,arabicForm:null,ascent:ye,attributeName:null,attributeType:null,azimuth:ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ye,by:null,calcMode:null,capHeight:ye,className:wt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ye,diffuseConstant:ye,direction:null,display:null,dur:null,divisor:ye,dominantBaseline:null,download:je,dx:null,dy:null,edgeMode:null,editable:null,elevation:ye,enableBackground:null,end:null,event:null,exponent:ye,externalResourcesRequired:null,fill:null,fillOpacity:ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fl,g2:fl,glyphName:fl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ye,horizOriginX:ye,horizOriginY:ye,id:null,ideographic:ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ye,k:ye,k1:ye,k2:ye,k3:ye,k4:ye,kernelMatrix:li,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ye,overlineThickness:ye,paintOrder:null,panose1:null,path:null,pathLength:ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:wt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ye,pointsAtY:ye,pointsAtZ:ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:li,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:li,rev:li,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:li,requiredFeatures:li,requiredFonts:li,requiredFormats:li,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ye,specularExponent:ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ye,strikethroughThickness:ye,string:null,stroke:null,strokeDashArray:li,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ye,strokeOpacity:ye,strokeWidth:null,style:null,surfaceScale:ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:li,tabIndex:ye,tableValues:null,target:null,targetX:ye,targetY:ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:li,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ye,underlineThickness:ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ye,values:null,vAlphabetic:ye,vMathematical:ye,vectorEffect:null,vHanging:ye,vIdeographic:ye,version:null,vertAdvY:ye,vertOriginX:ye,vertOriginY:ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ob}),lb=Ul({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),ub=Ul({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ab}),cb=Ul({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),Yz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Kz=/[A-Z]/g,JC=/-[a-z]/g,jz=/^data[-\w.:]+$/i;function Qz(n,e){const t=ky(e);let i=e,r=Zn;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&jz.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(JC,Xz);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!JC.test(o)){let l=o.replace(Kz,Wz);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}r=Qv}return new r(i,e)}function Wz(n){return"-"+n.toLowerCase()}function Xz(n){return n.charAt(1).toUpperCase()}const Zz=rb([sb,Gz,lb,ub,cb],"html"),Wv=rb([sb,$z,lb,ub,cb],"svg");function Jz(n){return n.join(" ").trim()}var Wa={},wg,eS;function eB(){if(eS)return wg;eS=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,h=`
`,d="/",y="*",T="",E="comment",C="declaration";wg=function(k,F){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];F=F||{};var U=1,q=1;function G(L){var he=L.match(e);he&&(U+=he.length);var me=L.lastIndexOf(h);q=~me?L.length-me:q+L.length}function re(){var L={line:U,column:q};return function(he){return he.position=new ie(L),D(),he}}function ie(L){this.start=L,this.end={line:U,column:q},this.source=F.source}ie.prototype.content=k;function Y(L){var he=new Error(F.source+":"+U+":"+q+": "+L);if(he.reason=L,he.filename=F.source,he.line=U,he.column=q,he.source=k,!F.silent)throw he}function V(L){var he=L.exec(k);if(he){var me=he[0];return G(me),k=k.slice(me.length),he}}function D(){V(t)}function N(L){var he;for(L=L||[];he=O();)he!==!1&&L.push(he);return L}function O(){var L=re();if(!(d!=k.charAt(0)||y!=k.charAt(1))){for(var he=2;T!=k.charAt(he)&&(y!=k.charAt(he)||d!=k.charAt(he+1));)++he;if(he+=2,T===k.charAt(he-1))return Y("End of comment missing");var me=k.slice(2,he-2);return q+=2,G(me),k=k.slice(he),q+=2,L({type:E,comment:me})}}function z(){var L=re(),he=V(i);if(he){if(O(),!V(r))return Y("property missing ':'");var me=V(o),J=L({type:C,property:I(he[0].replace(n,T)),value:me?I(me[0].replace(n,T)):T});return V(l),J}}function B(){var L=[];N(L);for(var he;he=z();)he!==!1&&(L.push(he),N(L));return L}return D(),B()};function I(k){return k?k.replace(c,T):T}return wg}var tS;function tB(){if(tS)return Wa;tS=1;var n=Wa&&Wa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.default=t;var e=n(eB());function t(i,r){var o=null;if(!i||typeof i!="string")return o;var l=(0,e.default)(i),c=typeof r=="function";return l.forEach(function(h){if(h.type==="declaration"){var d=h.property,y=h.value;c?r(d,y,h):y&&(o=o||{},o[d]=y)}}),o}return Wa}var Xu={},nS;function nB(){if(nS)return Xu;nS=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,o=function(d){return!d||t.test(d)||n.test(d)},l=function(d,y){return y.toUpperCase()},c=function(d,y){return"".concat(y,"-")},h=function(d,y){return y===void 0&&(y={}),o(d)?d:(d=d.toLowerCase(),y.reactCompat?d=d.replace(r,c):d=d.replace(i,c),d.replace(e,l))};return Xu.camelCase=h,Xu}var Zu,iS;function iB(){if(iS)return Zu;iS=1;var n=Zu&&Zu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=n(tB()),t=nB();function i(r,o){var l={};return!r||typeof r!="string"||(0,e.default)(r,function(c,h){c&&h&&(l[(0,t.camelCase)(c,o)]=h)}),l}return i.default=i,Zu=i,Zu}var rB=iB();const sB=zy(rB),fb=db("end"),Xv=db("start");function db(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function oB(n){const e=Xv(n),t=fb(n);if(e&&t)return{start:e,end:t}}function mc(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?rS(n.position):"start"in n||"end"in n?rS(n):"line"in n||"column"in n?Dy(n):""}function Dy(n){return sS(n&&n.line)+":"+sS(n&&n.column)}function rS(n){return Dy(n&&n.start)+"-"+Dy(n&&n.end)}function sS(n){return n&&typeof n=="number"?n:1}class kn extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",o={},l=!1;if(t&&("line"in t&&"column"in t?o={place:t}:"start"in t&&"end"in t?o={place:t}:"type"in t?o={ancestors:[t],place:t.position}:o={...t}),typeof e=="string"?r=e:!o.cause&&e&&(l=!0,r=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof i=="string"){const h=i.indexOf(":");h===-1?o.ruleId=i:(o.source=i.slice(0,h),o.ruleId=i.slice(h+1))}if(!o.place&&o.ancestors&&o.ancestors){const h=o.ancestors[o.ancestors.length-1];h&&(o.place=h.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=c?c.line:void 0,this.name=mc(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}kn.prototype.file="";kn.prototype.name="";kn.prototype.reason="";kn.prototype.message="";kn.prototype.stack="";kn.prototype.column=void 0;kn.prototype.line=void 0;kn.prototype.ancestors=void 0;kn.prototype.cause=void 0;kn.prototype.fatal=void 0;kn.prototype.place=void 0;kn.prototype.ruleId=void 0;kn.prototype.source=void 0;const Zv={}.hasOwnProperty,aB=new Map,lB=/[A-Z]/g,uB=new Set(["table","tbody","thead","tfoot","tr"]),cB=new Set(["td","th"]),hb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fB(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=_B(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=vB(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Wv:Zz,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=pb(r,n,void 0);return o&&typeof o!="string"?o:r.create(n,r.Fragment,{children:o||void 0},void 0)}function pb(n,e,t){if(e.type==="element")return dB(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return hB(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mB(n,e,t);if(e.type==="mdxjsEsm")return pB(n,e);if(e.type==="root")return gB(n,e,t);if(e.type==="text")return yB(n,e)}function dB(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=Wv,n.schema=r),n.ancestors.push(e);const o=gb(n,e.tagName,!1),l=TB(n,e);let c=e0(n,e);return uB.has(e.tagName)&&(c=c.filter(function(h){return typeof h=="string"?!Hz(h):!0})),mb(n,l,o,e),Jv(l,c),n.ancestors.pop(),n.schema=i,n.create(e,o,l,t)}function hB(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Nc(n,e.position)}function pB(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);Nc(n,e.position)}function mB(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=Wv,n.schema=r),n.ancestors.push(e);const o=e.name===null?n.Fragment:gb(n,e.name,!0),l=EB(n,e),c=e0(n,e);return mb(n,l,o,e),Jv(l,c),n.ancestors.pop(),n.schema=i,n.create(e,o,l,t)}function gB(n,e,t){const i={};return Jv(i,e0(n,e)),n.create(e,n.Fragment,i,t)}function yB(n,e){return e.value}function mb(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function Jv(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function vB(n,e,t){return i;function i(r,o,l,c){const d=Array.isArray(l.children)?t:e;return c?d(o,l,c):d(o,l)}}function _B(n,e){return t;function t(i,r,o,l){const c=Array.isArray(o.children),h=Xv(i);return e(r,o,l,c,{columnNumber:h?h.column-1:void 0,fileName:n,lineNumber:h?h.line:void 0},void 0)}}function TB(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&Zv.call(e.properties,r)){const o=xB(n,r,e.properties[r]);if(o){const[l,c]=o;n.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&cB.has(e.tagName)?i=c:t[l]=c}}if(i){const o=t.style||(t.style={});o[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function EB(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const o=i.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(t,n.evaluater.evaluateExpression(c.argument))}else Nc(n,e.position);else{const r=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const c=i.value.data.estree.body[0];c.type,o=n.evaluater.evaluateExpression(c.expression)}else Nc(n,e.position);else o=i.value===null?!0:i.value;t[r]=o}return t}function e0(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:aB;for(;++i<e.children.length;){const o=e.children[i];let l;if(n.passKeys){const h=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(h){const d=r.get(h)||0;l=h+"-"+d,r.set(h,d+1)}}const c=pb(n,o,l);c!==void 0&&t.push(c)}return t}function xB(n,e,t){const i=Qz(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?Oz(t):Jz(t)),i.property==="style"){let r=typeof t=="object"?t:CB(n,String(t));return n.stylePropertyNameCase==="css"&&(r=SB(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?Yz[i.property]||i.property:i.attribute,t]}}function CB(n,e){try{return sB(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new kn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=hb+"#cannot-parse-style-attribute",r}}function gb(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let o=-1,l;for(;++o<r.length;){const c=WC(r[o])?{type:"Identifier",name:r[o]}:{type:"Literal",value:r[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}i=l}else i=WC(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return Zv.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);Nc(n)}function Nc(n,e){const t=new kn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=hb+"#cannot-handle-mdx-estrees-without-createevaluater",t}function SB(n){const e={};let t;for(t in n)Zv.call(n,t)&&(e[wB(t)]=n[t]);return e}function wB(n){let e=n.replace(lB,AB);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function AB(n){return"-"+n.toLowerCase()}const Ag={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bB={};function IB(n,e){const t=bB,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return yb(n,i,r)}function yb(n,e,t){if(RB(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return oS(n.children,e,t)}return Array.isArray(n)?oS(n,e,t):""}function oS(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=yb(n[r],e,t);return i.join("")}function RB(n){return!!(n&&typeof n=="object")}const aS=document.createElement("i");function t0(n){const e="&"+n+";";aS.innerHTML=e;const t=aS.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function hr(n,e,t,i){const r=n.length;let o=0,l;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)l=Array.from(i),l.unshift(e,t),n.splice(...l);else for(t&&n.splice(e,t);o<i.length;)l=i.slice(o,o+1e4),l.unshift(e,0),n.splice(...l),o+=1e4,e+=1e4}function wi(n,e){return n.length>0?(hr(n,n.length,0,e),n):e}const lS={}.hasOwnProperty;function kB(n){const e={};let t=-1;for(;++t<n.length;)NB(e,n[t]);return e}function NB(n,e){let t;for(t in e){const r=(lS.call(n,t)?n[t]:void 0)||(n[t]={}),o=e[t];let l;if(o)for(l in o){lS.call(r,l)||(r[l]=[]);const c=o[l];MB(r[l],Array.isArray(c)?c:c?[c]:[])}}}function MB(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);hr(n,0,0,i)}function vb(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function dl(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const tr=lo(/[A-Za-z]/),ci=lo(/[\dA-Za-z]/),DB=lo(/[#-'*+\--9=?A-Z^-~]/);function Py(n){return n!==null&&(n<32||n===127)}const Ly=lo(/\d/),PB=lo(/[\dA-Fa-f]/),LB=lo(/[!-/:-@[-`{-~]/);function Be(n){return n!==null&&n<-2}function Xn(n){return n!==null&&(n<0||n===32)}function ht(n){return n===-2||n===-1||n===32}const VB=lo(new RegExp("\\p{P}|\\p{S}","u")),OB=lo(/\s/);function lo(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Fl(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const o=n.charCodeAt(t);let l="";if(o===37&&ci(n.charCodeAt(t+1))&&ci(n.charCodeAt(t+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=n.charCodeAt(t+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),r=1):l=""}else l=String.fromCharCode(o);l&&(e.push(n.slice(i,t),encodeURIComponent(l)),i=t+r+1,l=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function At(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(h){return ht(h)?(n.enter(t),c(h)):e(h)}function c(h){return ht(h)&&o++<r?(n.consume(h),c):(n.exit(t),e(h))}}const UB={tokenize:FB};function FB(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(c){if(c===null){n.consume(c);return}return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),At(n,e,"linePrefix")}function r(c){return n.enter("paragraph"),o(c)}function o(c){const h=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=h),t=h,l(c)}function l(c){if(c===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(c);return}return Be(c)?(n.consume(c),n.exit("chunkText"),o):(n.consume(c),l)}}const zB={tokenize:BB},uS={tokenize:HB};function BB(n){const e=this,t=[];let i=0,r,o,l;return c;function c(G){if(i<t.length){const re=t[i];return e.containerState=re[1],n.attempt(re[0].continuation,h,d)(G)}return d(G)}function h(G){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&q();const re=e.events.length;let ie=re,Y;for(;ie--;)if(e.events[ie][0]==="exit"&&e.events[ie][1].type==="chunkFlow"){Y=e.events[ie][1].end;break}U(i);let V=re;for(;V<e.events.length;)e.events[V][1].end={...Y},V++;return hr(e.events,ie+1,0,e.events.slice(re)),e.events.length=V,d(G)}return c(G)}function d(G){if(i===t.length){if(!r)return E(G);if(r.currentConstruct&&r.currentConstruct.concrete)return I(G);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(uS,y,T)(G)}function y(G){return r&&q(),U(i),E(G)}function T(G){return e.parser.lazy[e.now().line]=i!==t.length,l=e.now().offset,I(G)}function E(G){return e.containerState={},n.attempt(uS,C,I)(G)}function C(G){return i++,t.push([e.currentConstruct,e.containerState]),E(G)}function I(G){if(G===null){r&&q(),U(0),n.consume(G);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),k(G)}function k(G){if(G===null){F(n.exit("chunkFlow"),!0),U(0),n.consume(G);return}return Be(G)?(n.consume(G),F(n.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(n.consume(G),k)}function F(G,re){const ie=e.sliceStream(G);if(re&&ie.push(null),G.previous=o,o&&(o.next=G),o=G,r.defineSkip(G.start),r.write(ie),e.parser.lazy[G.start.line]){let Y=r.events.length;for(;Y--;)if(r.events[Y][1].start.offset<l&&(!r.events[Y][1].end||r.events[Y][1].end.offset>l))return;const V=e.events.length;let D=V,N,O;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){if(N){O=e.events[D][1].end;break}N=!0}for(U(i),Y=V;Y<e.events.length;)e.events[Y][1].end={...O},Y++;hr(e.events,D+1,0,e.events.slice(V)),e.events.length=Y}}function U(G){let re=t.length;for(;re-- >G;){const ie=t[re];e.containerState=ie[1],ie[0].exit.call(e,n)}t.length=G}function q(){r.write([null]),o=void 0,r=void 0,e.containerState._closeFlow=void 0}}function HB(n,e,t){return At(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function cS(n){if(n===null||Xn(n)||OB(n))return 1;if(VB(n))return 2}function n0(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const o=n[r].resolveAll;o&&!i.includes(o)&&(e=o(e,t),i.push(o))}return e}const Vy={name:"attention",resolveAll:qB,tokenize:GB};function qB(n,e){let t=-1,i,r,o,l,c,h,d,y;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;h=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const T={...n[i][1].end},E={...n[t][1].start};fS(T,-h),fS(E,h),l={type:h>1?"strongSequence":"emphasisSequence",start:T,end:{...n[i][1].end}},c={type:h>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:E},o={type:h>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:h>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},n[i][1].end={...l.start},n[t][1].start={...c.end},d=[],n[i][1].end.offset-n[i][1].start.offset&&(d=wi(d,[["enter",n[i][1],e],["exit",n[i][1],e]])),d=wi(d,[["enter",r,e],["enter",l,e],["exit",l,e],["enter",o,e]]),d=wi(d,n0(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),d=wi(d,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(y=2,d=wi(d,[["enter",n[t][1],e],["exit",n[t][1],e]])):y=0,hr(n,i-1,t-i+3,d),t=i+d.length-y-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function GB(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=cS(i);let o;return l;function l(h){return o=h,n.enter("attentionSequence"),c(h)}function c(h){if(h===o)return n.consume(h),c;const d=n.exit("attentionSequence"),y=cS(h),T=!y||y===2&&r||t.includes(h),E=!r||r===2&&y||t.includes(i);return d._open=!!(o===42?T:T&&(r||!E)),d._close=!!(o===42?E:E&&(y||!T)),e(h)}}function fS(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const $B={name:"autolink",tokenize:YB};function YB(n,e,t){let i=0;return r;function r(C){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(C),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),o}function o(C){return tr(C)?(n.consume(C),l):C===64?t(C):d(C)}function l(C){return C===43||C===45||C===46||ci(C)?(i=1,c(C)):d(C)}function c(C){return C===58?(n.consume(C),i=0,h):(C===43||C===45||C===46||ci(C))&&i++<32?(n.consume(C),c):(i=0,d(C))}function h(C){return C===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(C),n.exit("autolinkMarker"),n.exit("autolink"),e):C===null||C===32||C===60||Py(C)?t(C):(n.consume(C),h)}function d(C){return C===64?(n.consume(C),y):DB(C)?(n.consume(C),d):t(C)}function y(C){return ci(C)?T(C):t(C)}function T(C){return C===46?(n.consume(C),i=0,y):C===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(C),n.exit("autolinkMarker"),n.exit("autolink"),e):E(C)}function E(C){if((C===45||ci(C))&&i++<63){const I=C===45?E:T;return n.consume(C),I}return t(C)}}const ip={partial:!0,tokenize:KB};function KB(n,e,t){return i;function i(o){return ht(o)?At(n,r,"linePrefix")(o):r(o)}function r(o){return o===null||Be(o)?e(o):t(o)}}const _b={continuation:{tokenize:QB},exit:WB,name:"blockQuote",tokenize:jB};function jB(n,e,t){const i=this;return r;function r(l){if(l===62){const c=i.containerState;return c.open||(n.enter("blockQuote",{_container:!0}),c.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),o}return t(l)}function o(l){return ht(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(l))}}function QB(n,e,t){const i=this;return r;function r(l){return ht(l)?At(n,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return n.attempt(_b,e,t)(l)}}function WB(n){n.exit("blockQuote")}const Tb={name:"characterEscape",tokenize:XB};function XB(n,e,t){return i;function i(o){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(o),n.exit("escapeMarker"),r}function r(o){return LB(o)?(n.enter("characterEscapeValue"),n.consume(o),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(o)}}const Eb={name:"characterReference",tokenize:ZB};function ZB(n,e,t){const i=this;let r=0,o,l;return c;function c(T){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(T),n.exit("characterReferenceMarker"),h}function h(T){return T===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(T),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),o=31,l=ci,y(T))}function d(T){return T===88||T===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(T),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),o=6,l=PB,y):(n.enter("characterReferenceValue"),o=7,l=Ly,y(T))}function y(T){if(T===59&&r){const E=n.exit("characterReferenceValue");return l===ci&&!t0(i.sliceSerialize(E))?t(T):(n.enter("characterReferenceMarker"),n.consume(T),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return l(T)&&r++<o?(n.consume(T),y):t(T)}}const dS={partial:!0,tokenize:eH},hS={concrete:!0,name:"codeFenced",tokenize:JB};function JB(n,e,t){const i=this,r={partial:!0,tokenize:ie};let o=0,l=0,c;return h;function h(Y){return d(Y)}function d(Y){const V=i.events[i.events.length-1];return o=V&&V[1].type==="linePrefix"?V[2].sliceSerialize(V[1],!0).length:0,c=Y,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),y(Y)}function y(Y){return Y===c?(l++,n.consume(Y),y):l<3?t(Y):(n.exit("codeFencedFenceSequence"),ht(Y)?At(n,T,"whitespace")(Y):T(Y))}function T(Y){return Y===null||Be(Y)?(n.exit("codeFencedFence"),i.interrupt?e(Y):n.check(dS,k,re)(Y)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),E(Y))}function E(Y){return Y===null||Be(Y)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),T(Y)):ht(Y)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),At(n,C,"whitespace")(Y)):Y===96&&Y===c?t(Y):(n.consume(Y),E)}function C(Y){return Y===null||Be(Y)?T(Y):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),I(Y))}function I(Y){return Y===null||Be(Y)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),T(Y)):Y===96&&Y===c?t(Y):(n.consume(Y),I)}function k(Y){return n.attempt(r,re,F)(Y)}function F(Y){return n.enter("lineEnding"),n.consume(Y),n.exit("lineEnding"),U}function U(Y){return o>0&&ht(Y)?At(n,q,"linePrefix",o+1)(Y):q(Y)}function q(Y){return Y===null||Be(Y)?n.check(dS,k,re)(Y):(n.enter("codeFlowValue"),G(Y))}function G(Y){return Y===null||Be(Y)?(n.exit("codeFlowValue"),q(Y)):(n.consume(Y),G)}function re(Y){return n.exit("codeFenced"),e(Y)}function ie(Y,V,D){let N=0;return O;function O(me){return Y.enter("lineEnding"),Y.consume(me),Y.exit("lineEnding"),z}function z(me){return Y.enter("codeFencedFence"),ht(me)?At(Y,B,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):B(me)}function B(me){return me===c?(Y.enter("codeFencedFenceSequence"),L(me)):D(me)}function L(me){return me===c?(N++,Y.consume(me),L):N>=l?(Y.exit("codeFencedFenceSequence"),ht(me)?At(Y,he,"whitespace")(me):he(me)):D(me)}function he(me){return me===null||Be(me)?(Y.exit("codeFencedFence"),V(me)):D(me)}}}function eH(n,e,t){const i=this;return r;function r(l){return l===null?t(l):(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),o)}function o(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}const bg={name:"codeIndented",tokenize:nH},tH={partial:!0,tokenize:iH};function nH(n,e,t){const i=this;return r;function r(d){return n.enter("codeIndented"),At(n,o,"linePrefix",5)(d)}function o(d){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?l(d):t(d)}function l(d){return d===null?h(d):Be(d)?n.attempt(tH,l,h)(d):(n.enter("codeFlowValue"),c(d))}function c(d){return d===null||Be(d)?(n.exit("codeFlowValue"),l(d)):(n.consume(d),c)}function h(d){return n.exit("codeIndented"),e(d)}}function iH(n,e,t){const i=this;return r;function r(l){return i.parser.lazy[i.now().line]?t(l):Be(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),r):At(n,o,"linePrefix",5)(l)}function o(l){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):Be(l)?r(l):t(l)}}const rH={name:"codeText",previous:oH,resolve:sH,tokenize:aH};function sH(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function oH(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aH(n,e,t){let i=0,r,o;return l;function l(T){return n.enter("codeText"),n.enter("codeTextSequence"),c(T)}function c(T){return T===96?(n.consume(T),i++,c):(n.exit("codeTextSequence"),h(T))}function h(T){return T===null?t(T):T===32?(n.enter("space"),n.consume(T),n.exit("space"),h):T===96?(o=n.enter("codeTextSequence"),r=0,y(T)):Be(T)?(n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),h):(n.enter("codeTextData"),d(T))}function d(T){return T===null||T===32||T===96||Be(T)?(n.exit("codeTextData"),h(T)):(n.consume(T),d)}function y(T){return T===96?(n.consume(T),r++,y):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(T)):(o.type="codeTextData",d(T))}}class lH{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&Ju(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ju(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ju(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Ju(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ju(this.left,t.reverse())}}}function Ju(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function xb(n){const e={};let t=-1,i,r,o,l,c,h,d;const y=new lH(n);for(;++t<y.length;){for(;t in e;)t=e[t];if(i=y.get(t),t&&i[1].type==="chunkFlow"&&y.get(t-1)[1].type==="listItemPrefix"&&(h=i[1]._tokenizer.events,o=0,o<h.length&&h[o][1].type==="lineEndingBlank"&&(o+=2),o<h.length&&h[o][1].type==="content"))for(;++o<h.length&&h[o][1].type!=="content";)h[o][1].type==="chunkText"&&(h[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,uH(y,t)),t=e[t],d=!0);else if(i[1]._container){for(o=t,r=void 0;o--;)if(l=y.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(r&&(y.get(r)[1].type="lineEndingBlank"),l[1].type="lineEnding",r=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;r&&(i[1].end={...y.get(r)[1].start},c=y.slice(r,t),c.unshift(i),y.splice(r,t-r+1,c))}}return hr(n,0,Number.POSITIVE_INFINITY,y.slice(0)),!d}function uH(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const o=[];let l=t._tokenizer;l||(l=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,h=[],d={};let y,T,E=-1,C=t,I=0,k=0;const F=[k];for(;C;){for(;n.get(++r)[1]!==C;);o.push(r),C._tokenizer||(y=i.sliceStream(C),C.next||y.push(null),T&&l.defineSkip(C.start),C._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(y),C._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),T=C,C=C.next}for(C=t;++E<c.length;)c[E][0]==="exit"&&c[E-1][0]==="enter"&&c[E][1].type===c[E-1][1].type&&c[E][1].start.line!==c[E][1].end.line&&(k=E+1,F.push(k),C._tokenizer=void 0,C.previous=void 0,C=C.next);for(l.events=[],C?(C._tokenizer=void 0,C.previous=void 0):F.pop(),E=F.length;E--;){const U=c.slice(F[E],F[E+1]),q=o.pop();h.push([q,q+U.length-1]),n.splice(q,2,U)}for(h.reverse(),E=-1;++E<h.length;)d[I+h[E][0]]=I+h[E][1],I+=h[E][1]-h[E][0]-1;return d}const cH={resolve:dH,tokenize:hH},fH={partial:!0,tokenize:pH};function dH(n){return xb(n),n}function hH(n,e){let t;return i;function i(c){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(c)}function r(c){return c===null?o(c):Be(c)?n.check(fH,l,o)(c):(n.consume(c),r)}function o(c){return n.exit("chunkContent"),n.exit("content"),e(c)}function l(c){return n.consume(c),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function pH(n,e,t){const i=this;return r;function r(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),At(n,o,"linePrefix")}function o(l){if(l===null||Be(l))return t(l);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):n.interrupt(i.parser.constructs.flow,t,e)(l)}}function Cb(n,e,t,i,r,o,l,c,h){const d=h||Number.POSITIVE_INFINITY;let y=0;return T;function T(U){return U===60?(n.enter(i),n.enter(r),n.enter(o),n.consume(U),n.exit(o),E):U===null||U===32||U===41||Py(U)?t(U):(n.enter(i),n.enter(l),n.enter(c),n.enter("chunkString",{contentType:"string"}),k(U))}function E(U){return U===62?(n.enter(o),n.consume(U),n.exit(o),n.exit(r),n.exit(i),e):(n.enter(c),n.enter("chunkString",{contentType:"string"}),C(U))}function C(U){return U===62?(n.exit("chunkString"),n.exit(c),E(U)):U===null||U===60||Be(U)?t(U):(n.consume(U),U===92?I:C)}function I(U){return U===60||U===62||U===92?(n.consume(U),C):C(U)}function k(U){return!y&&(U===null||U===41||Xn(U))?(n.exit("chunkString"),n.exit(c),n.exit(l),n.exit(i),e(U)):y<d&&U===40?(n.consume(U),y++,k):U===41?(n.consume(U),y--,k):U===null||U===32||U===40||Py(U)?t(U):(n.consume(U),U===92?F:k)}function F(U){return U===40||U===41||U===92?(n.consume(U),k):k(U)}}function Sb(n,e,t,i,r,o){const l=this;let c=0,h;return d;function d(C){return n.enter(i),n.enter(r),n.consume(C),n.exit(r),n.enter(o),y}function y(C){return c>999||C===null||C===91||C===93&&!h||C===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?t(C):C===93?(n.exit(o),n.enter(r),n.consume(C),n.exit(r),n.exit(i),e):Be(C)?(n.enter("lineEnding"),n.consume(C),n.exit("lineEnding"),y):(n.enter("chunkString",{contentType:"string"}),T(C))}function T(C){return C===null||C===91||C===93||Be(C)||c++>999?(n.exit("chunkString"),y(C)):(n.consume(C),h||(h=!ht(C)),C===92?E:T)}function E(C){return C===91||C===92||C===93?(n.consume(C),c++,T):T(C)}}function wb(n,e,t,i,r,o){let l;return c;function c(E){return E===34||E===39||E===40?(n.enter(i),n.enter(r),n.consume(E),n.exit(r),l=E===40?41:E,h):t(E)}function h(E){return E===l?(n.enter(r),n.consume(E),n.exit(r),n.exit(i),e):(n.enter(o),d(E))}function d(E){return E===l?(n.exit(o),h(l)):E===null?t(E):Be(E)?(n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),At(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===l||E===null||Be(E)?(n.exit("chunkString"),d(E)):(n.consume(E),E===92?T:y)}function T(E){return E===l||E===92?(n.consume(E),y):y(E)}}function gc(n,e){let t;return i;function i(r){return Be(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):ht(r)?At(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const mH={name:"definition",tokenize:yH},gH={partial:!0,tokenize:vH};function yH(n,e,t){const i=this;let r;return o;function o(C){return n.enter("definition"),l(C)}function l(C){return Sb.call(i,n,c,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(C)}function c(C){return r=dl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),C===58?(n.enter("definitionMarker"),n.consume(C),n.exit("definitionMarker"),h):t(C)}function h(C){return Xn(C)?gc(n,d)(C):d(C)}function d(C){return Cb(n,y,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(C)}function y(C){return n.attempt(gH,T,T)(C)}function T(C){return ht(C)?At(n,E,"whitespace")(C):E(C)}function E(C){return C===null||Be(C)?(n.exit("definition"),i.parser.defined.push(r),e(C)):t(C)}}function vH(n,e,t){return i;function i(c){return Xn(c)?gc(n,r)(c):t(c)}function r(c){return wb(n,o,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return ht(c)?At(n,l,"whitespace")(c):l(c)}function l(c){return c===null||Be(c)?e(c):t(c)}}const _H={name:"hardBreakEscape",tokenize:TH};function TH(n,e,t){return i;function i(o){return n.enter("hardBreakEscape"),n.consume(o),r}function r(o){return Be(o)?(n.exit("hardBreakEscape"),e(o)):t(o)}}const EH={name:"headingAtx",resolve:xH,tokenize:CH};function xH(n,e){let t=n.length-2,i=3,r,o;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},o={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},hr(n,i,t-i+1,[["enter",r,e],["enter",o,e],["exit",o,e],["exit",r,e]])),n}function CH(n,e,t){let i=0;return r;function r(y){return n.enter("atxHeading"),o(y)}function o(y){return n.enter("atxHeadingSequence"),l(y)}function l(y){return y===35&&i++<6?(n.consume(y),l):y===null||Xn(y)?(n.exit("atxHeadingSequence"),c(y)):t(y)}function c(y){return y===35?(n.enter("atxHeadingSequence"),h(y)):y===null||Be(y)?(n.exit("atxHeading"),e(y)):ht(y)?At(n,c,"whitespace")(y):(n.enter("atxHeadingText"),d(y))}function h(y){return y===35?(n.consume(y),h):(n.exit("atxHeadingSequence"),c(y))}function d(y){return y===null||y===35||Xn(y)?(n.exit("atxHeadingText"),c(y)):(n.consume(y),d)}}const SH=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pS=["pre","script","style","textarea"],wH={concrete:!0,name:"htmlFlow",resolveTo:IH,tokenize:RH},AH={partial:!0,tokenize:NH},bH={partial:!0,tokenize:kH};function IH(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function RH(n,e,t){const i=this;let r,o,l,c,h;return d;function d(M){return y(M)}function y(M){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(M),T}function T(M){return M===33?(n.consume(M),E):M===47?(n.consume(M),o=!0,k):M===63?(n.consume(M),r=3,i.interrupt?e:w):tr(M)?(n.consume(M),l=String.fromCharCode(M),F):t(M)}function E(M){return M===45?(n.consume(M),r=2,C):M===91?(n.consume(M),r=5,c=0,I):tr(M)?(n.consume(M),r=4,i.interrupt?e:w):t(M)}function C(M){return M===45?(n.consume(M),i.interrupt?e:w):t(M)}function I(M){const ge="CDATA[";return M===ge.charCodeAt(c++)?(n.consume(M),c===ge.length?i.interrupt?e:B:I):t(M)}function k(M){return tr(M)?(n.consume(M),l=String.fromCharCode(M),F):t(M)}function F(M){if(M===null||M===47||M===62||Xn(M)){const ge=M===47,xe=l.toLowerCase();return!ge&&!o&&pS.includes(xe)?(r=1,i.interrupt?e(M):B(M)):SH.includes(l.toLowerCase())?(r=6,ge?(n.consume(M),U):i.interrupt?e(M):B(M)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(M):o?q(M):G(M))}return M===45||ci(M)?(n.consume(M),l+=String.fromCharCode(M),F):t(M)}function U(M){return M===62?(n.consume(M),i.interrupt?e:B):t(M)}function q(M){return ht(M)?(n.consume(M),q):O(M)}function G(M){return M===47?(n.consume(M),O):M===58||M===95||tr(M)?(n.consume(M),re):ht(M)?(n.consume(M),G):O(M)}function re(M){return M===45||M===46||M===58||M===95||ci(M)?(n.consume(M),re):ie(M)}function ie(M){return M===61?(n.consume(M),Y):ht(M)?(n.consume(M),ie):G(M)}function Y(M){return M===null||M===60||M===61||M===62||M===96?t(M):M===34||M===39?(n.consume(M),h=M,V):ht(M)?(n.consume(M),Y):D(M)}function V(M){return M===h?(n.consume(M),h=null,N):M===null||Be(M)?t(M):(n.consume(M),V)}function D(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Xn(M)?ie(M):(n.consume(M),D)}function N(M){return M===47||M===62||ht(M)?G(M):t(M)}function O(M){return M===62?(n.consume(M),z):t(M)}function z(M){return M===null||Be(M)?B(M):ht(M)?(n.consume(M),z):t(M)}function B(M){return M===45&&r===2?(n.consume(M),J):M===60&&r===1?(n.consume(M),fe):M===62&&r===4?(n.consume(M),W):M===63&&r===3?(n.consume(M),w):M===93&&r===5?(n.consume(M),ke):Be(M)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(AH,oe,L)(M)):M===null||Be(M)?(n.exit("htmlFlowData"),L(M)):(n.consume(M),B)}function L(M){return n.check(bH,he,oe)(M)}function he(M){return n.enter("lineEnding"),n.consume(M),n.exit("lineEnding"),me}function me(M){return M===null||Be(M)?L(M):(n.enter("htmlFlowData"),B(M))}function J(M){return M===45?(n.consume(M),w):B(M)}function fe(M){return M===47?(n.consume(M),l="",Ee):B(M)}function Ee(M){if(M===62){const ge=l.toLowerCase();return pS.includes(ge)?(n.consume(M),W):B(M)}return tr(M)&&l.length<8?(n.consume(M),l+=String.fromCharCode(M),Ee):B(M)}function ke(M){return M===93?(n.consume(M),w):B(M)}function w(M){return M===62?(n.consume(M),W):M===45&&r===2?(n.consume(M),w):B(M)}function W(M){return M===null||Be(M)?(n.exit("htmlFlowData"),oe(M)):(n.consume(M),W)}function oe(M){return n.exit("htmlFlow"),e(M)}}function kH(n,e,t){const i=this;return r;function r(l){return Be(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),o):t(l)}function o(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}function NH(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(ip,e,t)}}const MH={name:"htmlText",tokenize:DH};function DH(n,e,t){const i=this;let r,o,l;return c;function c(w){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(w),h}function h(w){return w===33?(n.consume(w),d):w===47?(n.consume(w),ie):w===63?(n.consume(w),G):tr(w)?(n.consume(w),D):t(w)}function d(w){return w===45?(n.consume(w),y):w===91?(n.consume(w),o=0,I):tr(w)?(n.consume(w),q):t(w)}function y(w){return w===45?(n.consume(w),C):t(w)}function T(w){return w===null?t(w):w===45?(n.consume(w),E):Be(w)?(l=T,fe(w)):(n.consume(w),T)}function E(w){return w===45?(n.consume(w),C):T(w)}function C(w){return w===62?J(w):w===45?E(w):T(w)}function I(w){const W="CDATA[";return w===W.charCodeAt(o++)?(n.consume(w),o===W.length?k:I):t(w)}function k(w){return w===null?t(w):w===93?(n.consume(w),F):Be(w)?(l=k,fe(w)):(n.consume(w),k)}function F(w){return w===93?(n.consume(w),U):k(w)}function U(w){return w===62?J(w):w===93?(n.consume(w),U):k(w)}function q(w){return w===null||w===62?J(w):Be(w)?(l=q,fe(w)):(n.consume(w),q)}function G(w){return w===null?t(w):w===63?(n.consume(w),re):Be(w)?(l=G,fe(w)):(n.consume(w),G)}function re(w){return w===62?J(w):G(w)}function ie(w){return tr(w)?(n.consume(w),Y):t(w)}function Y(w){return w===45||ci(w)?(n.consume(w),Y):V(w)}function V(w){return Be(w)?(l=V,fe(w)):ht(w)?(n.consume(w),V):J(w)}function D(w){return w===45||ci(w)?(n.consume(w),D):w===47||w===62||Xn(w)?N(w):t(w)}function N(w){return w===47?(n.consume(w),J):w===58||w===95||tr(w)?(n.consume(w),O):Be(w)?(l=N,fe(w)):ht(w)?(n.consume(w),N):J(w)}function O(w){return w===45||w===46||w===58||w===95||ci(w)?(n.consume(w),O):z(w)}function z(w){return w===61?(n.consume(w),B):Be(w)?(l=z,fe(w)):ht(w)?(n.consume(w),z):N(w)}function B(w){return w===null||w===60||w===61||w===62||w===96?t(w):w===34||w===39?(n.consume(w),r=w,L):Be(w)?(l=B,fe(w)):ht(w)?(n.consume(w),B):(n.consume(w),he)}function L(w){return w===r?(n.consume(w),r=void 0,me):w===null?t(w):Be(w)?(l=L,fe(w)):(n.consume(w),L)}function he(w){return w===null||w===34||w===39||w===60||w===61||w===96?t(w):w===47||w===62||Xn(w)?N(w):(n.consume(w),he)}function me(w){return w===47||w===62||Xn(w)?N(w):t(w)}function J(w){return w===62?(n.consume(w),n.exit("htmlTextData"),n.exit("htmlText"),e):t(w)}function fe(w){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(w),n.exit("lineEnding"),Ee}function Ee(w){return ht(w)?At(n,ke,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):ke(w)}function ke(w){return n.enter("htmlTextData"),l(w)}}const i0={name:"labelEnd",resolveAll:OH,resolveTo:UH,tokenize:FH},PH={tokenize:zH},LH={tokenize:BH},VH={tokenize:HH};function OH(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&hr(n,0,n.length,t),n}function UH(n,e){let t=n.length,i=0,r,o,l,c;for(;t--;)if(r=n[t][1],o){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(l){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(o=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(l=t);const h={type:n[o][1].type==="labelLink"?"link":"image",start:{...n[o][1].start},end:{...n[n.length-1][1].end}},d={type:"label",start:{...n[o][1].start},end:{...n[l][1].end}},y={type:"labelText",start:{...n[o+i+2][1].end},end:{...n[l-2][1].start}};return c=[["enter",h,e],["enter",d,e]],c=wi(c,n.slice(o+1,o+i+3)),c=wi(c,[["enter",y,e]]),c=wi(c,n0(e.parser.constructs.insideSpan.null,n.slice(o+i+4,l-3),e)),c=wi(c,[["exit",y,e],n[l-2],n[l-1],["exit",d,e]]),c=wi(c,n.slice(l+1)),c=wi(c,[["exit",h,e]]),hr(n,o,n.length,c),n}function FH(n,e,t){const i=this;let r=i.events.length,o,l;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){o=i.events[r][1];break}return c;function c(E){return o?o._inactive?T(E):(l=i.parser.defined.includes(dl(i.sliceSerialize({start:o.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(E),n.exit("labelMarker"),n.exit("labelEnd"),h):t(E)}function h(E){return E===40?n.attempt(PH,y,l?y:T)(E):E===91?n.attempt(LH,y,l?d:T)(E):l?y(E):T(E)}function d(E){return n.attempt(VH,y,T)(E)}function y(E){return e(E)}function T(E){return o._balanced=!0,t(E)}}function zH(n,e,t){return i;function i(T){return n.enter("resource"),n.enter("resourceMarker"),n.consume(T),n.exit("resourceMarker"),r}function r(T){return Xn(T)?gc(n,o)(T):o(T)}function o(T){return T===41?y(T):Cb(n,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function l(T){return Xn(T)?gc(n,h)(T):y(T)}function c(T){return t(T)}function h(T){return T===34||T===39||T===40?wb(n,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):y(T)}function d(T){return Xn(T)?gc(n,y)(T):y(T)}function y(T){return T===41?(n.enter("resourceMarker"),n.consume(T),n.exit("resourceMarker"),n.exit("resource"),e):t(T)}}function BH(n,e,t){const i=this;return r;function r(c){return Sb.call(i,n,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return i.parser.defined.includes(dl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):t(c)}function l(c){return t(c)}}function HH(n,e,t){return i;function i(o){return n.enter("reference"),n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),r}function r(o){return o===93?(n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),n.exit("reference"),e):t(o)}}const qH={name:"labelStartImage",resolveAll:i0.resolveAll,tokenize:GH};function GH(n,e,t){const i=this;return r;function r(c){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(c),n.exit("labelImageMarker"),o}function o(c){return c===91?(n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelImage"),l):t(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(c):e(c)}}const $H={name:"labelStartLink",resolveAll:i0.resolveAll,tokenize:YH};function YH(n,e,t){const i=this;return r;function r(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(l):e(l)}}const Ig={name:"lineEnding",tokenize:KH};function KH(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),At(n,e,"linePrefix")}}const Kd={name:"thematicBreak",tokenize:jH};function jH(n,e,t){let i=0,r;return o;function o(d){return n.enter("thematicBreak"),l(d)}function l(d){return r=d,c(d)}function c(d){return d===r?(n.enter("thematicBreakSequence"),h(d)):i>=3&&(d===null||Be(d))?(n.exit("thematicBreak"),e(d)):t(d)}function h(d){return d===r?(n.consume(d),i++,h):(n.exit("thematicBreakSequence"),ht(d)?At(n,c,"whitespace")(d):c(d))}}const jn={continuation:{tokenize:ZH},exit:eq,name:"list",tokenize:XH},QH={partial:!0,tokenize:tq},WH={partial:!0,tokenize:JH};function XH(n,e,t){const i=this,r=i.events[i.events.length-1];let o=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,l=0;return c;function c(C){const I=i.containerState.type||(C===42||C===43||C===45?"listUnordered":"listOrdered");if(I==="listUnordered"?!i.containerState.marker||C===i.containerState.marker:Ly(C)){if(i.containerState.type||(i.containerState.type=I,n.enter(I,{_container:!0})),I==="listUnordered")return n.enter("listItemPrefix"),C===42||C===45?n.check(Kd,t,d)(C):d(C);if(!i.interrupt||C===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),h(C)}return t(C)}function h(C){return Ly(C)&&++l<10?(n.consume(C),h):(!i.interrupt||l<2)&&(i.containerState.marker?C===i.containerState.marker:C===41||C===46)?(n.exit("listItemValue"),d(C)):t(C)}function d(C){return n.enter("listItemMarker"),n.consume(C),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||C,n.check(ip,i.interrupt?t:y,n.attempt(QH,E,T))}function y(C){return i.containerState.initialBlankLine=!0,o++,E(C)}function T(C){return ht(C)?(n.enter("listItemPrefixWhitespace"),n.consume(C),n.exit("listItemPrefixWhitespace"),E):t(C)}function E(C){return i.containerState.size=o+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(C)}}function ZH(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(ip,r,o);function r(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,At(n,e,"listItemIndent",i.containerState.size+1)(c)}function o(c){return i.containerState.furtherBlankLines||!ht(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(WH,e,l)(c))}function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,At(n,n.attempt(jn,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function JH(n,e,t){const i=this;return At(n,r,"listItemIndent",i.containerState.size+1);function r(o){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(o):t(o)}}function eq(n){n.exit(this.containerState.type)}function tq(n,e,t){const i=this;return At(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(o){const l=i.events[i.events.length-1];return!ht(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):t(o)}}const mS={name:"setextUnderline",resolveTo:nq,tokenize:iq};function nq(n,e){let t=n.length,i,r,o;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!o&&n[t][1].type==="definition"&&(o=t);const l={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",o?(n.splice(r,0,["enter",l,e]),n.splice(o+1,0,["exit",n[i][1],e]),n[i][1].end={...n[o][1].end}):n[i][1]=l,n.push(["exit",l,e]),n}function iq(n,e,t){const i=this;let r;return o;function o(d){let y=i.events.length,T;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){T=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||T)?(n.enter("setextHeadingLine"),r=d,l(d)):t(d)}function l(d){return n.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===r?(n.consume(d),c):(n.exit("setextHeadingLineSequence"),ht(d)?At(n,h,"lineSuffix")(d):h(d))}function h(d){return d===null||Be(d)?(n.exit("setextHeadingLine"),e(d)):t(d)}}const rq={tokenize:sq};function sq(n){const e=this,t=n.attempt(ip,i,n.attempt(this.parser.constructs.flowInitial,r,At(n,n.attempt(this.parser.constructs.flow,r,n.attempt(cH,r)),"linePrefix")));return t;function i(o){if(o===null){n.consume(o);return}return n.enter("lineEndingBlank"),n.consume(o),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const oq={resolveAll:bb()},aq=Ab("string"),lq=Ab("text");function Ab(n){return{resolveAll:bb(n==="text"?uq:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],o=t.attempt(r,l,c);return l;function l(y){return d(y)?o(y):c(y)}function c(y){if(y===null){t.consume(y);return}return t.enter("data"),t.consume(y),h}function h(y){return d(y)?(t.exit("data"),o(y)):(t.consume(y),h)}function d(y){if(y===null)return!0;const T=r[y];let E=-1;if(T)for(;++E<T.length;){const C=T[E];if(!C.previous||C.previous.call(i,i.previous))return!0}return!1}}}function bb(n){return e;function e(t,i){let r=-1,o;for(;++r<=t.length;)o===void 0?t[r]&&t[r][1].type==="data"&&(o=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==o+2&&(t[o][1].end=t[r-1][1].end,t.splice(o+2,r-o-2),r=o+2),o=void 0);return n?n(t,i):t}}function uq(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let o=r.length,l=-1,c=0,h;for(;o--;){const d=r[o];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(d===-2)h=!0,c++;else if(d!==-1){o++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(c=0),c){const d={type:t===n.length||h||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:i.start._bufferIndex+l,_index:i.start._index+o,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(n.splice(t,0,["enter",d,e],["exit",d,e]),t+=2)}t++}return n}const cq={42:jn,43:jn,45:jn,48:jn,49:jn,50:jn,51:jn,52:jn,53:jn,54:jn,55:jn,56:jn,57:jn,62:_b},fq={91:mH},dq={[-2]:bg,[-1]:bg,32:bg},hq={35:EH,42:Kd,45:[mS,Kd],60:wH,61:mS,95:Kd,96:hS,126:hS},pq={38:Eb,92:Tb},mq={[-5]:Ig,[-4]:Ig,[-3]:Ig,33:qH,38:Eb,42:Vy,60:[$B,MH],91:$H,92:[_H,Tb],93:i0,95:Vy,96:rH},gq={null:[Vy,oq]},yq={null:[42,95]},vq={null:[]},_q=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yq,contentInitial:fq,disable:vq,document:cq,flow:hq,flowInitial:dq,insideSpan:gq,string:pq,text:mq},Symbol.toStringTag,{value:"Module"}));function Tq(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},o=[];let l=[],c=[];const h={attempt:V(ie),check:V(Y),consume:q,enter:G,exit:re,interrupt:V(Y,{interrupt:!0})},d={code:null,containerState:{},defineSkip:k,events:[],now:I,parser:n,previous:null,sliceSerialize:E,sliceStream:C,write:T};let y=e.tokenize.call(d,h);return e.resolveAll&&o.push(e),d;function T(z){return l=wi(l,z),F(),l[l.length-1]!==null?[]:(D(e,0),d.events=n0(o,d.events,d),d.events)}function E(z,B){return xq(C(z),B)}function C(z){return Eq(l,z)}function I(){const{_bufferIndex:z,_index:B,line:L,column:he,offset:me}=i;return{_bufferIndex:z,_index:B,line:L,column:he,offset:me}}function k(z){r[z.line]=z.column,O()}function F(){let z;for(;i._index<l.length;){const B=l[i._index];if(typeof B=="string")for(z=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===z&&i._bufferIndex<B.length;)U(B.charCodeAt(i._bufferIndex));else U(B)}}function U(z){y=y(z)}function q(z){Be(z)?(i.line++,i.column=1,i.offset+=z===-3?2:1,O()):z!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=z}function G(z,B){const L=B||{};return L.type=z,L.start=I(),d.events.push(["enter",L,d]),c.push(L),L}function re(z){const B=c.pop();return B.end=I(),d.events.push(["exit",B,d]),B}function ie(z,B){D(z,B.from)}function Y(z,B){B.restore()}function V(z,B){return L;function L(he,me,J){let fe,Ee,ke,w;return Array.isArray(he)?oe(he):"tokenize"in he?oe([he]):W(he);function W(Te){return lt;function lt(Ye){const Ct=Ye!==null&&Te[Ye],qt=Ye!==null&&Te.null,Mt=[...Array.isArray(Ct)?Ct:Ct?[Ct]:[],...Array.isArray(qt)?qt:qt?[qt]:[]];return oe(Mt)(Ye)}}function oe(Te){return fe=Te,Ee=0,Te.length===0?J:M(Te[Ee])}function M(Te){return lt;function lt(Ye){return w=N(),ke=Te,Te.partial||(d.currentConstruct=Te),Te.name&&d.parser.constructs.disable.null.includes(Te.name)?xe():Te.tokenize.call(B?Object.assign(Object.create(d),B):d,h,ge,xe)(Ye)}}function ge(Te){return z(ke,w),me}function xe(Te){return w.restore(),++Ee<fe.length?M(fe[Ee]):J}}}function D(z,B){z.resolveAll&&!o.includes(z)&&o.push(z),z.resolve&&hr(d.events,B,d.events.length-B,z.resolve(d.events.slice(B),d)),z.resolveTo&&(d.events=z.resolveTo(d.events,d))}function N(){const z=I(),B=d.previous,L=d.currentConstruct,he=d.events.length,me=Array.from(c);return{from:he,restore:J};function J(){i=z,d.previous=B,d.currentConstruct=L,d.events.length=he,c=me,O()}}function O(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function Eq(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,o=e.end._bufferIndex;let l;if(t===r)l=[n[t].slice(i,o)];else{if(l=n.slice(t,r),i>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}o>0&&l.push(n[r].slice(0,o))}return l}function xq(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const o=n[t];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&r)continue;l=" ";break}default:l=String.fromCharCode(o)}r=o===-2,i.push(l)}return i.join("")}function Cq(n){const i={constructs:kB([_q,...(n||{}).extensions||[]]),content:r(UB),defined:[],document:r(zB),flow:r(rq),lazy:{},string:r(aq),text:r(lq)};return i;function r(o){return l;function l(c){return Tq(i,o,c)}}}function Sq(n){for(;!xb(n););return n}const gS=/[\0\t\n\r]/g;function wq(){let n=1,e="",t=!0,i;return r;function r(o,l,c){const h=[];let d,y,T,E,C;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),T=0,e="",t&&(o.charCodeAt(0)===65279&&T++,t=void 0);T<o.length;){if(gS.lastIndex=T,d=gS.exec(o),E=d&&d.index!==void 0?d.index:o.length,C=o.charCodeAt(E),!d){e=o.slice(T);break}if(C===10&&T===E&&i)h.push(-3),i=void 0;else switch(i&&(h.push(-5),i=void 0),T<E&&(h.push(o.slice(T,E)),n+=E-T),C){case 0:{h.push(65533),n++;break}case 9:{for(y=Math.ceil(n/4)*4,h.push(-2);n++<y;)h.push(-1);break}case 10:{h.push(-4),n=1;break}default:i=!0,n=1}T=E+1}return c&&(i&&h.push(-5),e&&h.push(e),h.push(null)),h}}const Aq=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bq(n){return n.replace(Aq,Iq)}function Iq(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),o=r===120||r===88;return vb(t.slice(o?2:1),o?16:10)}return t0(t)||n}const Ib={}.hasOwnProperty;function Rq(n,e,t){return typeof e!="string"&&(t=e,e=void 0),kq(t)(Sq(Cq(t).document().write(wq()(n,e,!0))))}function kq(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(rs),autolinkProtocol:N,autolinkEmail:N,atxHeading:o(is),blockQuote:o(qt),characterEscape:N,characterReference:N,codeFenced:o(Mt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Mt,l),codeText:o(Nn,l),codeTextData:N,data:N,codeFlowValue:N,definition:o(qn),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Mn),hardBreakEscape:o(uo),hardBreakTrailing:o(uo),htmlFlow:o(Dn,l),htmlFlowData:N,htmlText:o(Dn,l),htmlTextData:N,image:o(zl),label:l,link:o(rs),listItem:o(vr),listItemValue:E,listOrdered:o(yr,T),listUnordered:o(yr),paragraph:o(Bl),reference:M,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(is),strong:o(ss),thematicBreak:o(sa)},exit:{atxHeading:h(),atxHeadingSequence:ie,autolink:h(),autolinkEmail:Ct,autolinkProtocol:Ye,blockQuote:h(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:xe,characterReferenceMarkerNumeric:xe,characterReferenceValue:Te,characterReference:lt,codeFenced:h(F),codeFencedFence:k,codeFencedFenceInfo:C,codeFencedFenceMeta:I,codeFlowValue:O,codeIndented:h(U),codeText:h(me),codeTextData:O,data:O,definition:h(),definitionDestinationString:re,definitionLabelString:q,definitionTitleString:G,emphasis:h(),hardBreakEscape:h(B),hardBreakTrailing:h(B),htmlFlow:h(L),htmlFlowData:O,htmlText:h(he),htmlTextData:O,image:h(fe),label:ke,labelText:Ee,lineEnding:z,link:h(J),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ge,resourceDestinationString:w,resourceTitleString:W,resource:oe,setextHeading:h(D),setextHeadingLineSequence:V,setextHeadingText:Y,strong:h(),thematicBreak:h()}};Rb(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(ne){let de={type:"root",children:[]};const Ie={stack:[de],tokenStack:[],config:e,enter:c,exit:d,buffer:l,resume:y,data:t},Ne=[];let ut=-1;for(;++ut<ne.length;)if(ne[ut][1].type==="listOrdered"||ne[ut][1].type==="listUnordered")if(ne[ut][0]==="enter")Ne.push(ut);else{const Pn=Ne.pop();ut=r(ne,Pn,ut)}for(ut=-1;++ut<ne.length;){const Pn=e[ne[ut][0]];Ib.call(Pn,ne[ut][1].type)&&Pn[ne[ut][1].type].call(Object.assign({sliceSerialize:ne[ut][2].sliceSerialize},Ie),ne[ut][1])}if(Ie.tokenStack.length>0){const Pn=Ie.tokenStack[Ie.tokenStack.length-1];(Pn[1]||yS).call(Ie,void 0,Pn[0])}for(de.position={start:Ls(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Ls(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},ut=-1;++ut<e.transforms.length;)de=e.transforms[ut](de)||de;return de}function r(ne,de,Ie){let Ne=de-1,ut=-1,Pn=!1,Ln,dn,Jn,hn;for(;++Ne<=Ie;){const Gt=ne[Ne];switch(Gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Gt[0]==="enter"?ut++:ut--,hn=void 0;break}case"lineEndingBlank":{Gt[0]==="enter"&&(Ln&&!hn&&!ut&&!Jn&&(Jn=Ne),hn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hn=void 0}if(!ut&&Gt[0]==="enter"&&Gt[1].type==="listItemPrefix"||ut===-1&&Gt[0]==="exit"&&(Gt[1].type==="listUnordered"||Gt[1].type==="listOrdered")){if(Ln){let Gn=Ne;for(dn=void 0;Gn--;){const Vn=ne[Gn];if(Vn[1].type==="lineEnding"||Vn[1].type==="lineEndingBlank"){if(Vn[0]==="exit")continue;dn&&(ne[dn][1].type="lineEndingBlank",Pn=!0),Vn[1].type="lineEnding",dn=Gn}else if(!(Vn[1].type==="linePrefix"||Vn[1].type==="blockQuotePrefix"||Vn[1].type==="blockQuotePrefixWhitespace"||Vn[1].type==="blockQuoteMarker"||Vn[1].type==="listItemIndent"))break}Jn&&(!dn||Jn<dn)&&(Ln._spread=!0),Ln.end=Object.assign({},dn?ne[dn][1].start:Gt[1].end),ne.splice(dn||Ne,0,["exit",Ln,Gt[2]]),Ne++,Ie++}if(Gt[1].type==="listItemPrefix"){const Gn={type:"listItem",_spread:!1,start:Object.assign({},Gt[1].start),end:void 0};Ln=Gn,ne.splice(Ne,0,["enter",Gn,Gt[2]]),Ne++,Ie++,Jn=void 0,hn=!0}}}return ne[de][1]._spread=Pn,Ie}function o(ne,de){return Ie;function Ie(Ne){c.call(this,ne(Ne),Ne),de&&de.call(this,Ne)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ne,de,Ie){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([de,Ie||void 0]),ne.position={start:Ls(de.start),end:void 0}}function h(ne){return de;function de(Ie){ne&&ne.call(this,Ie),d.call(this,Ie)}}function d(ne,de){const Ie=this.stack.pop(),Ne=this.tokenStack.pop();if(Ne)Ne[0].type!==ne.type&&(de?de.call(this,ne,Ne[0]):(Ne[1]||yS).call(this,ne,Ne[0]));else throw new Error("Cannot close `"+ne.type+"` ("+mc({start:ne.start,end:ne.end})+"): its not open");Ie.position.end=Ls(ne.end)}function y(){return IB(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function E(ne){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function C(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.lang=ne}function I(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.meta=ne}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function F(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function U(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne.replace(/(\r?\n|\r)$/g,"")}function q(ne){const de=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=de,Ie.identifier=dl(this.sliceSerialize(ne)).toLowerCase()}function G(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.title=ne}function re(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.url=ne}function ie(ne){const de=this.stack[this.stack.length-1];if(!de.depth){const Ie=this.sliceSerialize(ne).length;de.depth=Ie}}function Y(){this.data.setextHeadingSlurpLineEnding=!0}function V(ne){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function N(ne){const Ie=this.stack[this.stack.length-1].children;let Ne=Ie[Ie.length-1];(!Ne||Ne.type!=="text")&&(Ne=co(),Ne.position={start:Ls(ne.start),end:void 0},Ie.push(Ne)),this.stack.push(Ne)}function O(ne){const de=this.stack.pop();de.value+=this.sliceSerialize(ne),de.position.end=Ls(ne.end)}function z(ne){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=de.children[de.children.length-1];Ie.position.end=Ls(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(de.type)&&(N.call(this,ne),O.call(this,ne))}function B(){this.data.atHardBreak=!0}function L(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function he(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function me(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function J(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=de,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function fe(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=de,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function Ee(ne){const de=this.sliceSerialize(ne),Ie=this.stack[this.stack.length-2];Ie.label=bq(de),Ie.identifier=dl(de).toLowerCase()}function ke(){const ne=this.stack[this.stack.length-1],de=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const Ne=ne.children;Ie.children=Ne}else Ie.alt=de}function w(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.url=ne}function W(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.title=ne}function oe(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function ge(ne){const de=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=de,Ie.identifier=dl(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function xe(ne){this.data.characterReferenceType=ne.type}function Te(ne){const de=this.sliceSerialize(ne),Ie=this.data.characterReferenceType;let Ne;Ie?(Ne=vb(de,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ne=t0(de);const ut=this.stack[this.stack.length-1];ut.value+=Ne}function lt(ne){const de=this.stack.pop();de.position.end=Ls(ne.end)}function Ye(ne){O.call(this,ne);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(ne)}function Ct(ne){O.call(this,ne);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(ne)}function qt(){return{type:"blockquote",children:[]}}function Mt(){return{type:"code",lang:null,meta:null,value:""}}function Nn(){return{type:"inlineCode",value:""}}function qn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Mn(){return{type:"emphasis",children:[]}}function is(){return{type:"heading",depth:0,children:[]}}function uo(){return{type:"break"}}function Dn(){return{type:"html",value:""}}function zl(){return{type:"image",title:null,url:"",alt:null}}function rs(){return{type:"link",title:null,url:"",children:[]}}function yr(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function vr(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function Bl(){return{type:"paragraph",children:[]}}function ss(){return{type:"strong",children:[]}}function co(){return{type:"text",value:""}}function sa(){return{type:"thematicBreak"}}}function Ls(n){return{line:n.line,column:n.column,offset:n.offset}}function Rb(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?Rb(n,i):Nq(n,i)}}function Nq(n,e){let t;for(t in e)if(Ib.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function yS(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+mc({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+mc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+mc({start:e.start,end:e.end})+") is still open")}function Mq(n){const e=this;e.parser=t;function t(i){return Rq(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Dq(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function Pq(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function Lq(n,e){const t=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(r.data={meta:e.meta}),n.patch(e,r),r=n.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},n.patch(e,r),r}function Vq(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Oq(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Uq(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=Fl(i.toLowerCase()),o=n.footnoteOrder.indexOf(i);let l,c=n.footnoteCounts.get(i);c===void 0?(c=0,n.footnoteOrder.push(i),l=n.footnoteOrder.length):l=o+1,c+=1,n.footnoteCounts.set(i,c);const h={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};n.patch(e,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return n.patch(e,d),n.applyData(e,d)}function Fq(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function zq(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function kb(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),o=r[0];o&&o.type==="text"?o.value="["+o.value:r.unshift({type:"text",value:"["});const l=r[r.length-1];return l&&l.type==="text"?l.value+=i:r.push({type:"text",value:i}),r}function Bq(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return kb(n,e);const r={src:Fl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,o),n.applyData(e,o)}function Hq(n,e){const t={src:Fl(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function qq(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function Gq(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return kb(n,e);const r={href:Fl(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,o),n.applyData(e,o)}function $q(n,e){const t={href:Fl(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function Yq(n,e,t){const i=n.all(e),r=t?Kq(t):Nb(e),o={},l=[];if(typeof e.checked=="boolean"){const y=i[0];let T;y&&y.type==="element"&&y.tagName==="p"?T=y:(T={type:"element",tagName:"p",properties:{},children:[]},i.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const y=i[c];(r||c!==0||y.type!=="element"||y.tagName!=="p")&&l.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!r?l.push(...y.children):l.push(y)}const h=i[i.length-1];h&&(r||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:l};return n.patch(e,d),n.applyData(e,d)}function Kq(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=Nb(t[i])}return e}function Nb(n){const e=n.spread;return e??n.children.length>1}function jq(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const l=i[r];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,o),n.applyData(e,o)}function Qq(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Wq(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function Xq(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Zq(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],l),r.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},c=Xv(e.children[1]),h=fb(e.children[e.children.length-1]);c&&h&&(l.position={start:c,end:h}),r.push(l)}const o={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,o),n.applyData(e,o)}function Jq(n,e,t){const i=t?t.children:void 0,o=(i?i.indexOf(e):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,c=l?l.length:e.children.length;let h=-1;const d=[];for(;++h<c;){const T=e.children[h],E={},C=l?l[h]:void 0;C&&(E.align=C);let I={type:"element",tagName:o,properties:E,children:[]};T&&(I.children=n.all(T),n.patch(T,I),I=n.applyData(T,I)),d.push(I)}const y={type:"element",tagName:"tr",properties:{},children:n.wrap(d,!0)};return n.patch(e,y),n.applyData(e,y)}function eG(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const vS=9,_S=32;function tG(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const o=[];for(;i;)o.push(TS(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return o.push(TS(e.slice(r),r>0,!1)),o.join("")}function TS(n,e,t){let i=0,r=n.length;if(e){let o=n.codePointAt(i);for(;o===vS||o===_S;)i++,o=n.codePointAt(i)}if(t){let o=n.codePointAt(r-1);for(;o===vS||o===_S;)r--,o=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function nG(n,e){const t={type:"text",value:tG(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function iG(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const rG={blockquote:Dq,break:Pq,code:Lq,delete:Vq,emphasis:Oq,footnoteReference:Uq,heading:Fq,html:zq,imageReference:Bq,image:Hq,inlineCode:qq,linkReference:Gq,link:$q,listItem:Yq,list:jq,paragraph:Qq,root:Wq,strong:Xq,table:Zq,tableCell:eG,tableRow:Jq,text:nG,thematicBreak:iG,toml:kd,yaml:kd,definition:kd,footnoteDefinition:kd};function kd(){}const Mb=-1,rp=0,yc=1,kh=2,r0=3,s0=4,o0=5,a0=6,Db=7,Pb=8,ES=typeof self=="object"?self:globalThis,sG=(n,e)=>{const t=(r,o)=>(n.set(o,r),r),i=r=>{if(n.has(r))return n.get(r);const[o,l]=e[r];switch(o){case rp:case Mb:return t(l,r);case yc:{const c=t([],r);for(const h of l)c.push(i(h));return c}case kh:{const c=t({},r);for(const[h,d]of l)c[i(h)]=i(d);return c}case r0:return t(new Date(l),r);case s0:{const{source:c,flags:h}=l;return t(new RegExp(c,h),r)}case o0:{const c=t(new Map,r);for(const[h,d]of l)c.set(i(h),i(d));return c}case a0:{const c=t(new Set,r);for(const h of l)c.add(i(h));return c}case Db:{const{name:c,message:h}=l;return t(new ES[c](h),r)}case Pb:return t(BigInt(l),r);case"BigInt":return t(Object(BigInt(l)),r);case"ArrayBuffer":return t(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return t(new DataView(c),l)}}return t(new ES[o](l),r)};return i},xS=n=>sG(new Map,n)(0),Xa="",{toString:oG}={},{keys:aG}=Object,ec=n=>{const e=typeof n;if(e!=="object"||!n)return[rp,e];const t=oG.call(n).slice(8,-1);switch(t){case"Array":return[yc,Xa];case"Object":return[kh,Xa];case"Date":return[r0,Xa];case"RegExp":return[s0,Xa];case"Map":return[o0,Xa];case"Set":return[a0,Xa];case"DataView":return[yc,t]}return t.includes("Array")?[yc,t]:t.includes("Error")?[Db,t]:[kh,t]},Nd=([n,e])=>n===rp&&(e==="function"||e==="symbol"),lG=(n,e,t,i)=>{const r=(l,c)=>{const h=i.push(l)-1;return t.set(c,h),h},o=l=>{if(t.has(l))return t.get(l);let[c,h]=ec(l);switch(c){case rp:{let y=l;switch(h){case"bigint":c=Pb,y=l.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+h);y=null;break;case"undefined":return r([Mb],l)}return r([c,y],l)}case yc:{if(h){let E=l;return h==="DataView"?E=new Uint8Array(l.buffer):h==="ArrayBuffer"&&(E=new Uint8Array(l)),r([h,[...E]],l)}const y=[],T=r([c,y],l);for(const E of l)y.push(o(E));return T}case kh:{if(h)switch(h){case"BigInt":return r([h,l.toString()],l);case"Boolean":case"Number":case"String":return r([h,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const y=[],T=r([c,y],l);for(const E of aG(l))(n||!Nd(ec(l[E])))&&y.push([o(E),o(l[E])]);return T}case r0:return r([c,l.toISOString()],l);case s0:{const{source:y,flags:T}=l;return r([c,{source:y,flags:T}],l)}case o0:{const y=[],T=r([c,y],l);for(const[E,C]of l)(n||!(Nd(ec(E))||Nd(ec(C))))&&y.push([o(E),o(C)]);return T}case a0:{const y=[],T=r([c,y],l);for(const E of l)(n||!Nd(ec(E)))&&y.push(o(E));return T}}const{message:d}=l;return r([c,{name:h,message:d}],l)};return o},CS=(n,{json:e,lossy:t}={})=>{const i=[];return lG(!(e||t),!!e,new Map,i)(n),i},Nh=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?xS(CS(n,e)):structuredClone(n):(n,e)=>xS(CS(n,e));function uG(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function cG(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function fG(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||uG,i=n.options.footnoteBackLabel||cG,r=n.options.footnoteLabel||"Footnotes",o=n.options.footnoteLabelTagName||"h2",l=n.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let h=-1;for(;++h<n.footnoteOrder.length;){const d=n.footnoteById.get(n.footnoteOrder[h]);if(!d)continue;const y=n.all(d),T=String(d.identifier).toUpperCase(),E=Fl(T.toLowerCase());let C=0;const I=[],k=n.footnoteCounts.get(T);for(;k!==void 0&&++C<=k;){I.length>0&&I.push({type:"text",value:" "});let q=typeof t=="string"?t:t(h,C);typeof q=="string"&&(q={type:"text",value:q}),I.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+E+(C>1?"-"+C:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(h,C),className:["data-footnote-backref"]},children:Array.isArray(q)?q:[q]})}const F=y[y.length-1];if(F&&F.type==="element"&&F.tagName==="p"){const q=F.children[F.children.length-1];q&&q.type==="text"?q.value+=" ":F.children.push({type:"text",value:" "}),F.children.push(...I)}else y.push(...I);const U={type:"element",tagName:"li",properties:{id:e+"fn-"+E},children:n.wrap(y,!0)};n.patch(d,U),c.push(U)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Nh(l),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(c,!0)},{type:"text",value:`
`}]}}const Lb=function(n){if(n==null)return mG;if(typeof n=="function")return sp(n);if(typeof n=="object")return Array.isArray(n)?dG(n):hG(n);if(typeof n=="string")return pG(n);throw new Error("Expected function, string, or object as test")};function dG(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=Lb(n[t]);return sp(i);function i(...r){let o=-1;for(;++o<e.length;)if(e[o].apply(this,r))return!0;return!1}}function hG(n){const e=n;return sp(t);function t(i){const r=i;let o;for(o in n)if(r[o]!==e[o])return!1;return!0}}function pG(n){return sp(e);function e(t){return t&&t.type===n}}function sp(n){return e;function e(t,i,r){return!!(gG(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function mG(){return!0}function gG(n){return n!==null&&typeof n=="object"&&"type"in n}const Vb=[],yG=!0,SS=!1,vG="skip";function _G(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const o=Lb(r),l=i?-1:1;c(n,void 0,[])();function c(h,d,y){const T=h&&typeof h=="object"?h:{};if(typeof T.type=="string"){const C=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(E,"name",{value:"node ("+(h.type+(C?"<"+C+">":""))+")"})}return E;function E(){let C=Vb,I,k,F;if((!e||o(h,d,y[y.length-1]||void 0))&&(C=TG(t(h,y)),C[0]===SS))return C;if("children"in h&&h.children){const U=h;if(U.children&&C[0]!==vG)for(k=(i?U.children.length:-1)+l,F=y.concat(U);k>-1&&k<U.children.length;){const q=U.children[k];if(I=c(q,k,F)(),I[0]===SS)return I;k=typeof I[1]=="number"?I[1]:k+l}}return C}}}function TG(n){return Array.isArray(n)?n:typeof n=="number"?[yG,n]:n==null?Vb:[n]}function Ob(n,e,t,i){let r,o,l;typeof e=="function"?(o=void 0,l=e,r=t):(o=e,l=t,r=i),_G(n,o,c,r);function c(h,d){const y=d[d.length-1],T=y?y.children.indexOf(h):void 0;return l(h,T,y)}}const Oy={}.hasOwnProperty,EG={};function xG(n,e){const t=e||EG,i=new Map,r=new Map,o=new Map,l={...rG,...t.handlers},c={all:d,applyData:SG,definitionById:i,footnoteById:r,footnoteCounts:o,footnoteOrder:[],handlers:l,one:h,options:t,patch:CG,wrap:AG};return Ob(n,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const T=y.type==="definition"?i:r,E=String(y.identifier).toUpperCase();T.has(E)||T.set(E,y)}}),c;function h(y,T){const E=y.type,C=c.handlers[E];if(Oy.call(c.handlers,E)&&C)return C(c,y,T);if(c.options.passThrough&&c.options.passThrough.includes(E)){if("children"in y){const{children:k,...F}=y,U=Nh(F);return U.children=c.all(y),U}return Nh(y)}return(c.options.unknownHandler||wG)(c,y,T)}function d(y){const T=[];if("children"in y){const E=y.children;let C=-1;for(;++C<E.length;){const I=c.one(E[C],y);if(I){if(C&&E[C-1].type==="break"&&(!Array.isArray(I)&&I.type==="text"&&(I.value=wS(I.value)),!Array.isArray(I)&&I.type==="element")){const k=I.children[0];k&&k.type==="text"&&(k.value=wS(k.value))}Array.isArray(I)?T.push(...I):T.push(I)}}}return T}}function CG(n,e){n.position&&(e.position=oB(n))}function SG(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,o=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const l="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:l}}t.type==="element"&&o&&Object.assign(t.properties,Nh(o)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function wG(n,e){const t=e.data||{},i="value"in e&&!(Oy.call(t,"hProperties")||Oy.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function AG(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function wS(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function AS(n,e){const t=xG(n,e),i=t.one(n,void 0),r=fG(t),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&o.children.push({type:"text",value:`
`},r),o}function bG(n,e){return n&&"run"in n?async function(t,i){const r=AS(t,{file:i,...e});await n.run(r,i)}:function(t,i){return AS(t,{file:i,...n||e})}}function bS(n){if(n)throw n}var Rg,IS;function IG(){if(IS)return Rg;IS=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var y=n.call(d,"constructor"),T=d.constructor&&d.constructor.prototype&&n.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!y&&!T)return!1;var E;for(E in d);return typeof E>"u"||n.call(d,E)},l=function(d,y){t&&y.name==="__proto__"?t(d,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):d[y.name]=y.newValue},c=function(d,y){if(y==="__proto__")if(n.call(d,y)){if(i)return i(d,y).value}else return;return d[y]};return Rg=function h(){var d,y,T,E,C,I,k=arguments[0],F=1,U=arguments.length,q=!1;for(typeof k=="boolean"&&(q=k,k=arguments[1]||{},F=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});F<U;++F)if(d=arguments[F],d!=null)for(y in d)T=c(k,y),E=c(d,y),k!==E&&(q&&E&&(o(E)||(C=r(E)))?(C?(C=!1,I=T&&r(T)?T:[]):I=T&&o(T)?T:{},l(k,{name:y,newValue:h(q,I,E)})):typeof E<"u"&&l(k,{name:y,newValue:E}));return k},Rg}var RG=IG();const kg=zy(RG);function Uy(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function kG(){const n=[],e={run:t,use:i};return e;function t(...r){let o=-1;const l=r.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...r);function c(h,...d){const y=n[++o];let T=-1;if(h){l(h);return}for(;++T<r.length;)(d[T]===null||d[T]===void 0)&&(d[T]=r[T]);r=d,y?NG(y,c)(...d):l(null,...d)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function NG(n,e){let t;return i;function i(...l){const c=n.length>l.length;let h;c&&l.push(r);try{h=n.apply(this,l)}catch(d){const y=d;if(c&&t)throw y;return r(y)}c||(h&&h.then&&typeof h.then=="function"?h.then(o,r):h instanceof Error?r(h):o(h))}function r(l,...c){t||(t=!0,e(l,...c))}function o(l){r(null,l)}}const Ji={basename:MG,dirname:DG,extname:PG,join:LG,sep:"/"};function MG(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Wc(n);let t=0,i=-1,r=n.length,o;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(o){t=r+1;break}}else i<0&&(o=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let l=-1,c=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(o){t=r+1;break}}else l<0&&(o=!0,l=r+1),c>-1&&(n.codePointAt(r)===e.codePointAt(c--)?c<0&&(i=r):(c=-1,i=l));return t===i?i=l:i<0&&(i=n.length),n.slice(t,i)}function DG(n){if(Wc(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function PG(n){Wc(n);let e=n.length,t=-1,i=0,r=-1,o=0,l;for(;e--;){const c=n.codePointAt(e);if(c===47){if(l){i=e+1;break}continue}t<0&&(l=!0,t=e+1),c===46?r<0?r=e:o!==1&&(o=1):r>-1&&(o=-1)}return r<0||t<0||o===0||o===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function LG(...n){let e=-1,t;for(;++e<n.length;)Wc(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":VG(t)}function VG(n){Wc(n);const e=n.codePointAt(0)===47;let t=OG(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function OG(n,e){let t="",i=0,r=-1,o=0,l=-1,c,h;for(;++l<=n.length;){if(l<n.length)c=n.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(r===l-1||o===1))if(r!==l-1&&o===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(h=t.lastIndexOf("/"),h!==t.length-1){h<0?(t="",i=0):(t=t.slice(0,h),i=t.length-1-t.lastIndexOf("/")),r=l,o=0;continue}}else if(t.length>0){t="",i=0,r=l,o=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,l):t=n.slice(r+1,l),i=l-r-1;r=l,o=0}else c===46&&o>-1?o++:o=-1}return t}function Wc(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const UG={cwd:FG};function FG(){return"/"}function Fy(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function zG(n){if(typeof n=="string")n=new URL(n);else if(!Fy(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return BG(n)}function BG(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const Ng=["history","path","basename","stem","extname","dirname"];class Ub{constructor(e){let t;e?Fy(e)?t={path:e}:typeof e=="string"||HG(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":UG.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Ng.length;){const o=Ng[i];o in t&&t[o]!==void 0&&t[o]!==null&&(this[o]=o==="history"?[...t[o]]:t[o])}let r;for(r in t)Ng.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?Ji.basename(this.path):void 0}set basename(e){Dg(e,"basename"),Mg(e,"basename"),this.path=Ji.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ji.dirname(this.path):void 0}set dirname(e){RS(this.basename,"dirname"),this.path=Ji.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ji.extname(this.path):void 0}set extname(e){if(Mg(e,"extname"),RS(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ji.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Fy(e)&&(e=zG(e)),Dg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ji.basename(this.path,this.extname):void 0}set stem(e){Dg(e,"stem"),Mg(e,"stem"),this.path=Ji.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new kn(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Mg(n,e){if(n&&n.includes(Ji.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ji.sep+"`")}function Dg(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function RS(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function HG(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const qG=function(n){const i=this.constructor.prototype,r=i[n],o=function(){return r.apply(o,arguments)};return Object.setPrototypeOf(o,i),o},GG={}.hasOwnProperty;class l0 extends qG{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kG()}copy(){const e=new l0;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(kg(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(Vg("data",this.frozen),this.namespace[e]=t,this):GG.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Vg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Md(e),i=this.parser||this.Parser;return Pg("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),Pg("process",this.parser||this.Parser),Lg("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(o,l){const c=Md(e),h=i.parse(c);i.run(h,c,function(y,T,E){if(y||!T||!E)return d(y);const C=T,I=i.stringify(C,E);KG(I)?E.value=I:E.result=I,d(y,E)});function d(y,T){y||!T?l(y):o?o(T):t(void 0,T)}}}processSync(e){let t=!1,i;return this.freeze(),Pg("processSync",this.parser||this.Parser),Lg("processSync",this.compiler||this.Compiler),this.process(e,r),NS("processSync","process",t),i;function r(o,l){t=!0,bS(o),i=l}}run(e,t,i){kS(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?o(void 0,i):new Promise(o);function o(l,c){const h=Md(t);r.run(e,h,d);function d(y,T,E){const C=T||e;y?c(y):l?l(C):i(void 0,C,E)}}}runSync(e,t){let i=!1,r;return this.run(e,t,o),NS("runSync","run",i),r;function o(l,c){bS(l),r=c,i=!0}}stringify(e,t){this.freeze();const i=Md(t),r=this.compiler||this.Compiler;return Lg("stringify",r),kS(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(Vg("use",this.frozen),e!=null)if(typeof e=="function")h(e,t);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[y,...T]=d;h(y,T)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(r.settings=kg(!0,r.settings,d.settings))}function c(d){let y=-1;if(d!=null)if(Array.isArray(d))for(;++y<d.length;){const T=d[y];o(T)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,y){let T=-1,E=-1;for(;++T<i.length;)if(i[T][0]===d){E=T;break}if(E===-1)i.push([d,...y]);else if(y.length>0){let[C,...I]=y;const k=i[E][1];Uy(k)&&Uy(C)&&(C=kg(!0,k,C)),i[E]=[d,C,...I]}}}}const $G=new l0().freeze();function Pg(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Lg(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Vg(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function kS(n){if(!Uy(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function NS(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Md(n){return YG(n)?n:new Ub(n)}function YG(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function KG(n){return typeof n=="string"||jG(n)}function jG(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const QG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",MS=[],DS={allowDangerousHtml:!0},WG=/^(https?|ircs?|mailto|xmpp)$/i,XG=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ZG(n){const e=JG(n),t=e$(n);return t$(e.runSync(e.parse(t),t),n)}function JG(n){const e=n.rehypePlugins||MS,t=n.remarkPlugins||MS,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...DS}:DS;return $G().use(Mq).use(t).use(bG,i).use(e)}function e$(n){const e=n.children||"",t=new Ub;return typeof e=="string"&&(t.value=e),t}function t$(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,o=e.disallowedElements,l=e.skipHtml,c=e.unwrapDisallowed,h=e.urlTransform||n$;for(const y of XG)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+QG+y.id,void 0);return Ob(n,d),fB(n,{Fragment:b.Fragment,components:r,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function d(y,T,E){if(y.type==="raw"&&E&&typeof T=="number")return l?E.children.splice(T,1):E.children[T]={type:"text",value:y.value},T;if(y.type==="element"){let C;for(C in Ag)if(Object.hasOwn(Ag,C)&&Object.hasOwn(y.properties,C)){const I=y.properties[C],k=Ag[C];(k===null||k.includes(y.tagName))&&(y.properties[C]=h(String(I||""),C,y))}}if(y.type==="element"){let C=t?!t.includes(y.tagName):o?o.includes(y.tagName):!1;if(!C&&i&&typeof T=="number"&&(C=!i(y,T,E)),C&&E&&typeof T=="number")return c&&y.children?E.children.splice(T,1,...y.children):E.children.splice(T,1),T}}}function n$(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||WG.test(n.slice(0,e))?n:""}function i$(n){return ze({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Share_2"},child:[{tag:"path",attr:{d:"M18.44,15.94a2.5,2.5,0,0,0-1.96.95L7.97,12.64a2.356,2.356,0,0,0,0-1.29l8.5-4.25a2.5,2.5,0,1,0-.53-1.54,2.269,2.269,0,0,0,.09.65l-8.5,4.25a2.5,2.5,0,1,0,0,3.08l8.5,4.25a2.269,2.269,0,0,0-.09.65,2.5,2.5,0,1,0,2.5-2.5Zm0-11.88a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,18.44,4.06ZM5.56,13.5A1.5,1.5,0,1,1,7.06,12,1.5,1.5,0,0,1,5.56,13.5Zm12.88,6.44a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,18.44,19.94Z"},child:[]}]}]})(n)}const r$=({handleEditText:n,isSignedIn:e,messages:t,editingIndex:i,editingText:r,handleTextChange:o,handleSaveEdit:l,id:c,handleCancelEdit:h,feedbacks:d,handleLike:y,handleDislike:T,handleRedo:E,loading:C,handleShare:I,showMoreOptions:k,setShowMoreOptions:F,handleCopy:U,moreBtnRef:q,bottomRef:G,logo:re})=>{const{dark:ie,errorMsg:Y,setErrorMsg:V}=K.useContext(xn);return b.jsx("div",{className:`${ie?"custom-scrollbar":"light-scrollbar"} w-full overflow-y-scroll ${e?"h-[calc(100%_-_16rem)] xl:h-[calc(100%_-_14.5rem)]":"h-[calc(100%_-_15rem)] xl:h-[calc(100%_-_11.5rem)]"} `,children:b.jsxs("div",{className:"m-auto flex h-full w-full  max-w-[98%] xl:max-w-[70%] flex-col items-center",children:[t==null?void 0:t.map((D,N)=>{var O,z;return b.jsxs("div",{className:`${D.role==="user"?"self-end":"self-start"} flex pb-6 text-justify`,children:[b.jsx("img",{className:`${D.role==="ai"?"block":"hidden"} mr-2 xl:mr-4 h-fit w-12 xl:w-15`,src:re,alt:"Century logo"}),b.jsxs("div",{className:"flex flex-col text-black dark:text-white",children:[D.role==="user"?i===N?b.jsxs("div",{className:"flex flex-col items-end gap-2",children:[b.jsx("textarea",{name:"update-prompt",id:"update-prompt",className:"w-75 text-sm xl:text-base xl:w-150 resize-none overflow-hidden rounded-3xl border-2 border-blue-600 bg-[#fff] p-4 text-black outline-none dark:border-blue-300 dark:bg-[#27292b] dark:text-white",value:r,onChange:o}),b.jsxs("div",{className:"mt-2 flex flex-row-reverse gap-2",children:[b.jsx("button",{"aria-label":"Update your prompt",disabled:r===D.text,onClick:()=>l(N,r,c),className:"cursor-pointer rounded-full bg-blue-600 px-5 py-2 text-white hover:bg-blue-500 disabled:cursor-default dark:bg-blue-300 dark:text-blue-800 dark:hover:bg-blue-400 dark:disabled:bg-[#27292b] dark:disabled:text-[#7e848b] text-sm xl:text-base",children:"Update"}),b.jsx("button",{"aria-label":"Cancel editing",onClick:h,className:"cursor-pointer rounded-full px-5 py-2 text-blue-600 hover:bg-[#f0f4f9] dark:text-blue-200 dark:hover:bg-gray-800 text-sm xl:text-base",children:"Cancel"})]})]}):b.jsxs("div",{className:"group flex flex-row-reverse items-start gap-2",children:[b.jsx("p",{className:"max-w-[60vw] text-sm xl:text-base xl:max-w-[30vw] self-center rounded-l-2xl rounded-br-2xl bg-[#f0f4f9] p-3 text-black dark:bg-[#333537] dark:text-white",children:D.text}),b.jsxs("div",{onClick:()=>n(N,D.text),className:"relative self-center flex xl:hidden xl:h-10 xl:w-10 h-8 w-8 cursor-pointer items-center justify-center rounded-full text-[#575757] xl:group-hover:flex hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:text-[#949a9c] dark:hover:bg-[#353739] dark:active:bg-[#494c4e]",children:[b.jsx(nz,{className:"w-3 xl:w-4"}),b.jsx("p",{className:"bottom-tooltip",children:"Edit text"})]})]}):b.jsx("div",{className:"prose dark:prose-invert text-sm xl:text-base animate-height max-w-60 xl:max-w-full self-start overflow-hidden break-words text-black dark:text-white",children:b.jsx(ZG,{children:D.text})}),D.role==="ai"&&b.jsxs("div",{className:"animate-slow-opacity mt-2 flex w-fit cursor-pointer xl:text-lg",children:[b.jsxs("div",{className:"group menu-btns relative",children:[(O=d[N])!=null&&O.like?b.jsx(wz,{onClick:()=>y(N)}):b.jsx(Cz,{onClick:()=>y(N)}),b.jsx("p",{className:"bottom-tooltip",children:"Good response"})]}),b.jsxs("div",{className:"group menu-btns relative",children:[(z=d[N])!=null&&z.dislike?b.jsx(Sz,{onClick:()=>T(N)}):b.jsx(xz,{onClick:()=>T(N)}),b.jsx("p",{className:"bottom-tooltip",children:"Bad response"})]}),b.jsxs("div",{className:"group menu-btns relative",children:[b.jsx(WF,{onClick:()=>{var B;return!C&&E(N-1,(B=t[N-1])==null?void 0:B.text,c)}}),b.jsx("p",{className:"bottom-tooltip",children:"Redo"})]}),b.jsxs("div",{className:"group menu-btns relative",children:[b.jsx(i$,{onClick:I,className:"cursor-pointer"}),b.jsx("p",{className:"bottom-tooltip",children:"Share"})]}),b.jsxs("div",{className:"relative",children:[b.jsxs("div",{ref:q,onClick:()=>F(k===N?null:N),className:"group menu-btns relative",children:[b.jsx(Rz,{}),b.jsx("p",{className:"bottom-tooltip",children:"More"})]}),b.jsxs("ul",{className:`${k===N?"opacity-100":"pointer-events-none opacity-0"} absolute -left-20 xl:-left-0 z-10 rounded-lg bg-[#f0f4f9] whitespace-nowrap shadow shadow-black/50 transition-opacity duration-100 ease-in dark:bg-[#1b1c1d] dark:text-white`,children:[b.jsxs("li",{onClick:()=>U(D.text),className:"mt-2 mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234]",children:[b.jsx(hz,{className:"text-base xl:text-lg"})," Copy"]}),b.jsxs("li",{className:"mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234]",children:[b.jsx(dz,{className:"text-base xl:text-lg"})," Listen"]}),b.jsxs("li",{className:"mb-2 flex items-center gap-5 px-6 py-2 text-xs xl:text-sm hover:bg-[#dde3ea] active:bg-[#b5bac0] dark:hover:bg-[#313234]",children:[b.jsx(yz,{className:"text-base xl:text-lg"})," Report legal issue"]})]})]})]})]})]},N)}),C&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex w-full animate-pulse items-center justify-start gap-2 text-black dark:text-white",children:[b.jsx("img",{className:"mr-2 xl:mr-4 h-fit w-12 xl:w-15",src:re,alt:"Century logo"}),b.jsx("p",{className:"text-sm xl:text-base",children:"Century is thinking..."})]}),b.jsx("div",{className:"pb-20",ref:G})]}),Y&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"self-start w-[80%] text-sm xl:text-base p-3 relative group rounded-xl xl:w-[50%] bg-transparent border border-red-500 gap-2 text-black dark:text-red-500",children:[b.jsx("p",{className:"w-[95%]",children:"An error occurred while getting a response from Century, please try again!"}),b.jsx(Mz,{onClick:()=>V(!1),className:"text-red-500 xl:hidden group-hover:block text-2xl cursor-pointer absolute top-2 right-2"})]}),b.jsx("div",{className:"pb-20",ref:G})]})]})})},s$=({isSignedIn:n,promptInput:e,setPromptInput:t,fetchPrompt:i,handleSubmit:r,id:o})=>{const{dark:l}=K.useContext(xn);return b.jsx(b.Fragment,{children:n?b.jsxs("div",{className:`${l?"prompt-shadow":""} m-auto flex w-[95%] overflow-hidden xl:w-[45rem] flex-col rounded-3xl border border-[#595c5f]/50 px-4 py-3 text-[#595c5f] dark:border-[#9a9fa5]/50 dark:text-[#868a8f]`,children:[b.jsx("input",{placeholder:"Ask Century",value:e,onChange:c=>t(c.target.value),onKeyDown:c=>i(c,e,o),className:"flex-1 text-sm border-none px-3 xl:text-base text-[#505050] outline-none placeholder:text-[#595c5f] dark:text-white dark:placeholder:text-[#9a9fa5]",type:"text",name:"chat-field",id:"chat-field"}),b.jsxs("div",{className:"mt-4 xl:mt-6 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"group relative",children:[b.jsx(bh,{className:"menu-btns text-3xl xl:text-4xl text-[#595c5f] dark:text-[#868a8f]"}),b.jsx("p",{className:"bottom-tooltip",children:"Add files"})]}),b.jsxs("div",{className:"group relative",children:[b.jsxs("button",{"aria-label":"Deep research",className:"menu-btns flex items-center gap-2 text-sm text-[#595c5f] dark:text-[#868a8f]",children:[b.jsx(ib,{className:"text-lg xl:text-xl"}),b.jsx("span",{className:"hidden xl:block",children:"Deep Research"})]}),b.jsx("p",{className:"bottom-tooltip",children:"Get in depth answers"})]}),b.jsxs("div",{className:"group relative",children:[b.jsxs("button",{"aria-label":"Canvas",className:"menu-btns flex items-center gap-2 text-sm text-[#595c5f] dark:text-[#868a8f]",children:[b.jsx(JA,{className:"text-lg xl:text-xl"}),b.jsx("span",{className:"hidden xl:block",children:"Canvas"})]}),b.jsx("p",{className:"bottom-tooltip",children:"Create docs and apps"})]})]}),e.trim().length>=1?b.jsxs("div",{className:"group relative",children:[b.jsx("span",{onClick:()=>r(e,o),className:"menu-btns flex xl:h-9 xl:w-9 w-7 h-7 items-center justify-center rounded-full p-2 text-[#595c5f] dark:text-white",children:b.jsx(Ah,{className:"text-3xl xl:text-4xl"})}),b.jsx("p",{className:"bottom-tooltip",children:"Submit"})]}):b.jsxs("div",{className:"group relative",children:[b.jsx(UC,{className:"menu-btns text-3xl xl:text-4xl text-[#595c5f] dark:text-[#868a8f]"}),b.jsx("p",{className:"bottom-tooltip",children:"Use microphone"})]})]})]}):b.jsxs("div",{className:"m-auto mt-5 flex w-[95%] items-center overflow-hidden rounded-full border border-[#595c5f]/50 px-2 py-1 text-[#595c5f] xl:w-[45rem] xl:px-4 xl:py-2 dark:border-[#9a9fa5]/50 dark:text-[#868a8f]",children:[b.jsxs("div",{className:"group relative",children:[b.jsx(bh,{className:"menu-btns text-3xl text-[#595c5f] xl:text-4xl dark:text-[#868a8f]"}),b.jsx("p",{className:"bottom-tooltip",children:"Add files"})]}),b.jsx("input",{placeholder:"Ask Century",className:"flex-1 border-none px-1 text-sm text-[#505050] outline-none placeholder:text-sm placeholder:text-[#595c5f] xl:px-3 xl:text-base xl:placeholder:text-base dark:text-white dark:placeholder:text-[#9a9fa5]",type:"text",name:"chat-field",id:"chat-field",value:e,onChange:c=>t(c.target.value),onKeyDown:c=>i(c,e,o)}),e.trim().length>=1?b.jsxs("div",{className:"group relative",children:[b.jsx("span",{onClick:()=>r(e,o),className:"menu-btns flex h-7 w-7 items-center justify-center rounded-full p-2 text-[#595c5f] xl:h-9 xl:w-9 dark:text-white",children:b.jsx(Ah,{className:"text-3xl xl:text-4xl"})}),b.jsx("p",{className:"bottom-tooltip",children:"Submit"})]}):b.jsxs("div",{className:"group relative",children:[b.jsx(UC,{className:"menu-btns text-3xl text-[#595c5f] xl:text-4xl dark:text-[#868a8f]"}),b.jsx("p",{className:"bottom-tooltip",children:"Use microphone"})]})]})})},o$=()=>b.jsx(b.Fragment,{children:b.jsx("h3",{className:"m-auto mt-2 w-fit text-xs xl:text-sm text-[#595c5f] dark:text-[#9a9fa5]",children:"Century can make mistakes, so double-check it"})}),a$=({activeFeedbackIndex:n,feedbacks:e,hideSidebar:t})=>{var i,r;return b.jsx(b.Fragment,{children:n!==null&&b.jsx("div",{className:`${(i=e[n])!=null&&i.feedbackVisible?"opacity-100":"opacity-0"} ${t?"xl:-left-10":"xl:-left-65"} absolute bottom-7 z-[101] rounded-lg  bg-black px-4 py-2 text-white  transition-opacity text-sm xl:text-base duration-700 ease-in`,children:(r=e[n])==null?void 0:r.msg})})},l$=()=>{const{isSignedIn:n,setIsSignedIn:e,showModal:t,handleSubmit:i,promptInput:r,setPromptInput:o,fetchPrompt:l,messages:c,setMessages:h,loading:d,setLoading:y,showMoreOptions:T,setShowMoreOptions:E,hideSidebar:C,recentChat:I}=K.useContext(xn),{handleFeedback:k}=np(),[F,U]=K.useState(null),[q,G]=K.useState(""),[re,ie]=K.useState({}),[Y,V]=K.useState(null),{id:D}=QR(),N=K.useRef(),O=K.useRef(),{setUserData:z}=Kv();function B(W,oe){U(W),G(oe)}function L(){U(null),G("")}async function he(W,oe,M){U(null),G("");const ge=c.slice(0,W+1);ge[W].text=oe,h(ge),o("");try{y(!0);const xe=await iy(oe);h(Te=>[...Te,{id:M,role:"ai",text:xe}])}catch(xe){k("Failed to send new prompt",!0),console.error(xe)}finally{y(!1)}}const me=async(W,oe,M)=>{try{y(!0);const ge=c.slice(0,W+1);h(ge);const xe=await iy(oe);h(Te=>[...Te,{id:M,role:"ai",text:xe}])}catch(ge){k("Failed to regenerate",!0),console.error(ge)}finally{y(!1)}},J=(W,oe)=>{navigator.clipboard.writeText(W).then(()=>{E(!1),ie(M=>({...M,[oe]:{...M[oe],msg:"Copied to clipboard",feedbackVisible:!0}})),V(oe),setTimeout(()=>{ie(M=>({...M,[oe]:{...M[oe],feedbackVisible:!1}})),V(null)},3e3)}).catch(M=>{k("Failed to copy",!0),console.error(M)})};function fe(W){G(W.target.value),W.target.style.height="auto",W.target.style.height=W.target.scrollHeight+"px"}function Ee(W){ie(oe=>({...oe,[W]:{like:!0,dislike:!1,feedbackVisible:!0,msg:"Thank you, Your feedback helps make Century better for everyone"}})),V(W),setTimeout(()=>{ie(oe=>({...oe,[W]:{...oe[W],feedbackVisible:!1}})),V(null)},3e3)}function ke(W){ie(oe=>({...oe,[W]:{like:!1,dislike:!0,feedbackVisible:!0,msg:"Thank you for helping improve Century"}})),V(W),setTimeout(()=>{ie(oe=>({...oe,[W]:{...oe[W],feedbackVisible:!1}})),V(null)},3e3)}const w=async()=>{const W="https://JatinManhotra.github.io/react-century";if(navigator.share)try{await navigator.share({title:"Check out this app!",text:"AI chat app by Jatin ",url:W})}catch(oe){console.error(oe),k("Sharing failed",!0)}else try{await navigator.clipboard.writeText(W),alert("Link copied to clipboard!")}catch(oe){console.error("Failed to copy:",oe),alert("Could not copy the link.")}};return K.useEffect(()=>{if(!D||!(I!=null&&I.length))return;const W=I.find(oe=>oe.id===D);W&&h(W.messages)},[D,I]),K.useEffect(()=>{(async()=>{const oe=ts.currentUser;if(!oe)return;const M=Jr(dr,"users",oe.uid),ge=await Vl(M);if(ge.exists()){const xe=ge.data(),Te=xe.conversations.find(lt=>lt.id===D);Te&&(h(Te.messages),z(xe))}y(!1)})()},[D]),K.useEffect(()=>{var W;(W=N.current)==null||W.scrollIntoView({behavior:"smooth"})},[c]),b.jsxs("section",{className:"relative h-screen w-screen bg-white dark:bg-[#1b1c1d]",children:[b.jsx(Vz,{isSignedIn:n,setIsSignedIn:e}),t&&b.jsx(tb,{}),b.jsx(r$,{handleEditText:B,isSignedIn:n,messages:c,editingIndex:F,editingText:q,handleTextChange:fe,handleSaveEdit:he,id:D,handleCancelEdit:L,feedbacks:re,handleLike:Ee,handleDislike:ke,handleRedo:me,loading:d,handleShare:w,showMoreOptions:T,setShowMoreOptions:E,handleCopy:J,moreBtnRef:O,bottomRef:N,logo:jv}),b.jsx(s$,{isSignedIn:n,promptInput:r,setPromptInput:o,fetchPrompt:l,handleSubmit:i,id:D}),b.jsx(o$,{}),b.jsx(a$,{activeFeedbackIndex:Y,feedbacks:re,hideSidebar:C})]})},u$=()=>{const{globalFeedback:n}=K.useContext(xn);return b.jsx(_z,{children:b.jsxs(b.Fragment,{children:[b.jsx("header",{children:b.jsx("h1",{className:"hidden",children:"This is a header"})}),b.jsxs("main",{className:"relative flex",children:[b.jsx(Tz,{}),b.jsxs(ck,{children:[b.jsx(Ug,{path:"/",element:b.jsx(Lz,{})}),b.jsx(Ug,{path:"/chat/:id",element:b.jsx(l$,{})})]}),b.jsxs("div",{className:`${n.visible?"opacity-100":"opacity-0"} pointer-events-none absolute top-5 left-[50%] z-[101] flex translate-x-[-50%] items-center gap-4 text-sm xl:text-base rounded-lg  bg-black px-4 py-2 text-white transition-opacity duration-300 ease-in`,children:[n.errorIcon?b.jsx(mz,{className:" xl:text-lg text-red-500"}):b.jsx(fz,{className:" xl:text-lg text-green-500"}),b.jsxs("p",{children:[" ",n.msg]})]})]}),b.jsx("footer",{children:b.jsx("section",{className:"fixed right-0 bottom-0 left-0 z-[200] bg-blue-500 dark:bg-cyan-500",children:b.jsxs("p",{className:"flex text-sm xl:text-base items-center justify-center gap-2",children:["Made with ",b.jsx(ez,{className:"text-rose-500"})," by"," ",b.jsx("a",{target:"_blank",className:"hover:text-white",href:"https://github.com/JatinManhotra",children:"Jatin Manhotra"})]})})})]})})};vR.createRoot(document.getElementById("root")).render(b.jsx(Pk,{children:b.jsx(BF,{children:b.jsx(u$,{})})}));
